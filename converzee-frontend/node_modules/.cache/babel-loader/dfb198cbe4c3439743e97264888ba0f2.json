{"ast":null,"code":"var _jsxFileName = \"/opt/bitnami/apache/htdocs/converzee-frontend/src/components/admin/index.js\";\nimport React, { Component } from 'react';\nimport './Admin.css';\nimport { Select, Modal, Result, Icon, Input, Switch } from 'antd';\nimport ToolUtil, { resetToolAccess } from '../../utils/ToolUtil';\nimport { VerifyCreateAccount, checkTools } from '../../actions/ResellerUtil';\nimport RequestHandler from '../../actions/RequestHandler';\nimport { ADD_RESELLER_USER, KEY_GENERATE, SEND_LINK_BY_URL, getPath, USER_DISABLE } from '../../actions/URLs';\nimport { dateParser } from '../Util';\nimport { getUserList, parseUserData } from '../comman/TableWithData';\nimport { ToolSelectorDropDown } from '../comman/DropDown';\nconst {\n  Option\n} = Select;\nexport default class Admin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email1: '',\n      email2: '',\n      password: '',\n      tools: [],\n      url: '',\n      key: null,\n      count: 0,\n      user: [],\n      keys: 0,\n      consumeLicence: 0\n    };\n    this.toolOptions = [];\n\n    this.handleChange = value => {\n      this.setState({\n        tools: value\n      });\n    };\n\n    this.updateKeysData = () => {\n      resetToolAccess((data, err) => {\n        if (data) this.setState({\n          keys: data.keys,\n          consumeLicence: data.consumeLicence\n        });\n        this.getUser();\n      });\n    };\n\n    this.getUser = () => {\n      getUserList(2, (data, err) => {\n        if (data) {\n          this.setState({\n            user: parseUserData(data)\n          });\n        }\n      });\n    };\n\n    this.handleFieldChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.renderTools = tool => {\n      return React.createElement(Option, {\n        key: tool.id,\n        value: tool.id,\n        label: tool.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, tool.name);\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false,\n        success: null,\n        key: null\n      });\n    };\n\n    this.onCreateAccount = accountType => {\n      const {\n        email1,\n        password,\n        tools\n      } = this.state;\n\n      if (VerifyCreateAccount(email1, password) && checkTools(tools)) {\n        RequestHandler.PostRequest(ADD_RESELLER_USER, {\n          userData: {\n            email: email1,\n            password: password,\n            allowedTool: tools\n          }\n        }, (res, err) => {\n          if (res) {\n            this.setState({\n              visible: true,\n              success: true\n            });\n          } else {\n            // this.setState({ visible: true, success: false });\n            window.gs.toast(res.data.message, {\n              position: 'bottom-right',\n              type: window.gs.toast.TYPE.FAILED\n            });\n          }\n        });\n      }\n    };\n\n    this.generateKey = () => {\n      const {\n        tools\n      } = this.state;\n      RequestHandler.PostRequest(KEY_GENERATE, {\n        toolData: {\n          tools\n        }\n      }, (res, err) => {\n        if (res) {\n          this.setState({\n            visible: true,\n            success: true,\n            key: res.data.key\n          });\n          this.updateKeysData();\n        } else {\n          this.setState({\n            visible: true,\n            success: false\n          });\n        }\n      });\n    };\n\n    this.sendKey = () => {\n      const {\n        tools,\n        email2\n      } = this.state;\n      RequestHandler.PostRequest(SEND_LINK_BY_URL, {\n        userData: {\n          email: email2,\n          tools\n        }\n      }, (res, err) => {\n        if (res) {\n          this.setState({\n            visible: true,\n            success: true\n          });\n          this.updateKeysData();\n        } else {\n          this.setState({\n            visible: true,\n            success: false\n          });\n          window.gs.toast('Failed', {\n            position: 'bottom-right',\n            type: window.gs.toast.TYPE.FAILED\n          });\n        }\n      });\n    };\n\n    this.onDeActive = (id, isActive) => {\n      RequestHandler.PostRequest(USER_DISABLE, {\n        userData: {\n          id,\n          isActive\n        }\n      }, (res, err) => {\n        Modal.success({\n          content: 'SuccessFully'\n        });\n      });\n    };\n\n    this.onDelete = id => {\n      console.log(id);\n    };\n  }\n\n  componentDidMount() {\n    this.toolOptions = ToolUtil.getToolsOptions();\n    this.setState({\n      keys: this.props.keys,\n      consumeLicence: this.props.consumeLicence\n    });\n    this.setState({\n      count: 1\n    });\n    this.getUser();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {\n      keys,\n      consumeLicence\n    } = this.state;\n\n    if (nextProps.keys != keys || nextProps.consumeLicence != consumeLicence) {\n      this.setState({\n        keys: nextProps.keys,\n        consumeLicence: nextProps.consumeLicence\n      });\n    }\n  }\n\n  render() {\n    const {\n      email1,\n      email2,\n      password,\n      tools,\n      url,\n      visible,\n      success,\n      key,\n      user,\n      keys,\n      consumeLicence\n    } = this.state;\n    const clicks = 5;\n    return React.createElement(\"div\", {\n      className: \"container admin\",\n      name: \"admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, success ? React.createElement(SuccessModel, {\n      visible: visible,\n      askey: key,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }) : React.createElement(FailedModel, {\n      visible: visible,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row dashboard-card m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4 card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, keys), React.createElement(\"div\", {\n      className: \"card-subtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Key Created\")), React.createElement(\"div\", {\n      className: \"col-8 card-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid\",\n      src: getPath('asset/group-14.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row dashboard-card m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4 card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, consumeLicence), React.createElement(\"div\", {\n      className: \"card-subtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Key Used\")), React.createElement(\"div\", {\n      className: \"col-8 card-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid\",\n      src: getPath('asset/group-15.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row dashboard-card m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4 card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, user.length), React.createElement(\"div\", {\n      className: \"card-subtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Users\")), React.createElement(\"div\", {\n      className: \"col-8 card-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid\",\n      src: getPath('asset/group-16.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        paddingTop: '35px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card adminform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Create Account\"), React.createElement(\"div\", {\n      className: \"form-group admin-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(Input, {\n      name: \"email1\",\n      onChange: this.handleFieldChange,\n      value: email1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group admin-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Input.Password, {\n      name: \"password\",\n      onChange: this.handleFieldChange,\n      value: password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group admin-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Tools\"), React.createElement(ToolSelectorDropDown, {\n      defaultValue: tools,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-sm primaryBtn\",\n      onClick: this.onCreateAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Create Account\"))), React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card adminform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Send Access By Email\"), React.createElement(\"div\", {\n      className: \"form-group admin-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(Input, {\n      name: \"email2\",\n      value: email2,\n      onChange: this.handleFieldChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group admin-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Tools\"), React.createElement(ToolSelectorDropDown, {\n      defaultValue: tools,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.sendKey,\n      className: \"btn btn-sm primaryBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Send Email with Key\"))), React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-12 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card adminform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Send Access By Key\"), React.createElement(\"div\", {\n      className: \"form-group admin-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Tools\"), React.createElement(ToolSelectorDropDown, {\n      defaultValue: tools,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-sm primaryBtn\",\n      onClick: this.generateKey,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Send access by email\")))), React.createElement(\"div\", {\n      style: {\n        marginTop: '10px'\n      },\n      className: \"box-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"Active Accounts\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(USERTABLE, {\n      data: user,\n      onDelete: this.onDelete,\n      onDeActive: this.onDeActive,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst SuccessModel = function (props) {\n  if (props.askey) {\n    return React.createElement(Modal, {\n      title: \"Success\",\n      centered: true,\n      visible: props.visible,\n      onOk: () => props.onClose(false),\n      onCancel: () => props.onClose(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(Result, {\n      status: \"success\",\n      title: \"Successfully Generate the Key\",\n      subTitle: props.askey,\n      extra: [React.createElement(Input, {\n        addonAfter: React.createElement(Icon, {\n          type: \"copy\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }),\n        defaultValue: props.askey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      })],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(Modal, {\n      title: \"Success\",\n      centered: true,\n      visible: props.visible,\n      onOk: () => props.onClose(false),\n      onCancel: () => props.onClose(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Result, {\n      status: \"success\",\n      title: \"Successfully Generate the Key\",\n      subTitle: props.key,\n      extra: [],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }));\n  }\n};\n\nconst FailedModel = function (props) {\n  return React.createElement(Modal, {\n    title: \"Failed\",\n    centered: true,\n    visible: props.visible,\n    onOk: () => props.onClose(false),\n    onCancel: () => props.onClose(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378\n    },\n    __self: this\n  }, React.createElement(Result, {\n    status: \"warning\",\n    title: \"Something went Wrong\",\n    subTitle: '',\n    extra: [],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385\n    },\n    __self: this\n  }));\n};\n\nconst USERTABLE = function (props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table userTable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403\n    },\n    __self: this\n  }, \"Active\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404\n    },\n    __self: this\n  }, \"Created\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408\n    },\n    __self: this\n  }, props.data.map((value, i) => React.createElement(USERROW, {\n    key: i,\n    item: value,\n    onDelete: props.onDelete,\n    onDeActive: props.onDeActive,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410\n    },\n    __self: this\n  })))));\n};\n\nconst USERROW = function (props) {\n  const item = props.item;\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427\n    },\n    __self: this\n  }, item.firstname), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  }, item.email), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    size: \"small\",\n    defaultChecked: item.isActive,\n    onChange: () => props.onDeActive(item.id, item.isActive),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430\n    },\n    __self: this\n  })), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }, dateParser(item.date)));\n};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/admin/index.js"],"names":["React","Component","Select","Modal","Result","Icon","Input","Switch","ToolUtil","resetToolAccess","VerifyCreateAccount","checkTools","RequestHandler","ADD_RESELLER_USER","KEY_GENERATE","SEND_LINK_BY_URL","getPath","USER_DISABLE","dateParser","getUserList","parseUserData","ToolSelectorDropDown","Option","Admin","state","email1","email2","password","tools","url","key","count","user","keys","consumeLicence","toolOptions","handleChange","value","setState","updateKeysData","data","err","getUser","handleFieldChange","e","target","name","renderTools","tool","id","onClose","visible","success","onCreateAccount","accountType","PostRequest","userData","email","allowedTool","res","window","gs","toast","message","position","type","TYPE","FAILED","generateKey","toolData","sendKey","onDeActive","isActive","content","onDelete","console","log","componentDidMount","getToolsOptions","props","componentWillReceiveProps","nextProps","render","clicks","length","paddingTop","marginTop","SuccessModel","askey","FailedModel","USERTABLE","map","i","USERROW","item","firstname","date"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,MAAxB,EAAgCC,IAAhC,EAAsCC,KAAtC,EAA6CC,MAA7C,QAA2D,MAA3D;AACA,OAAOC,QAAP,IAAmBC,eAAnB,QAA0C,sBAA1C;AACA,SAASC,mBAAT,EAA8BC,UAA9B,QAAgD,4BAAhD;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SACEC,iBADF,EAEEC,YAFF,EAGEC,gBAHF,EAIEC,OAJF,EAKEC,YALF,QAMO,oBANP;AAOA,SAASC,UAAT,QAA2B,SAA3B;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,yBAA3C;AACA,SAASC,oBAAT,QAAqC,oBAArC;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAapB,MAAnB;AACA,eAAe,MAAMqB,KAAN,SAAoBtB,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC3CuB,KAD2C,GACnC;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,KAAK,EAAE,EAJD;AAKNC,MAAAA,GAAG,EAAE,EALC;AAMNC,MAAAA,GAAG,EAAE,IANC;AAONC,MAAAA,KAAK,EAAE,CAPD;AAQNC,MAAAA,IAAI,EAAE,EARA;AASNC,MAAAA,IAAI,EAAE,CATA;AAUNC,MAAAA,cAAc,EAAE;AAVV,KADmC;AAAA,SAkC3CC,WAlC2C,GAkC7B,EAlC6B;;AAAA,SAoC3CC,YApC2C,GAoC3BC,KAAD,IAAW;AACxB,WAAKC,QAAL,CAAc;AAAEV,QAAAA,KAAK,EAAES;AAAT,OAAd;AACD,KAtC0C;;AAAA,SAwC3CE,cAxC2C,GAwC1B,MAAM;AACrB9B,MAAAA,eAAe,CAAC,CAAC+B,IAAD,EAAOC,GAAP,KAAe;AAC7B,YAAID,IAAJ,EACE,KAAKF,QAAL,CAAc;AAAEL,UAAAA,IAAI,EAAEO,IAAI,CAACP,IAAb;AAAmBC,UAAAA,cAAc,EAAEM,IAAI,CAACN;AAAxC,SAAd;AACF,aAAKQ,OAAL;AACD,OAJc,CAAf;AAKD,KA9C0C;;AAAA,SAgD3CA,OAhD2C,GAgDjC,MAAM;AACdvB,MAAAA,WAAW,CAAC,CAAD,EAAI,CAACqB,IAAD,EAAOC,GAAP,KAAe;AAC5B,YAAID,IAAJ,EAAU;AACR,eAAKF,QAAL,CAAc;AAAEN,YAAAA,IAAI,EAAEZ,aAAa,CAACoB,IAAD;AAArB,WAAd;AACD;AACF,OAJU,CAAX;AAKD,KAtD0C;;AAAA,SAwD3CG,iBAxD2C,GAwDtBC,CAAD,IAAO;AACzB,WAAKN,QAAL,CAAc;AAAE,SAACM,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASR;AAA5B,OAAd;AACD,KA1D0C;;AAAA,SA4D3CU,WA5D2C,GA4D5BC,IAAD,IAAU;AACtB,aACE,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAEA,IAAI,CAACC,EAAlB;AAAsB,QAAA,KAAK,EAAED,IAAI,CAACC,EAAlC;AAAsC,QAAA,KAAK,EAAED,IAAI,CAACF,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGE,IAAI,CAACF,IADR,CADF;AAKD,KAlE0C;;AAAA,SAoE3CI,OApE2C,GAoEjC,MAAM;AACd,WAAKZ,QAAL,CAAc;AAAEa,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAE,IAA3B;AAAiCtB,QAAAA,GAAG,EAAE;AAAtC,OAAd;AACD,KAtE0C;;AAAA,SAwE3CuB,eAxE2C,GAwExBC,WAAD,IAAiB;AACjC,YAAM;AAAE7B,QAAAA,MAAF;AAAUE,QAAAA,QAAV;AAAoBC,QAAAA;AAApB,UAA8B,KAAKJ,KAAzC;;AACA,UAAId,mBAAmB,CAACe,MAAD,EAASE,QAAT,CAAnB,IAAyChB,UAAU,CAACiB,KAAD,CAAvD,EAAgE;AAC9DhB,QAAAA,cAAc,CAAC2C,WAAf,CACE1C,iBADF,EAEE;AAAE2C,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,KAAK,EAAEhC,MAAT;AAAiBE,YAAAA,QAAQ,EAAEA,QAA3B;AAAqC+B,YAAAA,WAAW,EAAE9B;AAAlD;AAAZ,SAFF,EAGE,CAAC+B,GAAD,EAAMlB,GAAN,KAAc;AACZ,cAAIkB,GAAJ,EAAS;AACP,iBAAKrB,QAAL,CAAc;AAAEa,cAAAA,OAAO,EAAE,IAAX;AAAiBC,cAAAA,OAAO,EAAE;AAA1B,aAAd;AACD,WAFD,MAEO;AACL;AACAQ,YAAAA,MAAM,CAACC,EAAP,CAAUC,KAAV,CAAgBH,GAAG,CAACnB,IAAJ,CAASuB,OAAzB,EAAkC;AAChCC,cAAAA,QAAQ,EAAE,cADsB;AAEhCC,cAAAA,IAAI,EAAEL,MAAM,CAACC,EAAP,CAAUC,KAAV,CAAgBI,IAAhB,CAAqBC;AAFK,aAAlC;AAID;AACF,SAbH;AAeD;AACF,KA3F0C;;AAAA,SA6F3CC,WA7F2C,GA6F7B,MAAM;AAClB,YAAM;AAAExC,QAAAA;AAAF,UAAY,KAAKJ,KAAvB;AACAZ,MAAAA,cAAc,CAAC2C,WAAf,CACEzC,YADF,EAEE;AAAEuD,QAAAA,QAAQ,EAAE;AAAEzC,UAAAA;AAAF;AAAZ,OAFF,EAGE,CAAC+B,GAAD,EAAMlB,GAAN,KAAc;AACZ,YAAIkB,GAAJ,EAAS;AACP,eAAKrB,QAAL,CAAc;AAAEa,YAAAA,OAAO,EAAE,IAAX;AAAiBC,YAAAA,OAAO,EAAE,IAA1B;AAAgCtB,YAAAA,GAAG,EAAE6B,GAAG,CAACnB,IAAJ,CAASV;AAA9C,WAAd;AACA,eAAKS,cAAL;AACD,SAHD,MAGO;AACL,eAAKD,QAAL,CAAc;AAAEa,YAAAA,OAAO,EAAE,IAAX;AAAiBC,YAAAA,OAAO,EAAE;AAA1B,WAAd;AACD;AACF,OAVH;AAYD,KA3G0C;;AAAA,SA6G3CkB,OA7G2C,GA6GjC,MAAM;AACd,YAAM;AAAE1C,QAAAA,KAAF;AAASF,QAAAA;AAAT,UAAoB,KAAKF,KAA/B;AACAZ,MAAAA,cAAc,CAAC2C,WAAf,CACExC,gBADF,EAEE;AAAEyC,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,KAAK,EAAE/B,MAAT;AAAiBE,UAAAA;AAAjB;AAAZ,OAFF,EAGE,CAAC+B,GAAD,EAAMlB,GAAN,KAAc;AACZ,YAAIkB,GAAJ,EAAS;AACP,eAAKrB,QAAL,CAAc;AAAEa,YAAAA,OAAO,EAAE,IAAX;AAAiBC,YAAAA,OAAO,EAAE;AAA1B,WAAd;AACA,eAAKb,cAAL;AACD,SAHD,MAGO;AACL,eAAKD,QAAL,CAAc;AAAEa,YAAAA,OAAO,EAAE,IAAX;AAAiBC,YAAAA,OAAO,EAAE;AAA1B,WAAd;AACAQ,UAAAA,MAAM,CAACC,EAAP,CAAUC,KAAV,CAAgB,QAAhB,EAA0B;AACxBE,YAAAA,QAAQ,EAAE,cADc;AAExBC,YAAAA,IAAI,EAAEL,MAAM,CAACC,EAAP,CAAUC,KAAV,CAAgBI,IAAhB,CAAqBC;AAFH,WAA1B;AAID;AACF,OAdH;AAgBD,KA/H0C;;AAAA,SAiI3CI,UAjI2C,GAiI9B,CAACtB,EAAD,EAAKuB,QAAL,KAAkB;AAC7B5D,MAAAA,cAAc,CAAC2C,WAAf,CACEtC,YADF,EAEE;AAAEuC,QAAAA,QAAQ,EAAE;AAAEP,UAAAA,EAAF;AAAMuB,UAAAA;AAAN;AAAZ,OAFF,EAGE,CAACb,GAAD,EAAMlB,GAAN,KAAc;AACZtC,QAAAA,KAAK,CAACiD,OAAN,CAAc;AACZqB,UAAAA,OAAO,EAAE;AADG,SAAd;AAGD,OAPH;AASD,KA3I0C;;AAAA,SA6I3CC,QA7I2C,GA6I/BzB,EAAD,IAAQ;AACjB0B,MAAAA,OAAO,CAACC,GAAR,CAAY3B,EAAZ;AACD,KA/I0C;AAAA;;AAc3C4B,EAAAA,iBAAiB,GAAG;AAClB,SAAK1C,WAAL,GAAmB3B,QAAQ,CAACsE,eAAT,EAAnB;AACA,SAAKxC,QAAL,CAAc;AACZL,MAAAA,IAAI,EAAE,KAAK8C,KAAL,CAAW9C,IADL;AAEZC,MAAAA,cAAc,EAAE,KAAK6C,KAAL,CAAW7C;AAFf,KAAd;AAIA,SAAKI,QAAL,CAAc;AAAEP,MAAAA,KAAK,EAAE;AAAT,KAAd;AACA,SAAKW,OAAL;AACD;;AAEDsC,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACnC,UAAM;AAAEhD,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAA2B,KAAKV,KAAtC;;AACA,QAAIyD,SAAS,CAAChD,IAAV,IAAkBA,IAAlB,IAA0BgD,SAAS,CAAC/C,cAAV,IAA4BA,cAA1D,EAA0E;AACxE,WAAKI,QAAL,CAAc;AACZL,QAAAA,IAAI,EAAEgD,SAAS,CAAChD,IADJ;AAEZC,QAAAA,cAAc,EAAE+C,SAAS,CAAC/C;AAFd,OAAd;AAID;AACF;;AAiHDgD,EAAAA,MAAM,GAAG;AACP,UAAM;AACJzD,MAAAA,MADI;AAEJC,MAAAA,MAFI;AAGJC,MAAAA,QAHI;AAIJC,MAAAA,KAJI;AAKJC,MAAAA,GALI;AAMJsB,MAAAA,OANI;AAOJC,MAAAA,OAPI;AAQJtB,MAAAA,GARI;AASJE,MAAAA,IATI;AAUJC,MAAAA,IAVI;AAWJC,MAAAA;AAXI,QAYF,KAAKV,KAZT;AAaA,UAAM2D,MAAM,GAAG,CAAf;AACA,WACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAiC,MAAA,IAAI,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG/B,OAAO,GACN,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAED,OAAvB;AAAgC,MAAA,KAAK,EAAErB,GAAvC;AAA4C,MAAA,OAAO,EAAE,KAAKoB,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADM,GAGN,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAEC,OAAtB;AAA+B,MAAA,OAAO,EAAE,KAAKD,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAME;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BjB,IAA5B,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,GAAG,EAAEjB,OAAO,CAAC,oBAAD,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CADF,CADF,EAeE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BkB,cAA5B,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,GAAG,EAAElB,OAAO,CAAC,oBAAD,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CADF,CAfF,EA6BE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BgB,IAAI,CAACoD,MAAjC,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,GAAG,EAAEpE,OAAO,CAAC,oBAAD,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CADF,CA7BF,CANF,EAkDE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAAEqE,QAAAA,UAAU,EAAE;AAAd,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,QAAQ,EAAE,KAAK1C,iBAFjB;AAGE,MAAA,KAAK,EAAElB,MAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,EAUE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,KAAD,CAAO,QAAP;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,QAAQ,EAAE,KAAKkB,iBAFjB;AAGE,MAAA,KAAK,EAAEhB,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAVF,EAkBE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAKE,oBAAC,oBAAD;AACE,MAAA,YAAY,EAAEC,KADhB;AAEE,MAAA,QAAQ,EAAE,KAAKQ,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAlBF,EA4BE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,uBAFZ;AAGE,MAAA,OAAO,EAAE,KAAKiB,eAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA5BF,CADF,CADF,EAuCE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,GAAG,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAE3B,MAFT;AAGE,MAAA,QAAQ,EAAE,KAAKiB,iBAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,EAUE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,GAAG,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAKE,oBAAC,oBAAD;AACE,MAAA,YAAY,EAAEf,KADhB;AAEE,MAAA,QAAQ,EAAE,KAAKQ,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAVF,EAoBE;AAAQ,MAAA,OAAO,EAAE,KAAKkC,OAAtB;AAA+B,MAAA,SAAS,EAAC,uBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BApBF,CADF,CAvCF,EAiEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,GAAG,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAKE,oBAAC,oBAAD;AACE,MAAA,YAAY,EAAE1C,KADhB;AAEE,MAAA,QAAQ,EAAE,KAAKQ,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAFF,EAYE;AACE,MAAA,SAAS,EAAC,uBADZ;AAEE,MAAA,OAAO,EAAE,KAAKgC,WAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAZF,CADF,CAjEF,CAlDF,EAyIE;AAAK,MAAA,KAAK,EAAE;AAAEkB,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAmC,MAAA,SAAS,EAAC,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAzIF,EA4IE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AACE,MAAA,IAAI,EAAEtD,IADR;AAEE,MAAA,QAAQ,EAAE,KAAK0C,QAFjB;AAGE,MAAA,UAAU,EAAE,KAAKH,UAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CA5IF,CADF;AAwJD;;AAxT0C;;AA2T7C,MAAMgB,YAAY,GAAG,UAAUR,KAAV,EAAiB;AACpC,MAAIA,KAAK,CAACS,KAAV,EAAiB;AACf,WACE,oBAAC,KAAD;AACE,MAAA,KAAK,EAAC,SADR;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,OAAO,EAAET,KAAK,CAAC5B,OAHjB;AAIE,MAAA,IAAI,EAAE,MAAM4B,KAAK,CAAC7B,OAAN,CAAc,KAAd,CAJd;AAKE,MAAA,QAAQ,EAAE,MAAM6B,KAAK,CAAC7B,OAAN,CAAc,KAAd,CALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAC,SADT;AAEE,MAAA,KAAK,EAAC,+BAFR;AAGE,MAAA,QAAQ,EAAE6B,KAAK,CAACS,KAHlB;AAIE,MAAA,KAAK,EAAE,CACL,oBAAC,KAAD;AACE,QAAA,UAAU,EAAE,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADd;AAEE,QAAA,YAAY,EAAET,KAAK,CAACS,KAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADK,CAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAqBD,GAtBD,MAsBO;AACL,WACE,oBAAC,KAAD;AACE,MAAA,KAAK,EAAC,SADR;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,OAAO,EAAET,KAAK,CAAC5B,OAHjB;AAIE,MAAA,IAAI,EAAE,MAAM4B,KAAK,CAAC7B,OAAN,CAAc,KAAd,CAJd;AAKE,MAAA,QAAQ,EAAE,MAAM6B,KAAK,CAAC7B,OAAN,CAAc,KAAd,CALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAC,SADT;AAEE,MAAA,KAAK,EAAC,+BAFR;AAGE,MAAA,QAAQ,EAAE6B,KAAK,CAACjD,GAHlB;AAIE,MAAA,KAAK,EAAE,EAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAgBD;AACF,CAzCD;;AA2CA,MAAM2D,WAAW,GAAG,UAAUV,KAAV,EAAiB;AACnC,SACE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAC,QADR;AAEE,IAAA,QAAQ,MAFV;AAGE,IAAA,OAAO,EAAEA,KAAK,CAAC5B,OAHjB;AAIE,IAAA,IAAI,EAAE,MAAM4B,KAAK,CAAC7B,OAAN,CAAc,KAAd,CAJd;AAKE,IAAA,QAAQ,EAAE,MAAM6B,KAAK,CAAC7B,OAAN,CAAc,KAAd,CALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAC,SADT;AAEE,IAAA,KAAK,EAAC,sBAFR;AAGE,IAAA,QAAQ,EAAE,EAHZ;AAIE,IAAA,KAAK,EAAE,EAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF;AAgBD,CAjBD;;AAmBA,MAAMwC,SAAS,GAAG,UAAUX,KAAV,EAAiB;AACjC,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,CADF,CADF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,KAAK,CAACvC,IAAN,CAAWmD,GAAX,CAAe,CAACtD,KAAD,EAAQuD,CAAR,KACd,oBAAC,OAAD;AACE,IAAA,GAAG,EAAEA,CADP;AAEE,IAAA,IAAI,EAAEvD,KAFR;AAGE,IAAA,QAAQ,EAAE0C,KAAK,CAACL,QAHlB;AAIE,IAAA,UAAU,EAAEK,KAAK,CAACR,UAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CAVF,CADF,CADF;AAyBD,CA1BD;;AA4BA,MAAMsB,OAAO,GAAG,UAAUd,KAAV,EAAiB;AAC/B,QAAMe,IAAI,GAAGf,KAAK,CAACe,IAAnB;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAI,CAACC,SAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,IAAI,CAACrC,KAAV,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,cAAc,EAAEqC,IAAI,CAACtB,QAFvB;AAGE,IAAA,QAAQ,EAAE,MAAMO,KAAK,CAACR,UAAN,CAAiBuB,IAAI,CAAC7C,EAAtB,EAA0B6C,IAAI,CAACtB,QAA/B,CAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtD,UAAU,CAAC4E,IAAI,CAACE,IAAN,CAAf,CAXF,CADF;AAsBD,CAxBD","sourcesContent":["import React, { Component } from 'react';\nimport './Admin.css';\nimport { Select, Modal, Result, Icon, Input, Switch } from 'antd';\nimport ToolUtil, { resetToolAccess } from '../../utils/ToolUtil';\nimport { VerifyCreateAccount, checkTools } from '../../actions/ResellerUtil';\nimport RequestHandler from '../../actions/RequestHandler';\nimport {\n  ADD_RESELLER_USER,\n  KEY_GENERATE,\n  SEND_LINK_BY_URL,\n  getPath,\n  USER_DISABLE,\n} from '../../actions/URLs';\nimport { dateParser } from '../Util';\nimport { getUserList, parseUserData } from '../comman/TableWithData';\nimport { ToolSelectorDropDown } from '../comman/DropDown';\nconst { Option } = Select;\nexport default class Admin extends Component {\n  state = {\n    email1: '',\n    email2: '',\n    password: '',\n    tools: [],\n    url: '',\n    key: null,\n    count: 0,\n    user: [],\n    keys: 0,\n    consumeLicence: 0,\n  };\n\n  componentDidMount() {\n    this.toolOptions = ToolUtil.getToolsOptions();\n    this.setState({\n      keys: this.props.keys,\n      consumeLicence: this.props.consumeLicence,\n    });\n    this.setState({ count: 1 });\n    this.getUser();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { keys, consumeLicence } = this.state;\n    if (nextProps.keys != keys || nextProps.consumeLicence != consumeLicence) {\n      this.setState({\n        keys: nextProps.keys,\n        consumeLicence: nextProps.consumeLicence,\n      });\n    }\n  }\n\n  toolOptions = [];\n\n  handleChange = (value) => {\n    this.setState({ tools: value });\n  };\n\n  updateKeysData = () => {\n    resetToolAccess((data, err) => {\n      if (data)\n        this.setState({ keys: data.keys, consumeLicence: data.consumeLicence });\n      this.getUser();\n    });\n  };\n\n  getUser = () => {\n    getUserList(2, (data, err) => {\n      if (data) {\n        this.setState({ user: parseUserData(data) });\n      }\n    });\n  };\n\n  handleFieldChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  renderTools = (tool) => {\n    return (\n      <Option key={tool.id} value={tool.id} label={tool.name}>\n        {tool.name}\n      </Option>\n    );\n  };\n\n  onClose = () => {\n    this.setState({ visible: false, success: null, key: null });\n  };\n\n  onCreateAccount = (accountType) => {\n    const { email1, password, tools } = this.state;\n    if (VerifyCreateAccount(email1, password) && checkTools(tools)) {\n      RequestHandler.PostRequest(\n        ADD_RESELLER_USER,\n        { userData: { email: email1, password: password, allowedTool: tools } },\n        (res, err) => {\n          if (res) {\n            this.setState({ visible: true, success: true });\n          } else {\n            // this.setState({ visible: true, success: false });\n            window.gs.toast(res.data.message, {\n              position: 'bottom-right',\n              type: window.gs.toast.TYPE.FAILED,\n            });\n          }\n        }\n      );\n    }\n  };\n\n  generateKey = () => {\n    const { tools } = this.state;\n    RequestHandler.PostRequest(\n      KEY_GENERATE,\n      { toolData: { tools } },\n      (res, err) => {\n        if (res) {\n          this.setState({ visible: true, success: true, key: res.data.key });\n          this.updateKeysData();\n        } else {\n          this.setState({ visible: true, success: false });\n        }\n      }\n    );\n  };\n\n  sendKey = () => {\n    const { tools, email2 } = this.state;\n    RequestHandler.PostRequest(\n      SEND_LINK_BY_URL,\n      { userData: { email: email2, tools } },\n      (res, err) => {\n        if (res) {\n          this.setState({ visible: true, success: true });\n          this.updateKeysData();\n        } else {\n          this.setState({ visible: true, success: false });\n          window.gs.toast('Failed', {\n            position: 'bottom-right',\n            type: window.gs.toast.TYPE.FAILED,\n          });\n        }\n      }\n    );\n  };\n\n  onDeActive = (id, isActive) => {\n    RequestHandler.PostRequest(\n      USER_DISABLE,\n      { userData: { id, isActive } },\n      (res, err) => {\n        Modal.success({\n          content: 'SuccessFully',\n        });\n      }\n    );\n  };\n\n  onDelete = (id) => {\n    console.log(id);\n  };\n\n  render() {\n    const {\n      email1,\n      email2,\n      password,\n      tools,\n      url,\n      visible,\n      success,\n      key,\n      user,\n      keys,\n      consumeLicence,\n    } = this.state;\n    const clicks = 5;\n    return (\n      <div className=\"container admin\" name=\"admin\">\n        {success ? (\n          <SuccessModel visible={visible} askey={key} onClose={this.onClose} />\n        ) : (\n          <FailedModel visible={visible} onClose={this.onClose} />\n        )}\n        <div className=\"row\">\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\n            <div className=\"row dashboard-card m-3\">\n              <div className=\"col-4 card-title\">\n                <div className=\"card-text\">{keys}</div>\n                <div className=\"card-subtext\">Key Created</div>\n              </div>\n              <div className=\"col-8 card-img\">\n                <img\n                  className=\"img-fluid\"\n                  src={getPath('asset/group-14.png')}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\n            <div className=\"row dashboard-card m-3\">\n              <div className=\"col-4 card-title\">\n                <div className=\"card-text\">{consumeLicence}</div>\n                <div className=\"card-subtext\">Key Used</div>\n              </div>\n              <div className=\"col-8 card-img\">\n                <img\n                  className=\"img-fluid\"\n                  src={getPath('asset/group-15.png')}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\n            <div className=\"row dashboard-card m-3\">\n              <div className=\"col-4 card-title\">\n                <div className=\"card-text\">{user.length}</div>\n                <div className=\"card-subtext\">Users</div>\n              </div>\n              <div className=\"col-8 card-img\">\n                <img\n                  className=\"img-fluid\"\n                  src={getPath('asset/group-16.png')}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\" style={{ paddingTop: '35px' }}>\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\n            <div className=\"card adminform\">\n              <div className=\"box-title\">Create Account</div>\n              <div className=\"form-group admin-form-group\">\n                <label>Email address</label>\n                <Input\n                  name=\"email1\"\n                  onChange={this.handleFieldChange}\n                  value={email1}\n                />\n              </div>\n              <div className=\"form-group admin-form-group\">\n                <label>Password</label>\n                <Input.Password\n                  name=\"password\"\n                  onChange={this.handleFieldChange}\n                  value={password}\n                />\n              </div>\n              <div className=\"form-group admin-form-group\">\n                <label>Tools</label>\n                {/* <Select mode=\"multiple\" style={{ width: \"100%\" }} placeholder=\"Select Product\" defaultValue={tools} onChange={this.handleChange} optionLabelProp=\"label\">\n                  {this.toolOptions.map(this.renderTools)}\n                </Select> */}\n                <ToolSelectorDropDown\n                  defaultValue={tools}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <button\n                type=\"button\"\n                className=\"btn btn-sm primaryBtn\"\n                onClick={this.onCreateAccount}\n              >\n                Create Account\n              </button>\n            </div>\n          </div>\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\n            <div className=\"card adminform\">\n              <div className=\"box-title\">Send Access By Email</div>\n              <div className=\"form-group admin-form-group\">\n                <label for=\"exampleInputEmail1\">Email address</label>\n                <Input\n                  name=\"email2\"\n                  value={email2}\n                  onChange={this.handleFieldChange}\n                />\n              </div>\n              <div className=\"form-group admin-form-group\">\n                <label for=\"exampleInputEmail1\">Tools</label>\n                {/* <Select mode=\"multiple\" style={{ width: \"100%\" }} placeholder=\"Select Product\" defaultValue={tools} onChange={this.handleChange} optionLabelProp=\"label\">\n                  {this.toolOptions.map(this.renderTools)}\n                </Select> */}\n                <ToolSelectorDropDown\n                  defaultValue={tools}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <button onClick={this.sendKey} className=\"btn btn-sm primaryBtn\">\n                Send Email with Key\n              </button>\n            </div>\n          </div>\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\n            <div className=\"card adminform\">\n              <div className=\"box-title\">Send Access By Key</div>\n              <div className=\"form-group admin-form-group\">\n                <label for=\"exampleInputEmail1\">Tools</label>\n                {/* <Select mode=\"multiple\" style={{ width: \"100%\" }} placeholder=\"Select Product\" defaultValue={tools} onChange={this.handleChange} optionLabelProp=\"label\">\n                  {this.toolOptions.map(this.renderTools)}\n                </Select> */}\n                <ToolSelectorDropDown\n                  defaultValue={tools}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <button\n                className=\"btn btn-sm primaryBtn\"\n                onClick={this.generateKey}\n              >\n                Send access by email\n              </button>\n            </div>\n          </div>\n        </div>\n        <div style={{ marginTop: '10px' }} className=\"box-title\">\n          Active Accounts\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <USERTABLE\n              data={user}\n              onDelete={this.onDelete}\n              onDeActive={this.onDeActive}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst SuccessModel = function (props) {\n  if (props.askey) {\n    return (\n      <Modal\n        title=\"Success\"\n        centered\n        visible={props.visible}\n        onOk={() => props.onClose(false)}\n        onCancel={() => props.onClose(false)}\n      >\n        <Result\n          status=\"success\"\n          title=\"Successfully Generate the Key\"\n          subTitle={props.askey}\n          extra={[\n            <Input\n              addonAfter={<Icon type=\"copy\" />}\n              defaultValue={props.askey}\n            />,\n          ]}\n        />\n      </Modal>\n    );\n  } else {\n    return (\n      <Modal\n        title=\"Success\"\n        centered\n        visible={props.visible}\n        onOk={() => props.onClose(false)}\n        onCancel={() => props.onClose(false)}\n      >\n        <Result\n          status=\"success\"\n          title=\"Successfully Generate the Key\"\n          subTitle={props.key}\n          extra={[]}\n        />\n      </Modal>\n    );\n  }\n};\n\nconst FailedModel = function (props) {\n  return (\n    <Modal\n      title=\"Failed\"\n      centered\n      visible={props.visible}\n      onOk={() => props.onClose(false)}\n      onCancel={() => props.onClose(false)}\n    >\n      <Result\n        status=\"warning\"\n        title=\"Something went Wrong\"\n        subTitle={''}\n        extra={[]}\n      />\n    </Modal>\n  );\n};\n\nconst USERTABLE = function (props) {\n  return (\n    <div>\n      <table className=\"table userTable\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Active</th>\n            <th>Created</th>\n            {/* <th>Action</th> */}\n          </tr>\n        </thead>\n        <tbody>\n          {props.data.map((value, i) => (\n            <USERROW\n              key={i}\n              item={value}\n              onDelete={props.onDelete}\n              onDeActive={props.onDeActive}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nconst USERROW = function (props) {\n  const item = props.item;\n  return (\n    <tr>\n      <td>{item.firstname}</td>\n      <td>{item.email}</td>\n      <td>\n        <Switch\n          size=\"small\"\n          defaultChecked={item.isActive}\n          onChange={() => props.onDeActive(item.id, item.isActive)}\n        />\n      </td>\n\n      <td>{dateParser(item.date)}</td>\n      {/* <td>\n        <div class=\"btn-group\">\n          <button className=\"btn btn-sm btn-font-size editbtn\" onClick={() => props.onDelete(item.id)}>\n            <i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete\n          </button>\n        </div>\n      </td> */}\n    </tr>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}