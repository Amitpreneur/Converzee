{"ast":null,"code":"import React,{Component}from\"react\";import\"../../Create.css\";import Code from\"../../../subpages/create/Code\";import RequestHandler from\"../../../../actions/RequestHandler\";import{GET_ONE_TOOL,SAVE_TOOL,getPath}from\"../../../../actions/URLs\";// import Text from \"./Text\";\nimport SideBar from\"./SideBar\";import ToolUtil,{generateIframeContant}from\"../../../../utils/ToolUtil\";import Util,{generateFile}from\"../../../Util\";import{OfferIframeModal}from\"../../../utils/Modal\";import Text from\"./Text\";import SuccessPopup from\"../../../comman/SuccessPopUp\";import{Drawer,Modal}from\"antd\";import{ToolLayout,ButtonsGroup}from\"../../../layout/ToolLayout\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class OfferIframe extends Component{constructor(){super(...arguments);this.state={activeTab:1,TEXT:{url:\"\",title:\"\"}};this.onChangeActive=tabIndex=>{const{activeTab}=this.state;if(activeTab!==tabIndex){this.setState({activeTab:tabIndex});}};this.onUpdate=(index,data)=>{switch(index){case 1:this.setState({TEXT:data});break;case 2:this.setState({cta:data});break;default:break;}};this.renderMain=()=>{const{activeTab,TEXT}=this.state;let component=null;switch(activeTab){case 1:component=/*#__PURE__*/_jsx(Text,{...TEXT,onChange:this.onUpdate});break;case 2:// component = <Timing {...template} onChange={this.onUpdate} />;\nbreak;case 3:// component = <Code {...CODE} onChange={this.onUpdate} />;\nbreak;default:component=/*#__PURE__*/_jsx(Text,{...TEXT,onChange:this.onUpdate});break;}return component;};this.onClickSave=()=>{const{TEXT}=this.state;generateFile(\"index.html\",generateIframeContant(TEXT.url,TEXT.title));Modal.success({content:\"File has been Donwloaded\"});setTimeout(()=>{this.props.history.push(\"/Create\");},2000);};this.renderRight=()=>{return/*#__PURE__*/_jsx(\"img\",{src:getPath(\"/asset/Iframegraphic.png\"),className:\"img-fluid\",alt:\"Responsive image\"});};this.back=()=>{this.props.history.push(\"/Create\");};}componentDidMount(){const id=this.props.match?this.props.match.params?this.props.match.params.id:null:null;if(id){RequestHandler.PostRequest(GET_ONE_TOOL+id,{},(res,err)=>{if(res){Util.isRedirected=true;const data=res.data.campaigns;Object.assign(data,{_id:id,toolName:ToolUtil.getTool(data.toolId),toolId:data.toolId,name:data.data});this.setState({...data});window.gs.navTitle(ToolUtil.getTool(data.toolId));}});}else{const toolId=14;this.setState({toolId:toolId,toolName:ToolUtil.getTool(toolId),name:Util.CAMPAIGNS_NAME});Util.RedirectWhenCampaignEmpty(this.props);window.gs.navTitle(ToolUtil.getTool(toolId)+\"(\"+Util.CAMPAIGNS_NAME+\")\");}}render(){return/*#__PURE__*/_jsx(ToolLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10 toolItem\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:this.renderMain()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mt-2\",children:this.renderRight()}),/*#__PURE__*/_jsx(ButtonsGroup,{backUrl:this.back,download:this.onClickSave})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1 sideBarButtomPanel\",children:/*#__PURE__*/_jsx(SideBar,{activeTab:this.state.activeTab,onChangeActive:this.onChangeActive})})]})});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/tools/Offeriframe/index.js"],"names":["React","Component","Code","RequestHandler","GET_ONE_TOOL","SAVE_TOOL","getPath","SideBar","ToolUtil","generateIframeContant","Util","generateFile","OfferIframeModal","Text","SuccessPopup","Drawer","Modal","ToolLayout","ButtonsGroup","OfferIframe","state","activeTab","TEXT","url","title","onChangeActive","tabIndex","setState","onUpdate","index","data","cta","renderMain","component","onClickSave","success","content","setTimeout","props","history","push","renderRight","back","componentDidMount","id","match","params","PostRequest","res","err","isRedirected","campaigns","Object","assign","_id","toolName","getTool","toolId","name","window","gs","navTitle","CAMPAIGNS_NAME","RedirectWhenCampaignEmpty","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../../Create.css\";\r\nimport Code from \"../../../subpages/create/Code\";\r\nimport RequestHandler from \"../../../../actions/RequestHandler\";\r\nimport { GET_ONE_TOOL, SAVE_TOOL, getPath } from \"../../../../actions/URLs\";\r\n// import Text from \"./Text\";\r\nimport SideBar from \"./SideBar\";\r\nimport ToolUtil, { generateIframeContant } from \"../../../../utils/ToolUtil\";\r\nimport Util, { generateFile } from \"../../../Util\";\r\nimport { OfferIframeModal } from \"../../../utils/Modal\";\r\nimport Text from \"./Text\";\r\nimport SuccessPopup from \"../../../comman/SuccessPopUp\";\r\nimport { Drawer, Modal } from \"antd\";\r\nimport { ToolLayout, ButtonsGroup } from \"../../../layout/ToolLayout\";\r\nexport default class OfferIframe extends Component {\r\n  state = {\r\n    activeTab: 1,\r\n    TEXT: { url: \"\", title: \"\" },\r\n  };\r\n  componentDidMount() {\r\n    const id = this.props.match ? (this.props.match.params ? this.props.match.params.id : null) : null;\r\n    if (id) {\r\n      RequestHandler.PostRequest(GET_ONE_TOOL + id, {}, (res, err) => {\r\n        if (res) {\r\n          Util.isRedirected = true;\r\n          const data = res.data.campaigns;\r\n          Object.assign(data, { _id: id, toolName: ToolUtil.getTool(data.toolId), toolId: data.toolId, name: data.data });\r\n          this.setState({ ...data });\r\n          window.gs.navTitle(ToolUtil.getTool(data.toolId));\r\n        }\r\n      });\r\n    } else {\r\n      const toolId = 14;\r\n      this.setState({ toolId: toolId, toolName: ToolUtil.getTool(toolId), name: Util.CAMPAIGNS_NAME });\r\n      Util.RedirectWhenCampaignEmpty(this.props);\r\n      window.gs.navTitle(ToolUtil.getTool(toolId) + \"(\" + Util.CAMPAIGNS_NAME + \")\");\r\n    }\r\n  }\r\n  onChangeActive = (tabIndex) => {\r\n    const { activeTab } = this.state;\r\n    if (activeTab !== tabIndex) {\r\n      this.setState({ activeTab: tabIndex });\r\n    }\r\n  };\r\n  onUpdate = (index, data) => {\r\n    switch (index) {\r\n      case 1:\r\n        this.setState({ TEXT: data });\r\n        break;\r\n      case 2:\r\n        this.setState({ cta: data });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  renderMain = () => {\r\n    const { activeTab, TEXT } = this.state;\r\n    let component = null;\r\n    switch (activeTab) {\r\n      case 1:\r\n        component = <Text {...TEXT} onChange={this.onUpdate} />;\r\n        break;\r\n      case 2:\r\n        // component = <Timing {...template} onChange={this.onUpdate} />;\r\n        break;\r\n      case 3:\r\n        // component = <Code {...CODE} onChange={this.onUpdate} />;\r\n        break;\r\n      default:\r\n        component = <Text {...TEXT} onChange={this.onUpdate} />;\r\n        break;\r\n    }\r\n    return component;\r\n  };\r\n\r\n  onClickSave = () => {\r\n    const { TEXT } = this.state;\r\n    generateFile(\"index.html\", generateIframeContant(TEXT.url, TEXT.title));\r\n    Modal.success({\r\n      content: \"File has been Donwloaded\",\r\n    });\r\n    setTimeout(() => {\r\n      this.props.history.push(\"/Create\");\r\n    }, 2000);\r\n  };\r\n\r\n  renderRight = () => {\r\n    return <img src={getPath(\"/asset/Iframegraphic.png\")} className=\"img-fluid\" alt=\"Responsive image\"></img>;\r\n  };\r\n\r\n  back = () => {\r\n    this.props.history.push(\"/Create\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ToolLayout>\r\n        <div className=\"row\">\r\n          <div className=\"col-10 toolItem\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">{this.renderMain()}</div>\r\n              <div className=\"col-md-6 mt-2\">{this.renderRight()}</div>\r\n              <ButtonsGroup backUrl={this.back} download={this.onClickSave} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-1 sideBarButtomPanel\">\r\n            <SideBar activeTab={this.state.activeTab} onChangeActive={this.onChangeActive} />\r\n          </div>\r\n        </div>\r\n      </ToolLayout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}