{"ast":null,"code":"var _jsxFileName = \"/opt/bitnami/apache/htdocs/converzee-frontend/src/components/Club/Preview.js\";\nimport React, { Component } from \"react\";\nimport Portal from \"../comman/Portal\";\nimport TimeCounter from \"../comman/TimeCounter\";\nimport \"./Preview.css\";\nimport { parseImgUrl } from \"../Util\";\nexport class Preview extends Component {\n  setPosition() {\n    const element = document.getElementsByClassName(\"mck_optForm_container_HELLOBAR\")[0];\n\n    if (element && this.props.toolData.position !== \"bottom\") {\n      const body = document.getElementsByTagName(\"body\")[0];\n      body.style = \"margin-top:\" + element.offsetHeight + \"px;\";\n    } else if (element) {\n      const body = document.getElementsByTagName(\"body\")[0];\n      body.style = \"margin-bottom:\" + element.offsetHeight + \"px;\";\n    }\n  }\n\n  componentDidMount() {\n    const {\n      toolData\n    } = this.props;\n    const {\n      layout\n    } = toolData;\n\n    if (layout === 0 || layout === 1) {\n      this.setPosition();\n    }\n  }\n\n  componentWillUnmount() {\n    const body = document.getElementsByTagName(\"body\")[0];\n    body.style = \"\";\n  }\n\n  componentDidUpdate(newProps) {\n    const {\n      toolData\n    } = this.props;\n    const {\n      position\n    } = toolData;\n\n    if (position !== newProps.toolData.position) {\n      this.setPosition();\n    }\n  }\n\n  getcolor(element, key) {\n    let color = \"\";\n    element.forEach(value => {\n      if (value.id === key) {\n        color = value.value;\n      }\n    });\n    return color;\n  }\n\n  render() {\n    const {\n      toolData,\n      onClose,\n      templates,\n      toolId\n    } = this.props;\n    const {\n      layout\n    } = toolData;\n    let {\n      template\n    } = toolData;\n    if (toolId === 22) template = template + 10;\n    return React.createElement(Portal, {\n      defaultOpen: true,\n      closeOnEsc: true,\n      closeOnOutsideClick: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, layout === 0 ? React.createElement(HelloBar, Object.assign({}, toolData, {\n      ps: templates[template],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })) : null, layout === 1 ? React.createElement(HelloBarTimer, Object.assign({}, toolData, {\n      ps: templates[template],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })) : null, layout === 2 ? React.createElement(ExitIntent, Object.assign({\n      onClose: onClose\n    }, toolData, {\n      ps: templates[template],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })) : null);\n  }\n\n}\n\nconst HelloBar = function (props) {\n  const {\n    ps,\n    logo,\n    cta,\n    text\n  } = props;\n  const newLogo = parseImgUrl(logo);\n  let replaced = replaceItemByObj(ps, {\n    MCKTEXT: text,\n    MCKCTA: cta,\n    MCKLOGO: newLogo\n  });\n  return React.createElement(\"div\", {\n    className: \"mck_clubPos-bottom\",\n    dangerouslySetInnerHTML: {\n      __html: replaced\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  });\n};\n\nconst HelloBarTimer = function (props) {\n  const {\n    ps,\n    logo,\n    cta,\n    text,\n    endDateTime\n  } = props;\n  const newLogo = parseImgUrl(logo);\n  let replaced = replaceItemByObj(ps, {\n    MCKTEXT: text,\n    MCKCTA: cta,\n    MCKLOGO: newLogo\n  });\n  const timer = '<div class=\"mck_clock_5f242b152409133dec1a25b3 MCK_CLUB_CLOCK\"><div class=\"hellobartimer3-timer timerClassdefault\"><li>00&nbsp;:&nbsp;<br><span>Days</span></li><li>03&nbsp;:&nbsp;<br><span>Hours</span></li><li>55&nbsp;:&nbsp;<br><span>Minutes</span></li><li>41<br><span>Seconds</span></li></div></div>';\n  const items = replaced.split('<div class=\"mck_clock_2\">');\n  let element = items[0] + '<div class=\"mck_clock_2\">' + timer + items[1];\n  return React.createElement(\"div\", {\n    className: \"mck_clubPos-bottom\",\n    dangerouslySetInnerHTML: {\n      __html: element\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  });\n};\n\nconst ExitIntent = function (props) {\n  const {\n    ps,\n    logo,\n    cta,\n    noThanks,\n    subTitle,\n    text\n  } = props;\n  const newLogo = parseImgUrl(logo);\n  let replaced = replaceItemByObj(ps, {\n    MCKTITLE: text,\n    MCKCTA: cta,\n    MCKSUBTITLE: subTitle,\n    MCKIMAGELOGO: newLogo,\n    MCKNOTHANKS: noThanks\n  });\n  return React.createElement(\"div\", {\n    className: \"\",\n    onClick: props.onClose,\n    dangerouslySetInnerHTML: {\n      __html: replaced\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  });\n};\n\nfunction getStyle(layout, isTop) {\n  if (layout === 2) return {\n    position: \"fixed\",\n    zIndex: \"1\",\n    top: \"0px\",\n    left: \"0px\",\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"#fff\"\n  };\n  if (!isTop) return {\n    position: \"fixed\",\n    top: \"0px\",\n    left: \"0px\",\n    width: \"100%\"\n  };\n  return {\n    position: \"fixed\",\n    bottom: \"0px\",\n    left: \"0px\",\n    width: \"100%\"\n  };\n}\n\nfunction replaceItemByObj(str = \"\", obj) {\n  var keys = Object.keys(obj);\n  keys.forEach(e => {\n    str = str.replace(e, obj[e]);\n  });\n  return str;\n}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/Club/Preview.js"],"names":["React","Component","Portal","TimeCounter","parseImgUrl","Preview","setPosition","element","document","getElementsByClassName","props","toolData","position","body","getElementsByTagName","style","offsetHeight","componentDidMount","layout","componentWillUnmount","componentDidUpdate","newProps","getcolor","key","color","forEach","value","id","render","onClose","templates","toolId","template","HelloBar","ps","logo","cta","text","newLogo","replaced","replaceItemByObj","MCKTEXT","MCKCTA","MCKLOGO","__html","HelloBarTimer","endDateTime","timer","items","split","ExitIntent","noThanks","subTitle","MCKTITLE","MCKSUBTITLE","MCKIMAGELOGO","MCKNOTHANKS","getStyle","isTop","zIndex","top","left","width","height","backgroundColor","bottom","str","obj","keys","Object","e","replace"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Portal from \"../comman/Portal\";\nimport TimeCounter from \"../comman/TimeCounter\";\nimport \"./Preview.css\";\nimport { parseImgUrl } from \"../Util\";\nexport class Preview extends Component {\n  setPosition() {\n    const element = document.getElementsByClassName(\"mck_optForm_container_HELLOBAR\")[0];\n    if (element && this.props.toolData.position !== \"bottom\") {\n      const body = document.getElementsByTagName(\"body\")[0];\n      body.style = \"margin-top:\" + element.offsetHeight + \"px;\";\n    } else if (element) {\n      const body = document.getElementsByTagName(\"body\")[0];\n      body.style = \"margin-bottom:\" + element.offsetHeight + \"px;\";\n    }\n  }\n\n  componentDidMount() {\n    const { toolData } = this.props;\n    const { layout } = toolData;\n    if (layout === 0 || layout === 1) {\n      this.setPosition();\n    }\n  }\n\n  componentWillUnmount() {\n    const body = document.getElementsByTagName(\"body\")[0];\n    body.style = \"\";\n  }\n\n  componentDidUpdate(newProps) {\n    const { toolData } = this.props;\n    const { position } = toolData;\n    if (position !== newProps.toolData.position) {\n      this.setPosition();\n    }\n  }\n  getcolor(element, key) {\n    let color = \"\";\n    element.forEach((value) => {\n      if (value.id === key) {\n        color = value.value;\n      }\n    });\n    return color;\n  }\n  render() {\n    const { toolData, onClose, templates, toolId } = this.props;\n    const { layout } = toolData;\n    let { template } = toolData;\n    if (toolId === 22) template = template + 10;\n    return (\n      <Portal defaultOpen={true} closeOnEsc={true} closeOnOutsideClick={true}>\n        {layout === 0 ? <HelloBar {...toolData} ps={templates[template]} /> : null}\n        {layout === 1 ? <HelloBarTimer {...toolData} ps={templates[template]} /> : null}\n        {layout === 2 ? <ExitIntent onClose={onClose} {...toolData} ps={templates[template]} /> : null}\n      </Portal>\n    );\n  }\n}\n\nconst HelloBar = function (props) {\n  const { ps, logo, cta, text } = props;\n  const newLogo = parseImgUrl(logo);\n  let replaced = replaceItemByObj(ps, { MCKTEXT: text, MCKCTA: cta, MCKLOGO: newLogo });\n  return <div className={\"mck_clubPos-bottom\"} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\n};\n\nconst HelloBarTimer = function (props) {\n  const { ps, logo, cta, text, endDateTime } = props;\n  const newLogo = parseImgUrl(logo);\n  let replaced = replaceItemByObj(ps, { MCKTEXT: text, MCKCTA: cta, MCKLOGO: newLogo });\n  const timer =\n    '<div class=\"mck_clock_5f242b152409133dec1a25b3 MCK_CLUB_CLOCK\"><div class=\"hellobartimer3-timer timerClassdefault\"><li>00&nbsp;:&nbsp;<br><span>Days</span></li><li>03&nbsp;:&nbsp;<br><span>Hours</span></li><li>55&nbsp;:&nbsp;<br><span>Minutes</span></li><li>41<br><span>Seconds</span></li></div></div>';\n  const items = replaced.split('<div class=\"mck_clock_2\">');\n  let element = items[0] + '<div class=\"mck_clock_2\">' + timer + items[1];\n\n  return <div className={\"mck_clubPos-bottom\"} dangerouslySetInnerHTML={{ __html: element }}></div>;\n};\n\nconst ExitIntent = function (props) {\n  const { ps, logo, cta, noThanks, subTitle, text } = props;\n  const newLogo = parseImgUrl(logo);\n  let replaced = replaceItemByObj(ps, {\n    MCKTITLE: text,\n    MCKCTA: cta,\n    MCKSUBTITLE: subTitle,\n    MCKIMAGELOGO: newLogo,\n    MCKNOTHANKS: noThanks,\n  });\n  return <div className=\"\" onClick={props.onClose} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\n};\n\nfunction getStyle(layout, isTop) {\n  if (layout === 2) return { position: \"fixed\", zIndex: \"1\", top: \"0px\", left: \"0px\", width: \"100%\", height: \"100%\", backgroundColor: \"#fff\" };\n  if (!isTop) return { position: \"fixed\", top: \"0px\", left: \"0px\", width: \"100%\" };\n  return { position: \"fixed\", bottom: \"0px\", left: \"0px\", width: \"100%\" };\n}\n\nfunction replaceItemByObj(str = \"\", obj) {\n  var keys = Object.keys(obj);\n  keys.forEach((e) => {\n    str = str.replace(e, obj[e]);\n  });\n  return str;\n}\n"]},"metadata":{},"sourceType":"module"}