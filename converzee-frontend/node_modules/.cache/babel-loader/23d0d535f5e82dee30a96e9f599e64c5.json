{"ast":null,"code":"import React,{Component,useEffect}from\"react\";import Portal from\"../comman/Portal\";import TimeCounter from\"../comman/TimeCounter\";import\"./Preview.css\";import\"./dynamicElements.css\";import\"./clubOptinForm.css\";import\"./centralTimer.css\";import{parseImgUrl}from\"../Util\";// import FlipClock from \"./flipClock\";\nimport CircularClock from\"./circularClock\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export class Preview extends Component{constructor(props){super(props);this.flipClockScriptCalled=()=>{const{endDateTime,timeZone}=this.state;var time=\"\\\"\".concat(new Date(endDateTime),\"\\\"\");if(document.getElementById('flipclock-1')){window.FlipClock({endDate:new Date(time),timeZone:timeZone});}if(document.querySelector('.circular_timer')){window.CircularTimer(new Date(time),timeZone);}};this.state={endDateTime:props.toolData.endDateTime,timeZone:props.toolData.timeZone};this.flipClockScriptCalled=this.flipClockScriptCalled.bind(this);}setPosition(){const element=document.getElementsByClassName(\"mck_optForm_container_HELLOBAR\")[0];if(element&&this.props.toolData.position!==\"bottom\"){const body=document.getElementsByTagName(\"body\")[0];body.style=\"margin-top:\"+element.offsetHeight+\"px;\";}else if(element){const body=document.getElementsByTagName(\"body\")[0];body.style=\"margin-bottom:\"+element.offsetHeight+\"px;\";}}componentDidMount(){const{toolData}=this.props;const{layout,endDateTime,timeZone}=toolData;if(document.querySelector(\".timerClassdefault\")){window.clockTimerChange(new Date(endDateTime),timeZone);}if(layout===3){this.flipClockScriptCalled();}if(layout===0||layout===1){this.setPosition();}}componentWillUnmount(){const body=document.getElementsByTagName(\"body\")[0];body.style=\"\";}componentDidUpdate(newProps){const{toolData}=this.props;const{position}=toolData;if(position!==newProps.toolData.position){this.setPosition();}}getcolor(element,key){let color=\"\";element.forEach(value=>{if(value.id===key){color=value.value;}});return color;}render(){const{toolData,onClose,templates,toolId,items}=this.props;const{layout}=toolData;let{template}=toolData;if(toolId===22)template=template+10;return/*#__PURE__*/_jsxs(Portal,{defaultOpen:true,closeOnEsc:true,closeOnOutsideClick:true,children:[layout===0?/*#__PURE__*/_jsx(HelloBar,{onClose:onClose,...toolData,ps:templates[template]}):null,layout===1?/*#__PURE__*/_jsx(HelloBarTimer,{onClose:onClose,...toolData,ps:templates[template]}):null,layout===2?/*#__PURE__*/_jsx(ExitIntent,{onClose:onClose,...toolData,ps:templates[template]}):null,layout===3?/*#__PURE__*/_jsx(CentralTimer,{onClose:onClose,...toolData,ps:templates[template]}):null,layout===4?/*#__PURE__*/_jsx(DynamicElement,{onClose:onClose,...toolData,items:items,ps:templates[template]}):null,layout===5?/*#__PURE__*/_jsx(HelloBarWithOptin,{onClose:onClose,...toolData,ps:templates[template]}):null,layout===6?/*#__PURE__*/_jsx(HelloBarTimerWithOptin,{onClose:onClose,...toolData,ps:templates[template]}):null,layout===7?/*#__PURE__*/_jsx(ExitIntentWithOptin,{onClose:onClose,...toolData,ps:templates[template]}):null]});}}const HelloBar=function(props){const{ps,logo,cta,text,subTitle}=props;const newLogo=parseImgUrl(logo);let str=\"\".concat(ps);let bb=str.replace(\"onclick=\\\"toggleclub();\\\"\",\"\");let replaced=replaceItemByObj(bb,{MCKTEXT:text,MCKCTA:cta,MCKSUBTITLE:subTitle,MCKLOGO:newLogo});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_clubPos-bottom mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};const HelloBarTimer=function(props){const{ps,logo,cta,text,subTitle,noThanks,endDateTime}=props;const newLogo=parseImgUrl(logo);const timer=\"<div class=\\\"MCK_CLUB_CLOCK\\\"><div class=\\\"hellobartimer3-timer timerClassdefault\\\"><li data-label=\\\"Days\\\">00<span>Days</span></li><li data-label=\\\"Hours\\\">03<span>Hours</span></li><li data-label=\\\"Minutes\\\">55<span>Minutes</span></li><li data-label=\\\"Seconds\\\">41<span>Seconds</span></li></div></div>\";let str=\"\".concat(ps);let bb=str.replace(\"onclick=\\\"toggleclub();\\\"\",\"\");let replaced=replaceItemByObj(bb,{MCKTEXT:text,MCKCTA:cta,MCKSUBTITLE:subTitle,MCKLOGO:newLogo,MCKTIMER:timer,MCKNOTHANKS:noThanks});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_clubPos-bottom mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};const ExitIntent=function(props){const{ps,logo,cta,noThanks,subTitle,text,endDateTime}=props;const newLogo=parseImgUrl(logo);const timer=\"<div class=\\\"MCK_CLUB_CLOCK\\\"><div class=\\\"hellobartimer3-timer timerClassdefault\\\"><li data-label=\\\"Days\\\">00<span>Days</span></li><li data-label=\\\"Hours\\\">03<span>Hours</span></li><li data-label=\\\"Minutes\\\">55<span>Minutes</span></li><li data-label=\\\"Seconds\\\">41<span>Seconds</span></li></div></div>\";let str=\"\".concat(ps);let bb=str.replace(\"onclick=\\\"toggleclub();\\\"\",\"\");let replaced=replaceItemByObj(bb,{MCKTEXT:text,MCKTEXT1:text,MCKCTA:cta,MCKSUBTITLE:subTitle,MCKSUBTITLE1:subTitle,MCKIMAGELOGO:newLogo,MCKTIMER:timer,MCKNOTHANKS:noThanks});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};const CentralTimer=function(props){const{ps,template,timeZone,endDateTime}=props;const timer=\"<div class=\\\"MCK_CLUB_CLOCK\\\"><div class=\\\"timerClassdefault\\\"><li data-label=\\\"Days\\\">00<span>Days</span></li><li data-label=\\\"Hours\\\">03<span>Hours</span></li><li data-label=\\\"Minutes\\\">55<span>Minutes</span></li><li data-label=\\\"Seconds\\\">41<span>Seconds</span></li></div></div>\";let replaced=replaceItemByObj(ps,{MCKTIMER:timer});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_club_parent mckclub_exitIntent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};const DynamicElement=function(props){const{ps,items}=props;return/*#__PURE__*/_jsx(\"div\",{className:\"mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:ps}});};const HelloBarWithOptin=function(props){const{ps,logo,cta,subTitle,text}=props;const newLogo=parseImgUrl(logo);let str=\"\".concat(ps);let bb=str.replace(\"onclick=\\\"toggleclub();\\\"\",\"\");let replaced=replaceItemByObj(bb,{MCKTEXT:text,MCKCTA:cta,MCKSUBTITLE:subTitle,MCKIMAGELOGO:newLogo});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};const HelloBarTimerWithOptin=function(props){const{ps,logo,cta,noThanks,subTitle,text,endDateTime}=props;const newLogo=parseImgUrl(logo);const timer=\"<div class=\\\"MCK_CLUB_CLOCK\\\"><div class=\\\"timerClassdefault\\\"><li data-label=\\\"Days\\\">00<span>Days</span></li><li data-label=\\\"Hours\\\">03<span>Hours</span></li><li data-label=\\\"Minutes\\\">55<span>Minutes</span></li><li data-label=\\\"Seconds\\\">41<span>Seconds</span></li></div></div>\";let str=\"\".concat(ps);let bb=str.replace(\"onclick=\\\"toggleclub();\\\"\",\"\");let replaced=replaceItemByObj(bb,{MCKTEXT:text,MCKCTA:cta,MCKSUBTITLE:subTitle,MCKIMAGELOGO:newLogo,MCKTIMER:timer});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};const ExitIntentWithOptin=function(props){const{ps,logo,cta,noThanks,subTitle,text,endDateTime}=props;const newLogo=parseImgUrl(logo);const timer=\"<div class=\\\"MCK_CLUB_CLOCK\\\"><div class=\\\"timerClassdefault\\\"><li data-label=\\\"Days\\\">00<span>Days</span></li><li data-label=\\\"Hours\\\">03<span>Hours</span></li><li data-label=\\\"Minutes\\\">55<span>Minutes</span></li><li data-label=\\\"Seconds\\\">41<span>Seconds</span></li></div></div>\";let str=\"\".concat(ps);let bb=str.replace(\"onclick=\\\"toggleclub();\\\"\",\"\");let replaced=replaceItemByObj(bb,{MCKTEXT:text,MCKTEXT1:text,MCKCTA:cta,MCKSUBTITLE:subTitle,MCKSUBTITLE1:subTitle,MCKIMAGELOGO:newLogo,MCKTIMER:timer});return/*#__PURE__*/_jsx(\"div\",{className:\"mck_club_parent\",onClick:e=>props.onClose(e,\"close\"),dangerouslySetInnerHTML:{__html:replaced}});};function getStyle(layout,isTop){if(layout===2)return{position:\"fixed\",zIndex:\"1\",top:\"0px\",left:\"0px\",width:\"100%\",height:\"100%\",backgroundColor:\"#fff\"};if(!isTop)return{position:\"fixed\",top:\"0px\",left:\"0px\",width:\"100%\"};return{position:\"fixed\",bottom:\"0px\",left:\"0px\",width:\"100%\"};}function replaceItemByObj(){let str=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";let obj=arguments.length>1?arguments[1]:undefined;var keys=Object.keys(obj);keys.forEach(e=>{str=str.replace(e,obj[e]);});return str;}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/Club/Preview.js"],"names":["React","Component","useEffect","Portal","TimeCounter","parseImgUrl","CircularClock","Preview","constructor","props","flipClockScriptCalled","endDateTime","timeZone","state","time","Date","document","getElementById","window","FlipClock","endDate","querySelector","CircularTimer","toolData","bind","setPosition","element","getElementsByClassName","position","body","getElementsByTagName","style","offsetHeight","componentDidMount","layout","clockTimerChange","componentWillUnmount","componentDidUpdate","newProps","getcolor","key","color","forEach","value","id","render","onClose","templates","toolId","items","template","HelloBar","ps","logo","cta","text","subTitle","newLogo","str","bb","replace","replaced","replaceItemByObj","MCKTEXT","MCKCTA","MCKSUBTITLE","MCKLOGO","e","__html","HelloBarTimer","noThanks","timer","MCKTIMER","MCKNOTHANKS","ExitIntent","MCKTEXT1","MCKSUBTITLE1","MCKIMAGELOGO","CentralTimer","DynamicElement","HelloBarWithOptin","HelloBarTimerWithOptin","ExitIntentWithOptin","getStyle","isTop","zIndex","top","left","width","height","backgroundColor","bottom","obj","keys","Object"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from \"react\";\r\nimport Portal from \"../comman/Portal\";\r\nimport TimeCounter from \"../comman/TimeCounter\";\r\nimport \"./Preview.css\";\r\nimport \"./dynamicElements.css\";\r\nimport \"./clubOptinForm.css\";\r\nimport \"./centralTimer.css\";\r\nimport { parseImgUrl } from \"../Util\";\r\n// import FlipClock from \"./flipClock\";\r\nimport CircularClock from \"./circularClock\";\r\n\r\nexport class Preview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      endDateTime: props.toolData.endDateTime,\r\n      timeZone: props.toolData.timeZone\r\n    }\r\n    this.flipClockScriptCalled = this.flipClockScriptCalled.bind(this);\r\n  }\r\n\r\n  setPosition() {\r\n    const element = document.getElementsByClassName(\"mck_optForm_container_HELLOBAR\")[0];\r\n    if (element && this.props.toolData.position !== \"bottom\") {\r\n      const body = document.getElementsByTagName(\"body\")[0];\r\n      body.style = \"margin-top:\" + element.offsetHeight + \"px;\";\r\n    } else if (element) {\r\n      const body = document.getElementsByTagName(\"body\")[0];\r\n      body.style = \"margin-bottom:\" + element.offsetHeight + \"px;\";\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { toolData } = this.props;\r\n    const { layout, endDateTime, timeZone } = toolData;\r\n    \r\n    if(document.querySelector(\".timerClassdefault\")){\r\n      window.clockTimerChange(new Date(endDateTime ), timeZone);\r\n    }\r\n    \r\n    if(layout === 3){\r\n      this.flipClockScriptCalled();\r\n    }\r\n    if (layout === 0 || layout === 1) {\r\n      this.setPosition();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n    body.style = \"\";\r\n  }\r\n\r\n  componentDidUpdate(newProps) {\r\n    const { toolData } = this.props;\r\n    const { position } = toolData;\r\n    if (position !== newProps.toolData.position) {\r\n      this.setPosition();\r\n    }\r\n  }\r\n  getcolor(element, key) {\r\n    let color = \"\";\r\n    element.forEach((value) => {\r\n      if (value.id === key) {\r\n        color = value.value;\r\n      }\r\n    });\r\n    return color;\r\n  }\r\n\r\n  flipClockScriptCalled = () => {\r\n    const { endDateTime, timeZone } = this.state;\r\n    var time = `\"${new Date(endDateTime)}\"`;\r\n\r\n    if(document.getElementById('flipclock-1')) {\r\n      window.FlipClock({ endDate: new Date(time), timeZone : timeZone}); \r\n    }\r\n\r\n    if(document.querySelector('.circular_timer')) {\r\n      window.CircularTimer(new Date(time), timeZone);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { toolData, onClose, templates, toolId, items } = this.props;\r\n    const { layout } = toolData;\r\n    let { template } = toolData;\r\n    if (toolId === 22) template = template + 10;\r\n\r\n    return (\r\n      <Portal defaultOpen={true} closeOnEsc={true} closeOnOutsideClick={true}>\r\n        {layout === 0 ? <HelloBar onClose={onClose} {...toolData} ps={templates[template]} /> : null}\r\n        {layout === 1 ? <HelloBarTimer onClose={onClose} {...toolData} ps={templates[template]} /> : null}\r\n        {layout === 2 ? <ExitIntent onClose={onClose} {...toolData} ps={templates[template]} /> : null}\r\n        {layout === 3 ? <CentralTimer onClose={onClose} {...toolData} ps={templates[template]} /> : null}\r\n        {layout === 4 ? <DynamicElement onClose={onClose} {...toolData} items={items} ps={templates[template]}/> : null}\r\n        {layout === 5 ? <HelloBarWithOptin onClose={onClose} {...toolData} ps={templates[template]}/> : null}\r\n        {layout === 6 ? <HelloBarTimerWithOptin onClose={onClose} {...toolData} ps={templates[template]}/> : null}\r\n        {layout === 7 ? <ExitIntentWithOptin onClose={onClose} {...toolData} ps={templates[template]}/> : null}\r\n      </Portal>\r\n    );\r\n  }\r\n}\r\n\r\nconst HelloBar = function (props) {\r\n  const { ps, logo, cta, text, subTitle } = props;\r\n  const newLogo = parseImgUrl(logo);  \r\n  let str = `${ps}`;\r\n  let bb = str.replace(`onclick=\"toggleclub();\"`, \"\");\r\n  let replaced = replaceItemByObj(bb, { MCKTEXT: text, MCKCTA: cta, MCKSUBTITLE: subTitle, MCKLOGO: newLogo });\r\n  return <div className={\"mck_clubPos-bottom mck_club_parent\"} onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\r\n};\r\n\r\nconst HelloBarTimer = function (props) {\r\n  const { ps, logo, cta, text, subTitle, noThanks, endDateTime } = props;\r\n  const newLogo = parseImgUrl(logo);\r\n  const timer = `<div class=\"MCK_CLUB_CLOCK\"><div class=\"hellobartimer3-timer timerClassdefault\"><li data-label=\"Days\">00<span>Days</span></li><li data-label=\"Hours\">03<span>Hours</span></li><li data-label=\"Minutes\">55<span>Minutes</span></li><li data-label=\"Seconds\">41<span>Seconds</span></li></div></div>`;\r\n  \r\n  let str = `${ps}`;\r\n  let bb = str.replace(`onclick=\"toggleclub();\"`, \"\");\r\n\r\n  let replaced = replaceItemByObj(bb, { \r\n    MCKTEXT: text, \r\n    MCKCTA: cta, \r\n    MCKSUBTITLE: subTitle, \r\n    MCKLOGO: newLogo, \r\n    MCKTIMER: timer, \r\n    MCKNOTHANKS: noThanks\r\n  });\r\n  return <div className={\"mck_clubPos-bottom mck_club_parent\"} onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\r\n};\r\n\r\nconst ExitIntent = function (props) {\r\n  const { ps, logo, cta, noThanks, subTitle, text, endDateTime } = props;\r\n  const newLogo = parseImgUrl(logo);\r\n  const timer = `<div class=\"MCK_CLUB_CLOCK\"><div class=\"hellobartimer3-timer timerClassdefault\"><li data-label=\"Days\">00<span>Days</span></li><li data-label=\"Hours\">03<span>Hours</span></li><li data-label=\"Minutes\">55<span>Minutes</span></li><li data-label=\"Seconds\">41<span>Seconds</span></li></div></div>`;\r\n  \r\n  let str = `${ps}`;\r\n  let bb = str.replace(`onclick=\"toggleclub();\"`, \"\");\r\n\r\n  let replaced = replaceItemByObj(bb, {\r\n    MCKTEXT: text,\r\n    MCKTEXT1: text,\r\n    MCKCTA: cta,\r\n    MCKSUBTITLE: subTitle,\r\n    MCKSUBTITLE1: subTitle,\r\n    MCKIMAGELOGO: newLogo,\r\n    MCKTIMER: timer,\r\n    MCKNOTHANKS: noThanks,\r\n  });\r\n  return <div className=\"mck_club_parent\" onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\r\n};\r\n\r\nconst CentralTimer = function (props) {\r\n  const { ps, template, timeZone, endDateTime } = props;\r\n  const timer = `<div class=\"MCK_CLUB_CLOCK\"><div class=\"timerClassdefault\"><li data-label=\"Days\">00<span>Days</span></li><li data-label=\"Hours\">03<span>Hours</span></li><li data-label=\"Minutes\">55<span>Minutes</span></li><li data-label=\"Seconds\">41<span>Seconds</span></li></div></div>`;\r\n  \r\n  let replaced = replaceItemByObj(ps, { \r\n    MCKTIMER: timer\r\n  });\r\n\r\n  return ( \r\n    <div className=\"mck_club_parent mckclub_exitIntent\" onClick={(e) => props.onClose(e, \"close\")}  dangerouslySetInnerHTML={{ __html: replaced }}></div> \r\n  )\r\n}\r\n\r\nconst DynamicElement = function (props) {\r\n  const { ps, items } = props;\r\n\r\n  return <div className=\"mck_club_parent\" onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: ps }}></div>;\r\n}\r\n\r\nconst HelloBarWithOptin = function (props) {\r\n  const { ps, logo, cta, subTitle, text } = props;\r\n  const newLogo = parseImgUrl(logo); \r\n  \r\n  let str = `${ps}`;\r\n  let bb = str.replace(`onclick=\"toggleclub();\"`, \"\");\r\n\r\n  let replaced = replaceItemByObj(bb, {\r\n    MCKTEXT: text,\r\n    MCKCTA: cta,\r\n    MCKSUBTITLE: subTitle,\r\n    MCKIMAGELOGO: newLogo,\r\n  });\r\n\r\n  return <div className=\"mck_club_parent\" onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\r\n}\r\n\r\nconst HelloBarTimerWithOptin = function (props) {\r\n  const { ps, logo, cta, noThanks, subTitle, text, endDateTime } = props;\r\n  const newLogo = parseImgUrl(logo); \r\n  const timer = `<div class=\"MCK_CLUB_CLOCK\"><div class=\"timerClassdefault\"><li data-label=\"Days\">00<span>Days</span></li><li data-label=\"Hours\">03<span>Hours</span></li><li data-label=\"Minutes\">55<span>Minutes</span></li><li data-label=\"Seconds\">41<span>Seconds</span></li></div></div>`;\r\n\r\n  let str = `${ps}`;\r\n  let bb = str.replace(`onclick=\"toggleclub();\"`, \"\");\r\n\r\n  let replaced = replaceItemByObj(bb, {\r\n    MCKTEXT: text,\r\n    MCKCTA: cta,\r\n    MCKSUBTITLE: subTitle,\r\n    MCKIMAGELOGO: newLogo,\r\n    MCKTIMER: timer\r\n  });\r\n\r\n  return <div className=\"mck_club_parent\" onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\r\n}\r\n\r\nconst ExitIntentWithOptin = function (props) {\r\n  const { ps, logo, cta, noThanks, subTitle, text, endDateTime } = props;\r\n  const newLogo = parseImgUrl(logo);\r\n  const timer = `<div class=\"MCK_CLUB_CLOCK\"><div class=\"timerClassdefault\"><li data-label=\"Days\">00<span>Days</span></li><li data-label=\"Hours\">03<span>Hours</span></li><li data-label=\"Minutes\">55<span>Minutes</span></li><li data-label=\"Seconds\">41<span>Seconds</span></li></div></div>`;\r\n\r\n  let str = `${ps}`;\r\n  let bb = str.replace(`onclick=\"toggleclub();\"`, \"\");\r\n\r\n  let replaced = replaceItemByObj(bb, {\r\n    MCKTEXT: text,\r\n    MCKTEXT1: text,\r\n    MCKCTA: cta,\r\n    MCKSUBTITLE: subTitle,\r\n    MCKSUBTITLE1: subTitle,\r\n    MCKIMAGELOGO: newLogo,\r\n    MCKTIMER: timer\r\n  });\r\n\r\n  return <div className=\"mck_club_parent\" onClick={(e) => props.onClose(e, \"close\")} dangerouslySetInnerHTML={{ __html: replaced }}></div>;\r\n}\r\n\r\n\r\nfunction getStyle(layout, isTop) {\r\n  if (layout === 2) return { position: \"fixed\", zIndex: \"1\", top: \"0px\", left: \"0px\", width: \"100%\", height: \"100%\", backgroundColor: \"#fff\" };\r\n  if (!isTop) return { position: \"fixed\", top: \"0px\", left: \"0px\", width: \"100%\" };\r\n  return { position: \"fixed\", bottom: \"0px\", left: \"0px\", width: \"100%\" };\r\n}\r\n\r\nfunction replaceItemByObj(str = \"\", obj) {\r\n  var keys = Object.keys(obj);\r\n  keys.forEach((e) => {\r\n    str = str.replace(e, obj[e]);\r\n  });\r\n  return str;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}