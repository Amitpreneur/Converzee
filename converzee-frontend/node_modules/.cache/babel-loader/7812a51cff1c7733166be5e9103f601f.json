{"ast":null,"code":"var _jsxFileName = \"/opt/bitnami/apache/htdocs/converzee-frontend/src/components/layout/SessionLogin.js\";\nimport React, { Component, useState, useCallback } from \"react\";\nimport { Input } from \"antd\";\nimport \"./Landing.css\";\nimport { Request } from \"../auth/authHandler\";\nimport { getPath } from \"../../actions/URLs\";\n\nclass SessionLogin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loginPage: true,\n      process: false,\n      checkSession: false\n    };\n\n    this.onChangeInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = (email = \"\", password = \"\") => {\n      this.setState({\n        process: true\n      });\n      const emailId = email.trim();\n      const passworded = password.trim();\n      Request.loginAuth({\n        email: emailId,\n        password: passworded\n      }, (res, err) => {\n        if (res) {\n          if (!res.data.success) {\n            this.setState({\n              process: false\n            });\n            window.gs.toast(res.data.message, {\n              position: \"bottom-right\",\n              autoClose: false,\n              type: window.gs.toast.TYPE.ERROR\n            });\n          } else if (res.data.user.isActive) {\n            window.email = emailId;\n            this.props.setAuth(true);\n            window.gs.toast(res.data.message, {\n              position: \"bottom-right\",\n              autoClose: false,\n              type: window.gs.toast.TYPE.SUCCESS\n            });\n            document.querySelector(\".session_login_wrapper\").classList.add(\"cz_hide\");\n          } else {\n            this.setState({\n              loginPage: \"REG\",\n              process: false\n            });\n          }\n        } else {\n          this.setState({\n            process: false\n          });\n          window.gs.toast(\"Something Wrong\", {\n            position: \"bottom-right\",\n            type: window.gs.toast.TYPE.FAILED\n          });\n        }\n      });\n    };\n\n    this.changeView = view => {\n      this.setState({\n        loginPage: view\n      });\n    };\n  }\n\n  componentDidMount() {// if (Request.getAuth()) {\n    //   this.props.setAuth(true);\n    // } else {\n    //   this.setState({ checkSession: true });\n    // }\n  }\n\n  render() {\n    const {\n      loginPage,\n      loader,\n      process\n    } = this.state;\n    return React.createElement(LoginPage, {\n      req: process,\n      onSubmit: this.onSubmit,\n      email: \"\",\n      password: \"\",\n      changeView: this.changeView,\n      checkSession: this.props.checkSession,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default SessionLogin; // onSubmit, email, password\n\nconst LoginPage = function (props) {\n  const [email, setEmail] = useState(props.email);\n  const [password, setPassword] = useState(props.password);\n  const changeEmail = useCallback(newEmail => {\n    setEmail(newEmail);\n  }, [email]);\n  const changePassword = useCallback(newPassword => {\n    setPassword(newPassword);\n  }, [password]);\n  return React.createElement(\"div\", {\n    className: \"session_login_wrapper\".concat(props.checkSession ? \"\" : \" cz_hide\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"session_login_overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"session_login_inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12 col-lg-12 login-form-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cz_auth_wrapper cz_login_wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cz_logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: getPath(\"asset/dark_logo.png\"),\n    style: {\n      height: \"50px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"loginTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Get started\"), React.createElement(\"div\", {\n    className: \"subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Use your email to login.\"), React.createElement(\"div\", {\n    className: \"cz_auth_form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"inputBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"login_label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Email-ID\"), React.createElement(Input, {\n    placeholder: \"Email\",\n    className: \"form-control\",\n    name: \"email\",\n    onChange: e => changeEmail(e.target.value),\n    value: email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"inputBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"login_label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Input.Password, {\n    placeholder: \"Password\",\n    onChange: e => changePassword(e.target.value),\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"forgot_password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: () => props.changeView(\"FORGOT\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Forget Password?\")), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    disabled: props.req,\n    name: \"Sign In\",\n    className: \"login_button\",\n    onClick: () => props.onSubmit(email, password),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"LOGIN\"))))));\n};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/layout/SessionLogin.js"],"names":["React","Component","useState","useCallback","Input","Request","getPath","SessionLogin","state","loginPage","process","checkSession","onChangeInput","e","setState","target","name","value","onSubmit","email","password","emailId","trim","passworded","loginAuth","res","err","data","success","window","gs","toast","message","position","autoClose","type","TYPE","ERROR","user","isActive","props","setAuth","SUCCESS","document","querySelector","classList","add","FAILED","changeView","view","componentDidMount","render","loader","LoginPage","setEmail","setPassword","changeEmail","newEmail","changePassword","newPassword","concat","height","cursor","req"],"mappings":"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","sourcesContent":["import React, { Component, useState, useCallback } from \"react\";\nimport { Input } from \"antd\";\nimport \"./Landing.css\";\nimport { Request } from \"../auth/authHandler\";\nimport { getPath } from \"../../actions/URLs\";\n\nclass SessionLogin extends Component {\n  state = {\n    loginPage: true,\n    process: false,\n    checkSession: false\n  };\n  componentDidMount() {\n    // if (Request.getAuth()) {\n    //   this.props.setAuth(true);\n    // } else {\n    //   this.setState({ checkSession: true });\n    // }\n  }\n  onChangeInput = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  onSubmit = (email = \"\", password = \"\") => {\n    this.setState({ process: true });\n    const emailId = email.trim();\n    const passworded = password.trim();\n    Request.loginAuth({ email: emailId, password: passworded }, (res, err) => {\n      if (res) {\n        if (!res.data.success) {\n          this.setState({ process: false });\n          window.gs.toast(res.data.message, { position: \"bottom-right\", autoClose: false, type: window.gs.toast.TYPE.ERROR });\n        } else if (res.data.user.isActive) {\n          window.email = emailId;\n          this.props.setAuth(true);\n          window.gs.toast(res.data.message, { position: \"bottom-right\", autoClose: false, type: window.gs.toast.TYPE.SUCCESS });\n          document.querySelector(\".session_login_wrapper\").classList.add(\"cz_hide\");\n        } else {\n          this.setState({ loginPage: \"REG\", process: false });\n        }\n      } else {\n        this.setState({ process: false });\n        window.gs.toast(\"Something Wrong\", { position: \"bottom-right\", type: window.gs.toast.TYPE.FAILED });\n      }\n    });\n  };\n\n  changeView = (view) => {\n    this.setState({ loginPage: view }); \n  };\n\n  render() {\n    const { loginPage, loader, process } = this.state;\n    return (\n      <LoginPage req={process} onSubmit={this.onSubmit} email={\"\"} password={\"\"} changeView={this.changeView} checkSession={this.props.checkSession}></LoginPage>\n    );\n  }\n}\n\nexport default SessionLogin;\n// onSubmit, email, password\nconst LoginPage = function (props) {\n  const [email, setEmail] = useState(props.email);\n  const [password, setPassword] = useState(props.password);\n  const changeEmail = useCallback(\n    (newEmail) => {\n      setEmail(newEmail);\n    },\n    [email]\n  );\n  const changePassword = useCallback(\n    (newPassword) => {\n      setPassword(newPassword);\n    },\n    [password]\n  );\n  return (\n    <div className={\"session_login_wrapper\".concat(props.checkSession ? \"\" : \" cz_hide\")}>\n      <div className=\"session_login_overlay\"></div>\n      <div className=\"session_login_inner\">\n        <div className=\"col-md-12 col-sm-12 col-lg-12 login-form-1\">\n          <div className=\"cz_auth_wrapper cz_login_wrapper\">\n            <div className=\"cz_logo\">\n              <img src={getPath(\"asset/dark_logo.png\")} style={{ height: \"50px\" }} /> \n            </div>\n            <div className=\"loginTitle\">Get started</div>\n            <div className=\"subtitle\">Use your email to login.</div>\n            <div className=\"cz_auth_form\">\n              <div className=\"inputBox\">\n                <label className=\"login_label\">Email-ID</label>\n                <Input placeholder=\"Email\" className=\"form-control\" name=\"email\" onChange={(e) => changeEmail(e.target.value)} value={email} />\n              </div>\n              <div className=\"inputBox\">\n                <label className=\"login_label\">Password</label>\n                <Input.Password placeholder=\"Password\" onChange={(e) => changePassword(e.target.value)} value={password} />\n              </div>\n            </div>\n            <div className=\"forgot_password\">\n              <div style={{ cursor: \"pointer\" }} onClick={() => props.changeView(\"FORGOT\")}>\n                Forget Password?\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <button disabled={props.req} name=\"Sign In\" className=\"login_button\" onClick={() => props.onSubmit(email, password)}>\n                LOGIN\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n"]},"metadata":{},"sourceType":"module"}