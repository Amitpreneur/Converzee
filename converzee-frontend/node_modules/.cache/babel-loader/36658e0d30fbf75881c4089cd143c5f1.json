{"ast":null,"code":"import React,{Component}from\"react\";import{SAVE_TOOL,SAVE_DOMAIN,GET_DOMAIN}from\"../../actions/URLs\";import RequestHandler from\"../../actions/RequestHandler\";import _ from\"lodash\";import ToolUtil from\"../../utils/ToolUtil\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Domain extends Component{constructor(){super(...arguments);this.state={domains:[\"\"]};this.onClickSave=()=>{const newDomains=_.compact(this.state.domains);if(ToolUtil.domainLimit>=newDomains.length){RequestHandler.PostRequest(SAVE_DOMAIN,{domainData:{domains:newDomains}},(res,err)=>{if(res.data.success){window.gs.toast(\"Domain Save Successfully\",{position:\"bottom-right\",type:window.gs.toast.TYPE.SUCCESS});this.setState({domains:newDomains},()=>{if(this.state.domains&&!this.state.domains.length){this.setState({domains:[\"\"]});}});}else{const msg=res.data.message||\"Something went wrong\";window.gs.toast(msg,{position:\"bottom-right\",autoClose:true,type:window.gs.toast.TYPE.ERROR});}});}else{window.gs.sayUpdate(null,false,ToolUtil.linksList?ToolUtil.linksList.oto2:\"\");}};this.onItemChange=(index,e)=>{let{domains}=this.state;const value=e.target.value;domains[index]=value;this.setState({domains});};this.onAddClick=()=>{const{domains}=this.state;domains.push(\"\");this.setState({domains});};this.onRemoveClick=index=>{const domains=this.state.domains||[\"\"];domains.splice(index,1);this.setState({domains},()=>{if(!this.state.domains.length){this.setState({domains:[\"\"]});}});};this.renderDomainList=(item,index)=>{const size=this.state.domains.length;const props={value:item,onChange:this.onItemChange,index,onAddClick:this.onAddClick,size,onRemoveClick:this.onRemoveClick};return/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(TextInput,{...props})},index+1);};}componentDidMount(){window.gs.navTitle(\"Domains\");RequestHandler.PostRequest(GET_DOMAIN,{},(res,err)=>{if(res){const domains=res.data.domains;if(domains){this.setState({domains},()=>{if(this.state.domains&&!this.state.domains.length){this.setState({domains:[\"\"]});}});}}});}render(){const{domains}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"container cz_domain_box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"create-top-bar-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.onClickSave,className:\"btn btn-primary btn-md create-top-button\",children:\"Save\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"80%\",textAlign:\"left\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"20px\",paddingLeft:\"33px\"},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Domain\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:\"33px\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Domain limit (\",ToolUtil.domainLimit,\")\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"gray\"},children:\"List of Domain where you want to run your tool\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"create-center-main\",style:{paddingTop:\"20px\",marginTop:\"2%\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"80%\"},children:domains.map(this.renderDomainList)})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"80%\",textAlign:\"left\",paddingTop:\"10px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:\"33px\"},children:/*#__PURE__*/_jsx(\"p\",{style:{color:\"gray\"},children:\"Use HTTP / HTTPS \"})})})})})]})]});}}const TextInput=props=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"code-input-block \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:props.value,className:\"form-control\",onChange:e=>props.onChange(props.index,e)}),/*#__PURE__*/_jsx(\"div\",{className:\"code-plusIcon\",children:props.size-1===props.index?/*#__PURE__*/_jsx(\"i\",{onClick:()=>props.onAddClick(),className:\"fa fa-plus-circle\",\"aria-hidden\":\"true\",title:\"Click to Add Domain\"}):/*#__PURE__*/_jsx(\"i\",{onClick:()=>props.onRemoveClick(props.index),className:\"fa fa-minus-circle\",\"aria-hidden\":\"true\",title:\"Click to Remove Domain\"})})]});};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/Domain.js"],"names":["React","Component","SAVE_TOOL","SAVE_DOMAIN","GET_DOMAIN","RequestHandler","_","ToolUtil","Domain","state","domains","onClickSave","newDomains","compact","domainLimit","length","PostRequest","domainData","res","err","data","success","window","gs","toast","position","type","TYPE","SUCCESS","setState","msg","message","autoClose","ERROR","sayUpdate","linksList","oto2","onItemChange","index","e","value","target","onAddClick","push","onRemoveClick","splice","renderDomainList","item","size","props","onChange","componentDidMount","navTitle","render","width","textAlign","fontSize","paddingLeft","color","paddingTop","marginTop","map","TextInput"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { SAVE_TOOL, SAVE_DOMAIN, GET_DOMAIN } from \"../../actions/URLs\";\r\nimport RequestHandler from \"../../actions/RequestHandler\";\r\nimport _ from \"lodash\";\r\nimport ToolUtil from \"../../utils/ToolUtil\";\r\nexport default class Domain extends Component {\r\n  state = {\r\n    domains: [\"\"],\r\n  };\r\n  componentDidMount() {\r\n    window.gs.navTitle(\"Domains\");\r\n    RequestHandler.PostRequest(GET_DOMAIN, {}, (res, err) => {\r\n      if (res) {\r\n        const domains = res.data.domains;\r\n        if (domains) {\r\n          this.setState({ domains }, () => {\r\n            if (this.state.domains && !this.state.domains.length) {\r\n              this.setState({ domains: [\"\"] });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onClickSave = () => {\r\n    const newDomains = _.compact(this.state.domains);\r\n    if (ToolUtil.domainLimit >= newDomains.length) {\r\n      RequestHandler.PostRequest(SAVE_DOMAIN, { domainData: { domains: newDomains } }, (res, err) => {\r\n        if (res.data.success) {\r\n          window.gs.toast(\"Domain Save Successfully\", { position: \"bottom-right\", type: window.gs.toast.TYPE.SUCCESS });\r\n          this.setState({ domains: newDomains }, () => {\r\n            if (this.state.domains && !this.state.domains.length) {\r\n              this.setState({ domains: [\"\"] });\r\n            }\r\n          });\r\n        } else {\r\n          const msg = res.data.message || \"Something went wrong\";\r\n          window.gs.toast(msg, { position: \"bottom-right\", autoClose: true, type: window.gs.toast.TYPE.ERROR });\r\n        }\r\n      });\r\n    } else {\r\n      window.gs.sayUpdate(null, false, ToolUtil.linksList ? ToolUtil.linksList.oto2 : \"\");\r\n    }\r\n  };\r\n\r\n  onItemChange = (index, e) => {\r\n    let { domains } = this.state;\r\n    const value = e.target.value;\r\n    domains[index] = value;\r\n    this.setState({ domains });\r\n  };\r\n\r\n  onAddClick = () => {\r\n    const { domains } = this.state;\r\n    domains.push(\"\");\r\n    this.setState({ domains });\r\n  };\r\n\r\n  onRemoveClick = (index) => {\r\n    const domains = this.state.domains || [\"\"];\r\n    domains.splice(index, 1);\r\n    this.setState({ domains }, () => {\r\n      if (!this.state.domains.length) {\r\n        this.setState({ domains: [\"\"] });\r\n      }\r\n    });\r\n  };\r\n\r\n  renderDomainList = (item, index) => {\r\n    const size = this.state.domains.length;\r\n    const props = {\r\n      value: item,\r\n      onChange: this.onItemChange,\r\n      index,\r\n      onAddClick: this.onAddClick,\r\n      size,\r\n      onRemoveClick: this.onRemoveClick,\r\n    };\r\n    return (\r\n      <div className=\"col-12\" key={index+1}>\r\n        <TextInput {...props} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { domains } = this.state;\r\n    return (\r\n      <div className=\"container cz_domain_box\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"create-top-bar-button\">\r\n              <button onClick={this.onClickSave} className=\"btn btn-primary btn-md create-top-button\">\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <center>\r\n              <div style={{ width: \"80%\", textAlign: \"left\" }}>\r\n                <div style={{ fontSize: \"20px\", paddingLeft: \"33px\" }}>\r\n                  <strong>Domain</strong>\r\n                </div>\r\n                <div style={{ paddingLeft: \"33px\" }}>\r\n                  <p>Total Domain limit ({ToolUtil.domainLimit})</p>\r\n                  <p style={{ color: \"gray\" }}>List of Domain where you want to run your tool</p>\r\n                </div>\r\n              </div>\r\n            </center>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <center>\r\n              <div className=\"create-center-main\" style={{ paddingTop: \"20px\", marginTop: \"2%\" }}>\r\n                <div style={{ width: \"80%\" }}>{domains.map(this.renderDomainList)}</div>\r\n              </div>\r\n            </center>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <center>\r\n              <div style={{ width: \"80%\", textAlign: \"left\", paddingTop: \"10px\" }}>\r\n                <div style={{ paddingLeft: \"33px\" }}>\r\n                  <p style={{ color: \"gray\" }}>Use HTTP / HTTPS </p>\r\n                </div>\r\n              </div>\r\n            </center>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst TextInput = (props) => {\r\n  return (\r\n    <div className=\"code-input-block \">\r\n      <input type=\"text\" value={props.value} className=\"form-control\" onChange={(e) => props.onChange(props.index, e)} />\r\n      <div className=\"code-plusIcon\">\r\n        {props.size - 1 === props.index ? (\r\n          <i onClick={() => props.onAddClick()} className=\"fa fa-plus-circle\" aria-hidden=\"true\" title=\"Click to Add Domain\" />\r\n        ) : (\r\n          <i onClick={() => props.onRemoveClick(props.index)} className=\"fa fa-minus-circle\" aria-hidden=\"true\" title=\"Click to Remove Domain\" />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}