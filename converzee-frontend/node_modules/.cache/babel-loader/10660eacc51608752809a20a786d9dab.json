{"ast":null,"code":"import React,{Component}from\"react\";import SideBar from\"./SideBar\";import{ButtonsGroup,ToolLayout}from\"../layout/ToolLayout\";import{ReponsiveImage}from\"../comman/PreviewAble\";import SideImage from\"./SideImage\";import Text from\"./Text\";import ImageUp from\"./Image\";import Style from\"./Style\";import{generateFile}from\"../Util\";import{createBonusContent}from\"../../utils/ToolUtil\";import{getPath}from\"../../actions/URLs\";import{BONUS_CREATE}from\"../../utils/Routes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const bonusPageGen={activeTab:1,TEXT:{url:\"\",footer:\"\",title:\"\"},logo:\"\",sideImage:\"\",STYLE:{selected:0,elements:[{name:\"bgColor\",text:\"Background Color\",color:\"#000\"}]}};export default class BonusPage extends Component{constructor(){super(...arguments);this.state=bonusPageGen;this.onChangeActive=tabIndex=>{const{activeTab}=this.state;if(activeTab!==tabIndex){this.setState({activeTab:tabIndex});}};this.onUpdate=(index,data)=>{switch(index){case 1:this.setState({TEXT:data});break;case 2:this.setState({logo:data});break;case 3:this.setState({sideImage:data});break;case 4:this.setState({STYLE:data});break;default:break;}};this.renderMain=()=>{const{activeTab,TEXT,logo,sideImage,STYLE}=this.state;let component=null;switch(activeTab){case 1:component=/*#__PURE__*/_jsx(Text,{...TEXT,onChange:this.onUpdate});break;case 2:component=/*#__PURE__*/_jsx(ImageUp,{image:logo,onChange:this.onUpdate});break;case 3:component=/*#__PURE__*/_jsx(SideImage,{image:sideImage,onChange:this.onUpdate});break;case 4:component=/*#__PURE__*/_jsx(Style,{...STYLE,cases:4,onChange:this.onUpdate});break;default:break;}return component;};this.onClickSave=()=>{const{TEXT,logo,sideImage,STYLE}=this.state;const bg=STYLE.elements[0].color;const{url,footer,title}=TEXT;generateFile(\"index.html\",createBonusContent(title,url,logo,sideImage,bg,footer,logo));window.gs.setScript('<a id=\"MCK_BUYBUTTON\">....</a>');setTimeout(()=>{this.props.history.push(\"/\");},2000);};this.renderRight=()=>{const{activeTab,logo,sideImage}=this.state;if(activeTab===2&&logo!=\"\")return/*#__PURE__*/_jsx(ReponsiveImage,{isImg:true,url:logo});if(activeTab===3&&sideImage!=\"\")return/*#__PURE__*/_jsx(ReponsiveImage,{isImg:true,url:sideImage});return/*#__PURE__*/_jsx(ReponsiveImage,{isAs:true,url:\"asset/mobilevab.png\"});};this.back=()=>{this.props.history.push(BONUS_CREATE);};}componentDidMount(){window.gs.navTitle(\"Bonus Page Gen\");}render(){return/*#__PURE__*/_jsx(ToolLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10 toolItem\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:this.renderMain()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mt-2\",children:this.renderRight()}),/*#__PURE__*/_jsx(ButtonsGroup,{backUrl:this.back,download:this.onClickSave})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1 sideBarButtomPanel\",children:/*#__PURE__*/_jsx(SideBar,{activeTab:this.state.activeTab,onChangeActive:this.onChangeActive})})]})});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/BonusUpsell/index.js"],"names":["React","Component","SideBar","ButtonsGroup","ToolLayout","ReponsiveImage","SideImage","Text","ImageUp","Style","generateFile","createBonusContent","getPath","BONUS_CREATE","bonusPageGen","activeTab","TEXT","url","footer","title","logo","sideImage","STYLE","selected","elements","name","text","color","BonusPage","state","onChangeActive","tabIndex","setState","onUpdate","index","data","renderMain","component","onClickSave","bg","window","gs","setScript","setTimeout","props","history","push","renderRight","back","componentDidMount","navTitle","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport SideBar from \"./SideBar\";\r\nimport { ButtonsGroup, ToolLayout } from \"../layout/ToolLayout\";\r\nimport { ReponsiveImage } from \"../comman/PreviewAble\";\r\nimport SideImage from \"./SideImage\";\r\nimport Text from \"./Text\";\r\nimport ImageUp from \"./Image\";\r\nimport Style from \"./Style\";\r\nimport { generateFile } from \"../Util\";\r\nimport { createBonusContent } from \"../../utils/ToolUtil\";\r\nimport { getPath } from \"../../actions/URLs\";\r\nimport { BONUS_CREATE } from \"../../utils/Routes\";\r\n\r\nconst bonusPageGen = {\r\n  activeTab: 1,\r\n  TEXT: { url: \"\", footer: \"\", title: \"\" },\r\n  logo: \"\",\r\n  sideImage: \"\",\r\n  STYLE: {\r\n    selected: 0,\r\n    elements: [{ name: \"bgColor\", text: \"Background Color\", color: \"#000\" }],\r\n  },\r\n};\r\nexport default class BonusPage extends Component {\r\n  state = bonusPageGen;\r\n  componentDidMount() {\r\n    window.gs.navTitle(\"Bonus Page Gen\");\r\n  }\r\n  onChangeActive = (tabIndex) => {\r\n    const { activeTab } = this.state;\r\n    if (activeTab !== tabIndex) {\r\n      this.setState({ activeTab: tabIndex });\r\n    }\r\n  };\r\n  onUpdate = (index, data) => {\r\n    switch (index) {\r\n      case 1:\r\n        this.setState({ TEXT: data });\r\n        break;\r\n      case 2:\r\n        this.setState({ logo: data });\r\n        break;\r\n      case 3:\r\n        this.setState({ sideImage: data });\r\n        break;\r\n      case 4:\r\n        this.setState({ STYLE: data });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  renderMain = () => {\r\n    const { activeTab, TEXT, logo, sideImage, STYLE } = this.state;\r\n    let component = null;\r\n    switch (activeTab) {\r\n      case 1:\r\n        component = <Text {...TEXT} onChange={this.onUpdate} />;\r\n        break;\r\n      case 2:\r\n        component = <ImageUp image={logo} onChange={this.onUpdate} />;\r\n        break;\r\n      case 3:\r\n        component = <SideImage image={sideImage} onChange={this.onUpdate} />;\r\n        break;\r\n      case 4:\r\n        component = <Style {...STYLE} cases={4} onChange={this.onUpdate} />;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return component;\r\n  };\r\n\r\n  onClickSave = () => {\r\n    const { TEXT, logo, sideImage, STYLE } = this.state;\r\n    const bg = STYLE.elements[0].color;\r\n    const { url, footer, title } = TEXT;\r\n    generateFile(\"index.html\", createBonusContent(title, url, logo, sideImage, bg, footer, logo));\r\n    window.gs.setScript('<a id=\"MCK_BUYBUTTON\">....</a>');\r\n    setTimeout(() => {\r\n      this.props.history.push(\"/\");\r\n    }, 2000);\r\n  };\r\n\r\n  renderRight = () => {\r\n    const { activeTab, logo, sideImage } = this.state;\r\n    if (activeTab === 2 && logo != \"\") return <ReponsiveImage isImg={true} url={logo} />;\r\n    if (activeTab === 3 && sideImage != \"\") return <ReponsiveImage isImg={true} url={sideImage} />;\r\n    return <ReponsiveImage isAs={true} url={\"asset/mobilevab.png\"} />;\r\n  };\r\n\r\n  back = () => {\r\n    this.props.history.push(BONUS_CREATE);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ToolLayout>\r\n        <div className=\"row\">\r\n          <div className=\"col-10 toolItem\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">{this.renderMain()}</div>\r\n              <div className=\"col-md-6 mt-2\">{this.renderRight()}</div>\r\n              <ButtonsGroup backUrl={this.back} download={this.onClickSave} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-1 sideBarButtomPanel\">\r\n            <SideBar activeTab={this.state.activeTab} onChangeActive={this.onChangeActive} />\r\n          </div>\r\n        </div>\r\n      </ToolLayout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}