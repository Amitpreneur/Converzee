{"ast":null,"code":"import React,{Component}from\"react\";import\"../../Create.css\";import RequestHandler from\"../../../../actions/RequestHandler\";import{GET_ONE_TOOL,SAVE_TOOL,getPath}from\"../../../../actions/URLs\";import SideBar from\"./SideBar\";import ToolUtil from\"../../../../utils/ToolUtil\";import Timer from\"./Timer\";import{MobileVibratorModal,MobileVibratorModalResponse}from\"../../../utils/Modal\";import Util from\"../../../Util\";import{Drawer}from\"antd\";import{ButtonsGroup,ToolLayout}from\"../../../layout/ToolLayout\";import{ReponsiveImage}from\"../../../comman/PreviewAble\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const mobVib={activeTab:1,TEXT:{campaignName:\"\",headline:\"\",subheadline:[\"\"]},timing:{firstVib:0,pause:0,secondVib:0},CODE:{include:[{type:\"contains\",url:\"\"}],exclude:[{type:\"contains\",url:\"\"}]}};export default class MobileVibrator extends Component{constructor(){super(...arguments);this.state=mobVib;this.onChangeActive=tabIndex=>{const{activeTab}=this.state;if(activeTab!==tabIndex){this.setState({activeTab:tabIndex});}};this.onUpdate=(index,data)=>{switch(index){case 1:this.setState({timing:data});break;case 2:this.setState({code:data});break;default:break;}};this.renderMain=()=>{const{activeTab,TEXT,timing,CODE}=this.state;let component=null;switch(activeTab){case 1:component=/*#__PURE__*/_jsx(Timer,{...timing,onChange:this.onUpdate});break;default:// component = <Text {...TEXT} onChange={this.onUpdate} />;\nbreak;}return component;};this.onClickSave=()=>{const{timing}=this.state;const{firstVib,pause,secondVib}=timing;const script=genCodeMobileVibartor(firstVib*1000,pause*1000,secondVib*1000);window.gs.setScript(script);setTimeout(()=>{this.props.history.push(\"/Campaigns\");},3000);};this.renderRight=()=>{return/*#__PURE__*/_jsx(ReponsiveImage,{isAs:true,url:\"asset/mobilevab.png\"});};this.back=()=>{this.props.history.push(\"/Create\");};}componentDidMount(){const id=this.props.match?this.props.match.params?this.props.match.params.id:null:null;if(id){RequestHandler.PostRequest(GET_ONE_TOOL+id,{},(res,err)=>{if(res){Util.isRedirected=true;const data=MobileVibratorModalResponse(res);if(data){this.setState(data,()=>{window.gs.navTitle(ToolUtil.getTool(data.toolId)+\"(\"+data.name+\")\");});}}});}else{const toolId=10;this.setState({toolId:toolId,toolName:ToolUtil.getTool(toolId),name:Util.CAMPAIGNS_NAME});Util.RedirectWhenCampaignEmpty(this.props);window.gs.navTitle(ToolUtil.getTool(toolId)+\"(\"+Util.CAMPAIGNS_NAME+\")\");}}render(){return/*#__PURE__*/_jsx(ToolLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10 toolItem\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:this.renderMain()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mt-2\",children:this.renderRight()}),/*#__PURE__*/_jsx(ButtonsGroup,{backUrl:this.back,save:this.onClickSave})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1 sideBarButtomPanel\",children:/*#__PURE__*/_jsx(SideBar,{activeTab:this.state.activeTab,onChangeActive:this.onChangeActive})})]})});}}function genCodeMobileVibartor(f,s,t){return\"<script>document.addEventListener(\\\"click\\\",function(){navigator.vibrate([\".concat(f,\",\").concat(s,\",\").concat(t,\"]),document.removeEventListener(\\\"click\\\",function(){})});</script>\");}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/tools/MobileVibrator/index.js"],"names":["React","Component","RequestHandler","GET_ONE_TOOL","SAVE_TOOL","getPath","SideBar","ToolUtil","Timer","MobileVibratorModal","MobileVibratorModalResponse","Util","Drawer","ButtonsGroup","ToolLayout","ReponsiveImage","mobVib","activeTab","TEXT","campaignName","headline","subheadline","timing","firstVib","pause","secondVib","CODE","include","type","url","exclude","MobileVibrator","state","onChangeActive","tabIndex","setState","onUpdate","index","data","code","renderMain","component","onClickSave","script","genCodeMobileVibartor","window","gs","setScript","setTimeout","props","history","push","renderRight","back","componentDidMount","id","match","params","PostRequest","res","err","isRedirected","navTitle","getTool","toolId","name","toolName","CAMPAIGNS_NAME","RedirectWhenCampaignEmpty","render","f","s","t"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CACA,OAASC,YAAT,CAAuBC,SAAvB,CAAkCC,OAAlC,KAAiD,0BAAjD,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,mBAAT,CAA8BC,2BAA9B,KAAiE,sBAAjE,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,OAASC,MAAT,KAAuB,MAAvB,CACA,OAASC,YAAT,CAAuBC,UAAvB,KAAyC,4BAAzC,CACA,OAASC,cAAT,KAA+B,6BAA/B,C,wFAEA,KAAMC,CAAAA,MAAM,CAAG,CACbC,SAAS,CAAE,CADE,CAEbC,IAAI,CAAE,CAAEC,YAAY,CAAE,EAAhB,CAAoBC,QAAQ,CAAE,EAA9B,CAAkCC,WAAW,CAAE,CAAC,EAAD,CAA/C,CAFO,CAGbC,MAAM,CAAE,CAAEC,QAAQ,CAAE,CAAZ,CAAeC,KAAK,CAAE,CAAtB,CAAyBC,SAAS,CAAE,CAApC,CAHK,CAIbC,IAAI,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,IAAI,CAAE,UAAR,CAAoBC,GAAG,CAAE,EAAzB,CAAD,CAAX,CAA4CC,OAAO,CAAE,CAAC,CAAEF,IAAI,CAAE,UAAR,CAAoBC,GAAG,CAAE,EAAzB,CAAD,CAArD,CAJO,CAAf,CAMA,cAAe,MAAME,CAAAA,cAAN,QAA6B9B,CAAAA,SAAU,wCACpD+B,KADoD,CAC5ChB,MAD4C,MAuBpDiB,cAvBoD,CAuBlCC,QAAD,EAAc,CAC7B,KAAM,CAAEjB,SAAF,EAAgB,KAAKe,KAA3B,CACA,GAAIf,SAAS,GAAKiB,QAAlB,CAA4B,CAC1B,KAAKC,QAAL,CAAc,CAAElB,SAAS,CAAEiB,QAAb,CAAd,EACD,CACF,CA5BmD,MA6BpDE,QA7BoD,CA6BzC,CAACC,KAAD,CAAQC,IAAR,GAAiB,CAC1B,OAAQD,KAAR,EACE,IAAK,EAAL,CACE,KAAKF,QAAL,CAAc,CAAEb,MAAM,CAAEgB,IAAV,CAAd,EACA,MACF,IAAK,EAAL,CACE,KAAKH,QAAL,CAAc,CAAEI,IAAI,CAAED,IAAR,CAAd,EACA,MACF,QACE,MARJ,CAUD,CAxCmD,MAyCpDE,UAzCoD,CAyCvC,IAAM,CACjB,KAAM,CAAEvB,SAAF,CAAaC,IAAb,CAAmBI,MAAnB,CAA2BI,IAA3B,EAAoC,KAAKM,KAA/C,CACA,GAAIS,CAAAA,SAAS,CAAG,IAAhB,CACA,OAAQxB,SAAR,EACE,IAAK,EAAL,CACEwB,SAAS,cAAG,KAAC,KAAD,KAAWnB,MAAX,CAAmB,QAAQ,CAAE,KAAKc,QAAlC,EAAZ,CACA,MACF,QACE;AACA,MANJ,CAQA,MAAOK,CAAAA,SAAP,CACD,CArDmD,MAuDpDC,WAvDoD,CAuDtC,IAAM,CAClB,KAAM,CAAEpB,MAAF,EAAa,KAAKU,KAAxB,CACA,KAAM,CAAET,QAAF,CAAYC,KAAZ,CAAmBC,SAAnB,EAAiCH,MAAvC,CACA,KAAMqB,CAAAA,MAAM,CAAGC,qBAAqB,CAACrB,QAAQ,CAAG,IAAZ,CAAkBC,KAAK,CAAG,IAA1B,CAAgCC,SAAS,CAAG,IAA5C,CAApC,CACAoB,MAAM,CAACC,EAAP,CAAUC,SAAV,CAAoBJ,MAApB,EACAK,UAAU,CAAC,IAAM,CACf,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACD,CAFS,CAEP,IAFO,CAAV,CAGD,CA/DmD,MAiEpDC,WAjEoD,CAiEtC,IAAM,CAClB,mBAAO,KAAC,cAAD,EAAgB,IAAI,CAAE,IAAtB,CAA4B,GAAG,CAAE,qBAAjC,EAAP,CACD,CAnEmD,MAqEpDC,IArEoD,CAqE7C,IAAM,CACX,KAAKJ,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EACD,CAvEmD,EAEpDG,iBAAiB,EAAG,CAClB,KAAMC,CAAAA,EAAE,CAAG,KAAKN,KAAL,CAAWO,KAAX,CAAoB,KAAKP,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAA0B,KAAKR,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBF,EAAlD,CAAuD,IAA3E,CAAmF,IAA9F,CACA,GAAIA,EAAJ,CAAQ,CACNrD,cAAc,CAACwD,WAAf,CAA2BvD,YAAY,CAAGoD,EAA1C,CAA8C,EAA9C,CAAkD,CAACI,GAAD,CAAMC,GAAN,GAAc,CAC9D,GAAID,GAAJ,CAAS,CACPhD,IAAI,CAACkD,YAAL,CAAoB,IAApB,CACA,KAAMvB,CAAAA,IAAI,CAAG5B,2BAA2B,CAACiD,GAAD,CAAxC,CACA,GAAIrB,IAAJ,CAAU,CACR,KAAKH,QAAL,CAAcG,IAAd,CAAoB,IAAM,CACxBO,MAAM,CAACC,EAAP,CAAUgB,QAAV,CAAmBvD,QAAQ,CAACwD,OAAT,CAAiBzB,IAAI,CAAC0B,MAAtB,EAAgC,GAAhC,CAAsC1B,IAAI,CAAC2B,IAA3C,CAAkD,GAArE,EACD,CAFD,EAGD,CACF,CACF,CAVD,EAWD,CAZD,IAYO,CACL,KAAMD,CAAAA,MAAM,CAAG,EAAf,CACA,KAAK7B,QAAL,CAAc,CAAE6B,MAAM,CAAEA,MAAV,CAAkBE,QAAQ,CAAE3D,QAAQ,CAACwD,OAAT,CAAiBC,MAAjB,CAA5B,CAAsDC,IAAI,CAAEtD,IAAI,CAACwD,cAAjE,CAAd,EACAxD,IAAI,CAACyD,yBAAL,CAA+B,KAAKnB,KAApC,EACAJ,MAAM,CAACC,EAAP,CAAUgB,QAAV,CAAmBvD,QAAQ,CAACwD,OAAT,CAAiBC,MAAjB,EAA2B,GAA3B,CAAiCrD,IAAI,CAACwD,cAAtC,CAAuD,GAA1E,EACD,CACF,CAmDDE,MAAM,EAAG,CACP,mBACE,KAAC,UAAD,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,UAAf,UAA2B,KAAK7B,UAAL,EAA3B,EADF,cAEE,YAAK,SAAS,CAAC,eAAf,UAAgC,KAAKY,WAAL,EAAhC,EAFF,cAGE,KAAC,YAAD,EAAc,OAAO,CAAE,KAAKC,IAA5B,CAAkC,IAAI,CAAE,KAAKX,WAA7C,EAHF,GADF,EADF,cAQE,YAAK,SAAS,CAAC,0BAAf,uBACE,KAAC,OAAD,EAAS,SAAS,CAAE,KAAKV,KAAL,CAAWf,SAA/B,CAA0C,cAAc,CAAE,KAAKgB,cAA/D,EADF,EARF,GADF,EADF,CAgBD,CA1FmD,CA6FtD,QAASW,CAAAA,qBAAT,CAA+B0B,CAA/B,CAAkCC,CAAlC,CAAqCC,CAArC,CAAwC,CACtC,0FAAkFF,CAAlF,aAAuFC,CAAvF,aAA4FC,CAA5F,wEACD","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../../Create.css\";\r\nimport RequestHandler from \"../../../../actions/RequestHandler\";\r\nimport { GET_ONE_TOOL, SAVE_TOOL, getPath } from \"../../../../actions/URLs\";\r\nimport SideBar from \"./SideBar\";\r\nimport ToolUtil from \"../../../../utils/ToolUtil\";\r\nimport Timer from \"./Timer\";\r\nimport { MobileVibratorModal, MobileVibratorModalResponse } from \"../../../utils/Modal\";\r\nimport Util from \"../../../Util\";\r\nimport { Drawer } from \"antd\";\r\nimport { ButtonsGroup, ToolLayout } from \"../../../layout/ToolLayout\";\r\nimport { ReponsiveImage } from \"../../../comman/PreviewAble\";\r\n\r\nconst mobVib = {\r\n  activeTab: 1,\r\n  TEXT: { campaignName: \"\", headline: \"\", subheadline: [\"\"] },\r\n  timing: { firstVib: 0, pause: 0, secondVib: 0 },\r\n  CODE: { include: [{ type: \"contains\", url: \"\" }], exclude: [{ type: \"contains\", url: \"\" }] },\r\n};\r\nexport default class MobileVibrator extends Component {\r\n  state = mobVib;\r\n  componentDidMount() {\r\n    const id = this.props.match ? (this.props.match.params ? this.props.match.params.id : null) : null;\r\n    if (id) {\r\n      RequestHandler.PostRequest(GET_ONE_TOOL + id, {}, (res, err) => {\r\n        if (res) {\r\n          Util.isRedirected = true;\r\n          const data = MobileVibratorModalResponse(res);\r\n          if (data) {\r\n            this.setState(data, () => {\r\n              window.gs.navTitle(ToolUtil.getTool(data.toolId) + \"(\" + data.name + \")\");\r\n            });\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      const toolId = 10;\r\n      this.setState({ toolId: toolId, toolName: ToolUtil.getTool(toolId), name: Util.CAMPAIGNS_NAME });\r\n      Util.RedirectWhenCampaignEmpty(this.props);\r\n      window.gs.navTitle(ToolUtil.getTool(toolId) + \"(\" + Util.CAMPAIGNS_NAME + \")\");\r\n    }\r\n  }\r\n  onChangeActive = (tabIndex) => {\r\n    const { activeTab } = this.state;\r\n    if (activeTab !== tabIndex) {\r\n      this.setState({ activeTab: tabIndex });\r\n    }\r\n  };\r\n  onUpdate = (index, data) => {\r\n    switch (index) {\r\n      case 1:\r\n        this.setState({ timing: data });\r\n        break;\r\n      case 2:\r\n        this.setState({ code: data });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  renderMain = () => {\r\n    const { activeTab, TEXT, timing, CODE } = this.state;\r\n    let component = null;\r\n    switch (activeTab) {\r\n      case 1:\r\n        component = <Timer {...timing} onChange={this.onUpdate} />;\r\n        break;\r\n      default:\r\n        // component = <Text {...TEXT} onChange={this.onUpdate} />;\r\n        break;\r\n    }\r\n    return component;\r\n  };\r\n\r\n  onClickSave = () => {\r\n    const { timing } = this.state;\r\n    const { firstVib, pause, secondVib } = timing;\r\n    const script = genCodeMobileVibartor(firstVib * 1000, pause * 1000, secondVib * 1000);\r\n    window.gs.setScript(script);\r\n    setTimeout(() => {\r\n      this.props.history.push(\"/Campaigns\");\r\n    }, 3000);\r\n  };\r\n\r\n  renderRight = () => {\r\n    return <ReponsiveImage isAs={true} url={\"asset/mobilevab.png\"} />;\r\n  };\r\n\r\n  back = () => {\r\n    this.props.history.push(\"/Create\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ToolLayout>\r\n        <div className=\"row\">\r\n          <div className=\"col-10 toolItem\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">{this.renderMain()}</div>\r\n              <div className=\"col-md-6 mt-2\">{this.renderRight()}</div>\r\n              <ButtonsGroup backUrl={this.back} save={this.onClickSave} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-1 sideBarButtomPanel\">\r\n            <SideBar activeTab={this.state.activeTab} onChangeActive={this.onChangeActive} />\r\n          </div>\r\n        </div>\r\n      </ToolLayout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction genCodeMobileVibartor(f, s, t) {\r\n  return `<script>document.addEventListener(\"click\",function(){navigator.vibrate([${f},${s},${t}]),document.removeEventListener(\"click\",function(){})});</script>`;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}