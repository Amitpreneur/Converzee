{"ast":null,"code":"import React,{Component}from\"react\";import\"../../Create.css\";import Code from\"../../../subpages/create/Code\";import RequestHandler from\"../../../../actions/RequestHandler\";import{GET_ONE_TOOL,SAVE_TOOL,getPath,getBGPath}from\"../../../../actions/URLs\";import Text from\"./Text\";import SideBar from\"./SideBar\";import ToolUtil from\"../../../../utils/ToolUtil\";import Style from\"./Style\";import Timer from\"../../../subpages/create/Timer\";import Layout from\"../../../subpages/create/Layout\";import Util from\"../../../Util\";import Preview from\"./Preview\";import{CentralTimerModalResponse,CentralTimerModal}from\"../../../utils/Modal\";import{Drawer,Modal}from\"antd\";import{ButtonsGroup,ToolLayout}from\"../../../layout/ToolLayout\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const centraltime={activeTab:1,TEXT:{campaignName:\"\",timerText:\"\",timerLabel:{DD:\"Days\",HH:\"Hours\",MM:\"Mintues\",SS:\"Second\"}},timer:{timerType:\"DATE_AND_TIME_BASED\",endDateTime:new Date(),timeZone:Util.getTimeZoneList()[0].value,whenTimeExp:\"hide\",url:\"\",DD:0,HH:0,MM:0,SS:0},layout:1,STYLE:{elements:[{name:\"centralTimer\",text:\"Central Timer\",color:\"#000\"},// { name: \"centralTimerTitle\", text: \"Central Timer Title\", color: \"\" },\n{name:\"centralTimerLabel\",text:\"Central Timer Label\",color:\"#000\"}],selected:0,timerFont:30,timerLabelFont:20},CODE:{include:[{type:\"contains\",url:\"\"}],exclude:[{type:\"contains\",url:\"\"}]}};export default class CentralTimer extends Component{constructor(){super(...arguments);this.state=centraltime;this.loaded=false;this.onChangeActive=tabIndex=>{const{activeTab}=this.state;if(activeTab!==tabIndex){this.setState({activeTab:tabIndex});}};this.onUpdate=(index,data)=>{switch(index){case 1:this.setState({TEXT:data});break;case 2:this.setState({timer:data});break;case 3:this.setState({layout:data});break;case 4:this.setState({STYLE:data});break;case 5:this.setState({CODE:data});break;default:break;}};this.renderMain=()=>{const{activeTab,TEXT,timer,layout,STYLE,CODE}=this.state;if(!this.loaded)return null;let component=null;switch(activeTab){case 1:component=/*#__PURE__*/_jsx(Text,{...TEXT,onChange:this.onUpdate});break;case 2:component=/*#__PURE__*/_jsx(Timer,{case:2,...timer,onChange:this.onUpdate});break;case 3:component=/*#__PURE__*/_jsx(Layout,{layout:layout,case:3,onChange:this.onUpdate});break;case 4:component=/*#__PURE__*/_jsx(Style,{...STYLE,case:4,onChange:this.onUpdate});break;case 5:component=/*#__PURE__*/_jsx(Code,{...CODE,case:5,onChange:this.onUpdate});break;default:component=/*#__PURE__*/_jsx(Text,{...TEXT,onChange:this.onUpdate});break;}return component;};this.onClickSave=()=>{const toolData=this.state;if(this.state.CODE.include[0].url!==\"\"){if(!Util.isArrayEqual(centraltime,this.state,3)){RequestHandler.PostRequest(SAVE_TOOL,{toolData:CentralTimerModal(toolData)},(res,err)=>{if(res){if(res.data.script){window.gs.setScript(res.data.script);setTimeout(()=>{this.props.history.push(\"/Campaigns\");},3000);}else{window.gs.toast(res.data.message,{position:\"bottom-right\",type:window.gs.toast.TYPE.FAILED});}}else{console.log(err);}});}}else{Modal.warning({content:\"Should Contain atleast one trigger point\"});}};this.renderRight=()=>{return/*#__PURE__*/_jsx(Preview,{...this.state});// return <img src={getPath(\"/asset/Iframegraphic.png\")} class=\"img-fluid\" alt=\"Responsive image\"></img>;\n};this.back=()=>{this.props.history.push(\"/Create\");};}componentDidMount(){const id=this.props.match?this.props.match.params?this.props.match.params.id:null:null;if(id){RequestHandler.PostRequest(GET_ONE_TOOL+id,{},(res,err)=>{if(res){this.loaded=true;Util.isRedirected=true;const data=CentralTimerModalResponse(res);if(data){this.setState(data,()=>{window.gs.navTitle(ToolUtil.getTool(data.toolId)+\"(\"+data.name+\")\");});}}});}else{const toolId=6;this.loaded=true;this.setState({toolId:toolId,toolName:ToolUtil.getTool(toolId),name:Util.CAMPAIGNS_NAME});Util.RedirectWhenCampaignEmpty(this.props);window.gs.navTitle(ToolUtil.getTool(toolId)+\"(\"+Util.CAMPAIGNS_NAME+\")\");}}render(){const{preview}=this.state;return/*#__PURE__*/_jsx(ToolLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10 toolItem\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{minHeight:\"495px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:this.renderMain()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 ct_preview\",style:{backgroundSize:\"contain\",padding:\"5%\",backgroundRepeat:\"no-repeat\",backgroundImage:getBGPath(\"/asset/centralTimerBg.png\")},children:this.renderRight()}),/*#__PURE__*/_jsx(ButtonsGroup,{backUrl:this.back,save:this.onClickSave})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1 sideBarButtomPanel\",children:/*#__PURE__*/_jsx(SideBar,{activeTab:this.state.activeTab,onChangeActive:this.onChangeActive})})]})});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/tools/CentralTimer/index.js"],"names":["React","Component","Code","RequestHandler","GET_ONE_TOOL","SAVE_TOOL","getPath","getBGPath","Text","SideBar","ToolUtil","Style","Timer","Layout","Util","Preview","CentralTimerModalResponse","CentralTimerModal","Drawer","Modal","ButtonsGroup","ToolLayout","centraltime","activeTab","TEXT","campaignName","timerText","timerLabel","DD","HH","MM","SS","timer","timerType","endDateTime","Date","timeZone","getTimeZoneList","value","whenTimeExp","url","layout","STYLE","elements","name","text","color","selected","timerFont","timerLabelFont","CODE","include","type","exclude","CentralTimer","state","loaded","onChangeActive","tabIndex","setState","onUpdate","index","data","renderMain","component","onClickSave","toolData","isArrayEqual","PostRequest","res","err","script","window","gs","setScript","setTimeout","props","history","push","toast","message","position","TYPE","FAILED","console","log","warning","content","renderRight","back","componentDidMount","id","match","params","isRedirected","navTitle","getTool","toolId","toolName","CAMPAIGNS_NAME","RedirectWhenCampaignEmpty","render","preview","minHeight","backgroundSize","padding","backgroundRepeat","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../../Create.css\";\r\nimport Code from \"../../../subpages/create/Code\";\r\nimport RequestHandler from \"../../../../actions/RequestHandler\";\r\nimport { GET_ONE_TOOL, SAVE_TOOL, getPath, getBGPath } from \"../../../../actions/URLs\";\r\nimport Text from \"./Text\";\r\nimport SideBar from \"./SideBar\";\r\nimport ToolUtil from \"../../../../utils/ToolUtil\";\r\nimport Style from \"./Style\";\r\nimport Timer from \"../../../subpages/create/Timer\";\r\nimport Layout from \"../../../subpages/create/Layout\";\r\nimport Util from \"../../../Util\";\r\nimport Preview from \"./Preview\";\r\nimport { CentralTimerModalResponse, CentralTimerModal } from \"../../../utils/Modal\";\r\nimport { Drawer, Modal } from \"antd\";\r\nimport { ButtonsGroup, ToolLayout } from \"../../../layout/ToolLayout\";\r\n\r\nconst centraltime = {\r\n  activeTab: 1,\r\n  TEXT: { campaignName: \"\", timerText: \"\", timerLabel: { DD: \"Days\", HH: \"Hours\", MM: \"Mintues\", SS: \"Second\" } },\r\n  timer: { timerType: \"DATE_AND_TIME_BASED\", endDateTime: new Date(), timeZone: Util.getTimeZoneList()[0].value, whenTimeExp: \"hide\", url: \"\", DD: 0, HH: 0, MM: 0, SS: 0 },\r\n  layout: 1,\r\n  STYLE: {\r\n    elements: [\r\n      { name: \"centralTimer\", text: \"Central Timer\", color: \"#000\" },\r\n      // { name: \"centralTimerTitle\", text: \"Central Timer Title\", color: \"\" },\r\n      { name: \"centralTimerLabel\", text: \"Central Timer Label\", color: \"#000\" },\r\n    ],\r\n    selected: 0,\r\n    timerFont: 30,\r\n    timerLabelFont: 20,\r\n  },\r\n  CODE: { include: [{ type: \"contains\", url: \"\" }], exclude: [{ type: \"contains\", url: \"\" }] },\r\n};\r\nexport default class CentralTimer extends Component {\r\n  state = centraltime;\r\n  loaded = false;\r\n  componentDidMount() {\r\n    const id = this.props.match ? (this.props.match.params ? this.props.match.params.id : null) : null;\r\n    if (id) {\r\n      RequestHandler.PostRequest(GET_ONE_TOOL + id, {}, (res, err) => {\r\n        if (res) {\r\n          this.loaded = true;\r\n          Util.isRedirected = true;\r\n          const data = CentralTimerModalResponse(res);\r\n          if (data) {\r\n            this.setState(data, () => {\r\n              window.gs.navTitle(ToolUtil.getTool(data.toolId) + \"(\" + data.name + \")\");\r\n            });\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      const toolId = 6;\r\n      this.loaded = true;\r\n      this.setState({ toolId: toolId, toolName: ToolUtil.getTool(toolId), name: Util.CAMPAIGNS_NAME });\r\n      Util.RedirectWhenCampaignEmpty(this.props);\r\n      window.gs.navTitle(ToolUtil.getTool(toolId) + \"(\" + Util.CAMPAIGNS_NAME + \")\");\r\n    }\r\n  }\r\n  onChangeActive = (tabIndex) => {\r\n    const { activeTab } = this.state;\r\n    if (activeTab !== tabIndex) {\r\n      this.setState({ activeTab: tabIndex });\r\n    }\r\n  };\r\n  onUpdate = (index, data) => {\r\n    switch (index) {\r\n      case 1:\r\n        this.setState({ TEXT: data });\r\n        break;\r\n      case 2:\r\n        this.setState({ timer: data });\r\n        break;\r\n      case 3:\r\n        this.setState({ layout: data });\r\n        break;\r\n      case 4:\r\n        this.setState({ STYLE: data });\r\n        break;\r\n      case 5:\r\n        this.setState({ CODE: data });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  renderMain = () => {\r\n    const { activeTab, TEXT, timer, layout, STYLE, CODE } = this.state;\r\n    if (!this.loaded) return null;\r\n    let component = null;\r\n    switch (activeTab) {\r\n      case 1:\r\n        component = <Text {...TEXT} onChange={this.onUpdate} />;\r\n        break;\r\n      case 2:\r\n        component = <Timer case={2} {...timer} onChange={this.onUpdate} />;\r\n        break;\r\n      case 3:\r\n        component = <Layout layout={layout} case={3} onChange={this.onUpdate} />;\r\n        break;\r\n      case 4:\r\n        component = <Style {...STYLE} case={4} onChange={this.onUpdate} />;\r\n        break;\r\n      case 5:\r\n        component = <Code {...CODE} case={5} onChange={this.onUpdate} />;\r\n        break;\r\n      default:\r\n        component = <Text {...TEXT} onChange={this.onUpdate} />;\r\n        break;\r\n    }\r\n    return component;\r\n  };\r\n\r\n  onClickSave = () => {\r\n    const toolData = this.state;\r\n\r\n    if (this.state.CODE.include[0].url !== \"\") {\r\n      if (!Util.isArrayEqual(centraltime, this.state, 3)) {\r\n        RequestHandler.PostRequest(SAVE_TOOL, { toolData: CentralTimerModal(toolData) }, (res, err) => {\r\n          if (res) {\r\n            if (res.data.script) {\r\n              window.gs.setScript(res.data.script);\r\n              setTimeout(() => {\r\n                this.props.history.push(\"/Campaigns\");\r\n              }, 3000);\r\n            } else {\r\n              window.gs.toast(res.data.message, { position: \"bottom-right\", type: window.gs.toast.TYPE.FAILED });\r\n            }\r\n          } else {\r\n            console.log(err);\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      Modal.warning({\r\n        content: \"Should Contain atleast one trigger point\",\r\n      });\r\n    }\r\n  };\r\n\r\n  renderRight = () => {\r\n    return <Preview {...this.state} />;\r\n    // return <img src={getPath(\"/asset/Iframegraphic.png\")} class=\"img-fluid\" alt=\"Responsive image\"></img>;\r\n  };\r\n\r\n  back = () => {\r\n    this.props.history.push(\"/Create\");\r\n  };\r\n\r\n  render() {\r\n    const { preview } = this.state;\r\n\r\n    return (\r\n      <ToolLayout>\r\n        <div className=\"row\">\r\n          {/* {preview ? <Preview {...this.state} /> : null} */}\r\n          <div className=\"col-10 toolItem\">\r\n            <div className=\"row\" style={{ minHeight: \"495px\" }}>\r\n              <div className=\"col-md-6\">{this.renderMain()}</div>\r\n              <div className=\"col-md-6 ct_preview\" style={{ backgroundSize: \"contain\", padding: \"5%\", backgroundRepeat: \"no-repeat\", backgroundImage: getBGPath(\"/asset/centralTimerBg.png\") }}>\r\n                {this.renderRight()}\r\n              </div>\r\n              <ButtonsGroup backUrl={this.back} save={this.onClickSave} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-1 sideBarButtomPanel\">\r\n            <SideBar activeTab={this.state.activeTab} onChangeActive={this.onChangeActive} />\r\n          </div>\r\n        </div>\r\n      </ToolLayout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}