{"ast":null,"code":"import React,{Component}from\"react\";import Util from\"../../../Util\";import{Info}from\"../../../comman/Info\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Text extends Component{constructor(){super(...arguments);this.state={messages:this.props.messages,randomMsg:\"\"};this.randomText=this.props.randomText;this.i=0;this.onChange=e=>{this.setState({[e.target.name]:e.target.value});};this.addmessage=()=>{const{randomMsg,messages}=this.state;if(randomMsg!==null&&randomMsg!==\"\"&&!messages.includes(randomMsg)){messages.push(randomMsg);this.setState({messages},()=>{// const newObj = { messages: this.state.messages };\nthis.props.onChange({messages:this.state.messages});});this.setState({randomMsg:\"\"});}else{window.gs.toast(\"Message Should be unique\",{position:\"top-right\",type:window.gs.toast.TYPE.ERROR});}};this.renderMsgList=(item,index)=>{return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[item,/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-danger badge-pill msg_add_btn\",children:/*#__PURE__*/_jsx(\"i\",{onClick:()=>this.removeListItem(index),title:\"Remove\",className:\"fa fa-minus-circle\",\"aria-hidden\":\"true\"})})]},item+index);};this.removeListItem=index=>{const{messages}=this.state;messages.splice(index,1);this.setState({messages},()=>{const newObj=this.state.messages;this.props.onChange({messages:newObj});});};this.randomClick=()=>{if(this.i===this.randomText.length-1)this.i=0;else this.i++;this.setState({randomMsg:this.randomText[this.i]});};}componentWillReceiveProps(nextProps){if(Util.isRedirected){Util.isRedirected=false;this.setState({messages:nextProps.messages});}}componentWillUnmount(){this.props.onChange({messages:this.state.messages});}render(){const{randomMsg,messages}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"sample_msg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-2 cz_messaging_input\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Custom Message*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"randomMsg\",value:randomMsg,onChange:this.onChange}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",style:{cursor:\"pointer\"},onClick:this.addmessage,children:\"Add\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Selected Message*\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:messages.length?/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:messages.map(this.renderMsgList)}):/*#__PURE__*/_jsx(\"p\",{children:\"Message has not been selected.\"})})]});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/tools/TabMessaging/Text.js"],"names":["React","Component","Util","Info","Text","state","messages","props","randomMsg","randomText","i","onChange","e","setState","target","name","value","addmessage","includes","push","window","gs","toast","position","type","TYPE","ERROR","renderMsgList","item","index","removeListItem","splice","newObj","randomClick","length","componentWillReceiveProps","nextProps","isRedirected","componentWillUnmount","render","cursor","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Util from \"../../../Util\";\r\nimport { Info } from \"../../../comman/Info\";\r\nexport default class Text extends Component {\r\n  state = {\r\n    messages: this.props.messages,\r\n    randomMsg: \"\"\r\n  };\r\n  randomText = this.props.randomText;\r\n  i = 0;\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (Util.isRedirected) {\r\n      Util.isRedirected = false;\r\n      this.setState({ messages: nextProps.messages });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  addmessage = () => {\r\n    const { randomMsg, messages } = this.state;\r\n    if (randomMsg !== null && randomMsg !== \"\" && !messages.includes(randomMsg)) {\r\n      messages.push(randomMsg);\r\n      this.setState({ messages }, () => {\r\n        // const newObj = { messages: this.state.messages };\r\n        this.props.onChange({ messages: this.state.messages });\r\n      });\r\n      this.setState({randomMsg : \"\"})\r\n    } else {\r\n      window.gs.toast(\"Message Should be unique\", { position: \"top-right\", type: window.gs.toast.TYPE.ERROR });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.onChange({ messages: this.state.messages });\r\n  }\r\n\r\n  renderMsgList = (item, index) => {\r\n    return (\r\n      <li className=\"list-group-item d-flex justify-content-between align-items-center\" key={item + index}>\r\n        {item}\r\n        <span className=\"badge badge-danger badge-pill msg_add_btn\">\r\n          <i onClick={() => this.removeListItem(index)} title=\"Remove\" className=\"fa fa-minus-circle\" aria-hidden=\"true\" />\r\n        </span>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  removeListItem = (index) => {\r\n    const { messages } = this.state;\r\n    messages.splice(index, 1);\r\n    this.setState({ messages }, () => {\r\n      const newObj = this.state.messages;\r\n      this.props.onChange({ messages: newObj });\r\n    });\r\n  };\r\n\r\n  randomClick = () => {\r\n    if (this.i === this.randomText.length - 1) this.i = 0;\r\n    else this.i++;\r\n    this.setState({ randomMsg: this.randomText[this.i] });\r\n  };\r\n\r\n  render() {\r\n    const { randomMsg, messages } = this.state;\r\n    return (\r\n      <div className=\"sample_msg\">\r\n        <div className=\"col-auto\">\r\n          <div className=\"input-group mb-2 cz_messaging_input\">\r\n            <h5>Custom Message*</h5>\r\n            <input type=\"text\" className=\"form-control\" name=\"randomMsg\" value={randomMsg} onChange={this.onChange} />\r\n            <div className=\"input-group-append\">\r\n              <span className=\"input-group-text\" style={{ cursor: \"pointer\" }} onClick={this.addmessage}>\r\n                Add\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"label-text\"><h3>Selected Message*</h3></div>\r\n          {/* <div style={{ textAlign: \"end\", cursor: \"pointer\",fontWeight: 600 }}>\r\n            <span onClick={this.randomClick}>Random Message</span>\r\n          </div> */}\r\n        </div>\r\n        <div>\r\n          {messages.length ? \r\n          <ul className=\"list-group list-group-flush\">{messages.map(this.renderMsgList)}</ul>\r\n          : <p>Message has not been selected.</p>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}