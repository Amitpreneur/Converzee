{"ast":null,"code":"import React,{Component}from\"react\";import\"./Sidebar.css\";import{TABMESSAGING,URGENCY,HELLOBAR,HELLOBARTIMER,IMAGEPOPUP,VIDEOPOPUP,CENTRALTIMER,GEOREDIRECTION,BREAKEVENCALCULATOR,EXITINTENT,MOBILEVIBRATOR,EMAIL_INTRIGATION,IMAGE_OPTIOMAZTION,DYNEMICELEMENT,OFFERIFRAME,BACKBUTTONREDIRECTION,ADMIN,SUPER_ADMIN,OTO2,OTO3,USER_SETTINGS,AGENCY,BONUS,BONUS_CREATE,TRAINING,VIP_BONUS,SUPPORT_USER}from\"../../utils/Routes\";import ToolUtil from\"../../utils/ToolUtil\";import{getPath}from\"../../actions/URLs\";import{Link}from\"react-router-dom\";import{Drawer}from\"antd\";import{isMobile}from\"../utils/ScreenUtil\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Sidebar extends Component{constructor(){super(...arguments);this.state={activePage:0,showMenu:false,active:\"\"};this.dashBoard=[\"\"];this.create=[\"/Create\",TABMESSAGING,URGENCY,HELLOBAR,HELLOBARTIMER,IMAGEPOPUP,VIDEOPOPUP,CENTRALTIMER,GEOREDIRECTION,BREAKEVENCALCULATOR,EXITINTENT,MOBILEVIBRATOR,EMAIL_INTRIGATION,IMAGE_OPTIOMAZTION,DYNEMICELEMENT,OFFERIFRAME,BACKBUTTONREDIRECTION];this.state={access:0,isUpgrade1:false,isUpgrade2:false,active:\"\",isVipBonus:false,createdAt:\"\",isSubuser:false};this.items=[];this.setPermission=(access,createdAt)=>{this.setState({access:access,isUpgrade1:ToolUtil.isUpgrade1,isUpgrade2:ToolUtil.isUpgrade2,isVipBonus:ToolUtil.isVipBonus,createdAt:createdAt,isSubuser:window.isSubuser},()=>{this.setItems();});};this.setItems=()=>{const{access,isUpgrade1,isUpgrade2,isVipBonus,createdAt,isSubuser}=this.state;const items=[];items.push({icon:\"dashboard.svg\",text:\"Dashboard\",url:\"/Dashboard\",a:\"DASHBOARD\"});items.push({icon:\"create.svg\",text:\"Create\",url:\"/Create\",a:\"CREATE\"});items.push({icon:\"campaign.svg\",text:\"Campaigns\",url:\"/Campaigns\",a:\"CAMPAIGNS\"});if(access>80||isUpgrade1)items.push({icon:\"upgrade.svg\",text:\"Pro\",url:OTO2,a:\"OTO2\"});else items.push({icon:\"upgrade.svg\",text:\"Pro\",url:null,a:\"OTO2\"});if(access>80||isUpgrade2)items.push({icon:\"upgrade.svg\",text:\"Club\",url:OTO3,a:\"OTO3\"});else items.push({icon:\"upgrade.svg\",text:\"Club\",url:null,a:\"OTO3\"});if(access>50)items.push({icon:\"upgrade.svg\",text:\"Agency\",url:AGENCY,a:\"AGENCY\"});/* if (access > 50 && isUpgrade1) items.push({ icon: \"admin.svg\", text: \"Admin\", url: \"/Admin\", a: \"ADMIN\" }); */if(access>50)items.push({icon:\"admin.svg\",text:\"Admin\",url:null,a:\"ADMIN\"});if(access>80||isSubuser)items.push({icon:\"superadmin.svg\",text:\"Super Admin\",url:\"/SuperAdmin\",a:\"SUPERADMIN\"});if(access>80)items.push({icon:\"superadmin.svg\",text:\"Support User\",url:\"/SupportUser\",a:\"SUPPORT_USER\"});items.push({icon:\"upgrade.svg\",text:\"Settings\",url:USER_SETTINGS,a:\"USER_SETTINGS\"});items.push({icon:\"upgrade.svg\",text:\"Bonus\",url:BONUS_CREATE,a:\"BONUS\"});// items.push({ icon: \"upgrade.svg\", text: \"Training\", url: TRAINING, a: \"TRAINING\" });\nif(isVipBonus)items.push({icon:\"upgrade.svg\",text:\"Vip Bonus\",url:VIP_BONUS,a:\"VIP_BONUS\"});// items.push({ icon: \"upgrade.svg\", text: \"Bonus\", url: null, a: \"BONUS\" });\nthis.items=items;this.forceUpdate();};this.onClick=(key,url)=>{var d=new Date(this.state.createdAt);if(key==\"Admin\"&&!(new Date()>=d.setMonth(d.getMonth()+1))){window.gs.sayUpdate(\"To be fair to our JV partners & affiliates, your Agency access will be unlocked 1 month after your purchase\",true,\"\");return;}else{if(key==\"Admin\"){url=\"/\"+key;window.location.pathname=url;}}if(url){window.gs.navTitle(key);this.setState({active:key});}else{if(key==\"Pro\"){window.gs.sayUpdate(null,false,ToolUtil.linksList?ToolUtil.linksList.oto2:\"\");}else{window.gs.sayUpdate(null,false,ToolUtil.linksList?ToolUtil.linksList.oto3:\"\");}}if(isMobile()){this.props.toggleSideBar();}};this.openDrawer=()=>{this.setState({showMenu:!this.state.showMenu});};this.onDrawerMenuSelect=title=>{window.gs.navTitle(title);this.openDrawer();};}componentWillMount(){this.setPermission(this.props.access,this.props.createdAt);}componentWillReceiveProps(nextProps){if(this.props.access!=nextProps.access&&this.props.createdAt!=nextProps.createdAt){this.setPermission(nextProps.access,nextProps.createdAt);}}getActivePage(){const urlTab=window.location.pathname;const{active}=this.state;if(!urlTab){return\"DASHBOARD\";}else if(this.create.includes(urlTab)){return\"CREATE\";}else if(urlTab==\"/Campaigns\"){return\"CAMPAIGNS\";}else if(urlTab==\"/Admin\"){return\"ADMIN\";}else if(urlTab==SUPER_ADMIN){return\"SUPERADMIN\";}else if(urlTab==OTO2){return\"OTO2\";}else if(urlTab==OTO3){return\"OTO3\";}else if(urlTab==USER_SETTINGS){return\"USER_SETTINGS\";}else if(urlTab==AGENCY){return\"AGENCY\";}else if(urlTab==BONUS_CREATE){return\"BONUS\";}else if(urlTab==TRAINING){return\"TRAINING\";}else if(urlTab==VIP_BONUS){return\"VIP_BONUS\";}else if(urlTab==SUPPORT_USER){return\"SUPPORT_USER\";}return\"DASHBOARD\";}render(){const{isFull}=this.props;const{items}=this;const active=this.getActivePage();return/*#__PURE__*/_jsx(\"div\",{name:\"Sidebar\",children:!isMobile()?/*#__PURE__*/_jsxs(\"ul\",{className:\"mckSidebar navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"sidebar-brand d-flex align-items-center justify-content-center\",href:\"index.html\",style:isFull?{}:{width:\"fit-content\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-brand-icon nav-logo\",children:isFull?/*#__PURE__*/_jsx(\"img\",{src:getPath(\"/asset/logo_white.svg\")}):/*#__PURE__*/_jsx(\"img\",{className:isFull?\"\":\"small-img\",src:getPath(\"/asset/logo_white_small.svg\")})})}),items.map((e,i)=>/*#__PURE__*/_jsx(Item,{...e,onItemClick:this.onClick,isFull:isFull,active:active},i))]}):/*#__PURE__*/_jsx(Drawer,{placement:\"left\",width:\"200px\",className:\"Sidebar\",onClose:this.props.toggleSideBar,closable:true,visible:isFull,children:/*#__PURE__*/_jsxs(\"ul\",{className:\"mckSidebar navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"sidebar-brand d-flex align-items-center justify-content-center\",href:\"index.html\",style:isFull?{}:{width:\"fit-content\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-brand-icon nav-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"small-img\",src:getPath(\"/asset/logo_white_small.svg\")})})}),items.map((e,i)=>/*#__PURE__*/_jsx(Item,{...e,onItemClick:this.onClick,isFull:true,active:active},i))]})})});}}const Item=function(props){return/*#__PURE__*/_jsx(\"li\",{title:props.text,style:props.isFull?{}:{width:\"63px\"},className:props.active===props.a?\"nav-item align-items-center sidebar_content nav-active\":\"nav-item align-items-center sidebar_content\",children:/*#__PURE__*/_jsx(Link,{to:props.url?props.url:\"?\",onClick:()=>props.onItemClick(props.text,props.url),children:/*#__PURE__*/_jsxs(\"div\",{className:\"mckSideBarItem\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"itemicon\",children:/*#__PURE__*/_jsx(\"img\",{src:getPath(\"/asset/sidebarIcon/\".concat(props.icon))})}),props.isFull?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center ml-2 title\",children:props.text}):null]})})});};export default Sidebar;","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/layout/Sidebar.js"],"names":["React","Component","TABMESSAGING","URGENCY","HELLOBAR","HELLOBARTIMER","IMAGEPOPUP","VIDEOPOPUP","CENTRALTIMER","GEOREDIRECTION","BREAKEVENCALCULATOR","EXITINTENT","MOBILEVIBRATOR","EMAIL_INTRIGATION","IMAGE_OPTIOMAZTION","DYNEMICELEMENT","OFFERIFRAME","BACKBUTTONREDIRECTION","ADMIN","SUPER_ADMIN","OTO2","OTO3","USER_SETTINGS","AGENCY","BONUS","BONUS_CREATE","TRAINING","VIP_BONUS","SUPPORT_USER","ToolUtil","getPath","Link","Drawer","isMobile","Sidebar","state","activePage","showMenu","active","dashBoard","create","access","isUpgrade1","isUpgrade2","isVipBonus","createdAt","isSubuser","items","setPermission","setState","window","setItems","push","icon","text","url","a","forceUpdate","onClick","key","d","Date","setMonth","getMonth","gs","sayUpdate","location","pathname","navTitle","linksList","oto2","oto3","props","toggleSideBar","openDrawer","onDrawerMenuSelect","title","componentWillMount","componentWillReceiveProps","nextProps","getActivePage","urlTab","includes","render","isFull","width","map","e","i","Item","onItemClick"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Sidebar.css\";\r\nimport {\r\n  TABMESSAGING,\r\n  URGENCY,\r\n  HELLOBAR,\r\n  HELLOBARTIMER,\r\n  IMAGEPOPUP,\r\n  VIDEOPOPUP,\r\n  CENTRALTIMER,\r\n  GEOREDIRECTION,\r\n  BREAKEVENCALCULATOR,\r\n  EXITINTENT,\r\n  MOBILEVIBRATOR,\r\n  EMAIL_INTRIGATION,\r\n  IMAGE_OPTIOMAZTION,\r\n  DYNEMICELEMENT,\r\n  OFFERIFRAME,\r\n  BACKBUTTONREDIRECTION,\r\n  ADMIN,\r\n  SUPER_ADMIN,\r\n  OTO2,\r\n  OTO3,\r\n  USER_SETTINGS,\r\n  AGENCY,\r\n  BONUS,\r\n  BONUS_CREATE,\r\n  TRAINING,\r\n  VIP_BONUS,\r\n  SUPPORT_USER\r\n} from \"../../utils/Routes\";\r\nimport ToolUtil from \"../../utils/ToolUtil\";\r\nimport { getPath } from \"../../actions/URLs\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Drawer } from \"antd\";\r\nimport { isMobile } from \"../utils/ScreenUtil\";\r\n\r\nclass Sidebar extends Component {\r\n  state = { activePage: 0, showMenu: false, active: \"\" };\r\n  dashBoard = [\"\"];\r\n  create = [\r\n    \"/Create\",\r\n    TABMESSAGING,\r\n    URGENCY,\r\n    HELLOBAR,\r\n    HELLOBARTIMER,\r\n    IMAGEPOPUP,\r\n    VIDEOPOPUP,\r\n    CENTRALTIMER,\r\n    GEOREDIRECTION,\r\n    BREAKEVENCALCULATOR,\r\n    EXITINTENT,\r\n    MOBILEVIBRATOR,\r\n    EMAIL_INTRIGATION,\r\n    IMAGE_OPTIOMAZTION,\r\n    DYNEMICELEMENT,\r\n    OFFERIFRAME,\r\n    BACKBUTTONREDIRECTION,\r\n  ];\r\n\r\n  state = { access: 0, isUpgrade1: false, isUpgrade2: false, active: \"\", isVipBonus: false, createdAt: \"\", isSubuser: false };\r\n  items = [];\r\n\r\n  componentWillMount() {\r\n    this.setPermission(this.props.access, this.props.createdAt);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.access != nextProps.access && this.props.createdAt != nextProps.createdAt) {\r\n      this.setPermission(nextProps.access, nextProps.createdAt);\r\n    }\r\n  }\r\n\r\n  getActivePage() {\r\n    const urlTab = window.location.pathname;\r\n    const { active } = this.state;\r\n    if (!urlTab) {\r\n      return \"DASHBOARD\";\r\n    } else if (this.create.includes(urlTab)) {\r\n      return \"CREATE\";\r\n    } else if (urlTab == \"/Campaigns\") {\r\n      return \"CAMPAIGNS\";\r\n    } else if (urlTab == \"/Admin\") {\r\n      return \"ADMIN\";\r\n    } else if (urlTab == SUPER_ADMIN) {\r\n      return \"SUPERADMIN\";\r\n    } else if (urlTab == OTO2) {\r\n      return \"OTO2\";\r\n    } else if (urlTab == OTO3) {\r\n      return \"OTO3\";\r\n    } else if (urlTab == USER_SETTINGS) {\r\n      return \"USER_SETTINGS\";\r\n    } else if (urlTab == AGENCY) {\r\n      return \"AGENCY\";\r\n    } else if (urlTab == BONUS_CREATE) {\r\n      return \"BONUS\";\r\n    } else if (urlTab == TRAINING) {\r\n      return \"TRAINING\";\r\n    } else if (urlTab == VIP_BONUS) {\r\n      return \"VIP_BONUS\";\r\n    } else if (urlTab == SUPPORT_USER) {\r\n      return \"SUPPORT_USER\";\r\n    }\r\n    return \"DASHBOARD\";\r\n  }\r\n\r\n  setPermission = (access, createdAt) => {\r\n    this.setState({ \r\n      access: access, \r\n      isUpgrade1: ToolUtil.isUpgrade1, \r\n      isUpgrade2: ToolUtil.isUpgrade2, \r\n      isVipBonus: ToolUtil.isVipBonus, \r\n      createdAt: createdAt, \r\n      isSubuser: window.isSubuser }, () => {\r\n        this.setItems();\r\n    });\r\n  };\r\n\r\n  setItems = () => {\r\n    const { access, isUpgrade1, isUpgrade2, isVipBonus, createdAt, isSubuser } = this.state;\r\n    const items = [];\r\n    items.push({ icon: \"dashboard.svg\", text: \"Dashboard\", url: \"/Dashboard\", a: \"DASHBOARD\" });\r\n    items.push({ icon: \"create.svg\", text: \"Create\", url: \"/Create\", a: \"CREATE\" });\r\n    items.push({ icon: \"campaign.svg\", text: \"Campaigns\", url: \"/Campaigns\", a: \"CAMPAIGNS\" });\r\n    if (access > 80 || isUpgrade1) items.push({ icon: \"upgrade.svg\", text: \"Pro\", url: OTO2, a: \"OTO2\" });\r\n    else items.push({ icon: \"upgrade.svg\", text: \"Pro\", url: null, a: \"OTO2\" });\r\n    if (access > 80 || isUpgrade2) items.push({ icon: \"upgrade.svg\", text: \"Club\", url: OTO3, a: \"OTO3\" });\r\n    else items.push({ icon: \"upgrade.svg\", text: \"Club\", url: null, a: \"OTO3\" });\r\n    if (access > 50) items.push({ icon: \"upgrade.svg\", text: \"Agency\", url: AGENCY, a: \"AGENCY\" });\r\n    /* if (access > 50 && isUpgrade1) items.push({ icon: \"admin.svg\", text: \"Admin\", url: \"/Admin\", a: \"ADMIN\" }); */\r\n    if (access > 50) items.push({ icon: \"admin.svg\", text: \"Admin\", url: null, a: \"ADMIN\" });\r\n    if (access > 80 || isSubuser) items.push({ icon: \"superadmin.svg\", text: \"Super Admin\", url: \"/SuperAdmin\", a: \"SUPERADMIN\" });\r\n    if (access > 80) items.push({ icon: \"superadmin.svg\", text: \"Support User\", url: \"/SupportUser\", a: \"SUPPORT_USER\" });\r\n    items.push({ icon: \"upgrade.svg\", text: \"Settings\", url: USER_SETTINGS, a: \"USER_SETTINGS\" });\r\n    items.push({ icon: \"upgrade.svg\", text: \"Bonus\", url: BONUS_CREATE, a: \"BONUS\" });\r\n    // items.push({ icon: \"upgrade.svg\", text: \"Training\", url: TRAINING, a: \"TRAINING\" });\r\n    if (isVipBonus) items.push({ icon: \"upgrade.svg\", text: \"Vip Bonus\", url: VIP_BONUS, a: \"VIP_BONUS\" });\r\n    // items.push({ icon: \"upgrade.svg\", text: \"Bonus\", url: null, a: \"BONUS\" });\r\n    this.items = items;\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onClick = (key, url) => {\r\n    var d = new Date(this.state.createdAt);\r\n    if (key == \"Admin\" && !(new Date() >= d.setMonth(d.getMonth() + 1)) ) {\r\n      window.gs.sayUpdate(\"To be fair to our JV partners & affiliates, your Agency access will be unlocked 1 month after your purchase\", true, \"\");\r\n      return;\r\n    } else {\r\n      if(key == \"Admin\") {\r\n        url = \"/\"+key;\r\n        window.location.pathname = url;\r\n      }\r\n    }\r\n\r\n    if (url) {\r\n      window.gs.navTitle(key);\r\n      this.setState({ active: key });\r\n    } else {\r\n      if (key == \"Pro\") {\r\n        window.gs.sayUpdate(null, false, ToolUtil.linksList ? ToolUtil.linksList.oto2 : \"\");\r\n      } else {\r\n        window.gs.sayUpdate(null, false, ToolUtil.linksList ? ToolUtil.linksList.oto3 : \"\");\r\n      }\r\n    }\r\n    if (isMobile()) {\r\n      this.props.toggleSideBar();\r\n    }\r\n  };\r\n\r\n  openDrawer = () => {\r\n    this.setState({ showMenu: !this.state.showMenu });\r\n  };\r\n\r\n  onDrawerMenuSelect = (title) => {\r\n    window.gs.navTitle(title);\r\n    this.openDrawer();\r\n  };\r\n\r\n  render() {\r\n    const { isFull } = this.props;\r\n    const { items } = this;\r\n    const active = this.getActivePage();\r\n    return (\r\n      <div name=\"Sidebar\">\r\n        {!isMobile() ? (\r\n          <ul className=\"mckSidebar navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\">\r\n            <a className=\"sidebar-brand d-flex align-items-center justify-content-center\" href=\"index.html\" style={isFull ? {} : { width: \"fit-content\" }}>\r\n              <div className=\"sidebar-brand-icon nav-logo\">\r\n                {isFull ? <img src={getPath(\"/asset/logo_white.svg\")} /> : <img className={isFull ? \"\" : \"small-img\"} src={getPath(\"/asset/logo_white_small.svg\")} />}\r\n              </div>\r\n            </a>\r\n            {items.map((e, i) => (\r\n              <Item key={i} {...e} onItemClick={this.onClick} isFull={isFull} active={active} />\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <Drawer placement={\"left\"} width={\"200px\"} className={\"Sidebar\"} onClose={this.props.toggleSideBar} closable={true} visible={isFull}>\r\n            <ul className=\"mckSidebar navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\">\r\n              <a className=\"sidebar-brand d-flex align-items-center justify-content-center\" href=\"index.html\" style={isFull ? {} : { width: \"fit-content\" }}>\r\n                <div className=\"sidebar-brand-icon nav-logo\">\r\n                  <img className=\"small-img\" src={getPath(\"/asset/logo_white_small.svg\")} />\r\n                </div>\r\n              </a>\r\n              {items.map((e, i) => (\r\n                <Item key={i} {...e} onItemClick={this.onClick} isFull={true} active={active} />\r\n              ))}\r\n            </ul>\r\n          </Drawer>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Item = function (props) {\r\n  return (\r\n    <li title={props.text} style={props.isFull ? {} : { width: \"63px\" }} className={props.active === props.a ? \"nav-item align-items-center sidebar_content nav-active\" : \"nav-item align-items-center sidebar_content\"}>\r\n      <Link to={props.url ? props.url : \"?\"} onClick={() => props.onItemClick(props.text, props.url)}>\r\n        <div className=\"mckSideBarItem\">\r\n          <div className=\"itemicon\">\r\n            <img src={getPath(`/asset/sidebarIcon/${props.icon}`)} />\r\n          </div>\r\n          {props.isFull ? <div className=\"d-flex align-items-center ml-2 title\">{props.text}</div> : null}\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"]},"metadata":{},"sourceType":"module"}