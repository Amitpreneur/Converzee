{"ast":null,"code":"import React,{Component,useState,useEffect}from'react';import'./Admin.css';import{Select,Modal,Result,Icon,Input,Switch}from'antd';import ToolUtil,{resetToolAccess}from'../../utils/ToolUtil';import{VerifyCreateAccount,checkTools}from'../../actions/ResellerUtil';import RequestHandler from'../../actions/RequestHandler';import{ADD_RESELLER_USER,KEY_GENERATE,SEND_LINK_BY_URL,getPath,USER_DISABLE,UPDATE_USER,DELETE_USER_DATA}from'../../actions/URLs';import{dateParser}from'../Util';import{getUserList,parseUserData}from'../comman/TableWithData';import{ToolSelectorDropDown}from'../comman/DropDown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;export default class Admin extends Component{constructor(){var _this;super(...arguments);_this=this;this.state={email1:'',email2:'',password:'',tools:[],url:'',key:null,count:0,user:[],keys:0,id:null,consumeLicence:0,totalLicence:0,productPop:false,isUpgrade1:false,isUpgrade2:false};this.OTO1=[{tid:1,selected:false,text:\"Tab Messaging\"},{tid:2,selected:false,text:\"Urgency Timer\"},{tid:5,selected:false,text:\"Video Popup\"},{tid:6,selected:false,text:\"Central Timer\"},{tid:7,selected:false,text:\"Geo Redirection\"},{tid:3,selected:false,text:\"HELLO BAR\"},{tid:4,selected:false,text:\"Image Popup\"},{tid:9,selected:false,text:\"Exit Intent\"},{tid:10,selected:false,text:\"Mobile Vibrator\"},{tid:13,selected:false,text:\"Dynamic Elements\"},{tid:14,selected:false,text:\"Offer iframe\"},{tid:15,selected:false,text:\"Back Button redirection\"},{tid:17,selected:false,text:\"HELLO BAR + Timer\"},{tid:19,selected:false,text:\"Optin Form\"},{tid:24,selected:false,text:\"Autoplay Video\"},{tid:25,selected:false,text:\"Proof App\"}];this.users=[];this.toolOptions=[];this.handleChange=value=>{this.setState({tools:value});};this.updateKeysData=()=>{resetToolAccess((data,err)=>{if(data)this.setState({keys:data.keys,consumeLicence:data.consumeLicence});this.getUser();});};this.getUser=()=>{getUserList(2,(data,err)=>{if(data){this.users=data;this.setState({user:parseUserData(data)});}});};this.handleFieldChange=e=>{this.setState({[e.target.name]:e.target.value});};this.renderTools=tool=>{return/*#__PURE__*/_jsx(Option,{value:tool.id,label:tool.name,children:tool.name},tool.id);};this.onClose=()=>{this.setState({visible:false,success:null,key:null,id:null});};this.onCreateAccount=accountType=>{const{email1,password,tools,isUpgrade1,isUpgrade2}=this.state;if(VerifyCreateAccount(email1,password)&&checkTools(tools)){RequestHandler.PostRequest(ADD_RESELLER_USER,{userData:{email:email1,password:password,allowedTool:tools,isUpgrade1:isUpgrade1,isUpgrade2:isUpgrade2}},(res,err)=>{if(res){this.setState({visible:true,success:true,email1:\"\",password:\"\",tools:[],isUpgrade1:false,isUpgrade2:false},()=>{this.getUser();});}else{// this.setState({ visible: true, success: false });\nwindow.gs.toast(res.data.message,{position:'bottom-right',type:window.gs.toast.TYPE.FAILED});}});}};this.generateKey=()=>{const{tools,isUpgrade1,isUpgrade2}=this.state;RequestHandler.PostRequest(KEY_GENERATE,{toolData:{tools,isUpgrade1,isUpgrade2}},(res,err)=>{if(res){this.setState({visible:true,success:true,key:res.data.key});this.updateKeysData();}else{this.setState({visible:true,success:false});}});};this.sendKey=()=>{const{tools,email2}=this.state;RequestHandler.PostRequest(SEND_LINK_BY_URL,{userData:{email:email2,tools}},(res,err)=>{if(res){this.setState({visible:true,success:true});this.updateKeysData();}else{this.setState({visible:true,success:false});window.gs.toast('Failed',{position:'bottom-right',type:window.gs.toast.TYPE.FAILED});}});};this.onDeActive=(id,isActive)=>{RequestHandler.PostRequest(USER_DISABLE,{userData:{id,isActive}},(res,err)=>{Modal.success({content:'SuccessFully'});});};this.onDelete=id=>{Modal.confirm({title:\"Confirm\",content:\"Are you Sure to Delete this user\",okText:\"Delete\",onOk:()=>{RequestHandler.PostRequest(DELETE_USER_DATA,{userData:{id}},(res,err)=>{if(res){const{data}=res;if(data.success){window.gs.success(true,data.message);this.getUser();}}});},cancelText:\"Cancel\"});};this.onEdit=id=>{this.setState({id});};this.getUserData=id=>{let data=this.users.find(e=>e._id===id);return data;};this.getTools=function(){let isUpgrade1=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let isUpgrade2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const tools=new Set([1,2,3,4,5,6,7,8,9,10,13,14,15,17,19,24]);if(isUpgrade1){tools.add(18);}if(isUpgrade2){tools.add(20);tools.add(21);}return Array.from(tools);};this.onSave=function(name,isActive){let isUpgrade1=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let isUpgrade2=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const{id}=_this.state;const tools=_this.getTools(isUpgrade1,isUpgrade2);RequestHandler.PostRequest(UPDATE_USER,{userData:{id,name,isActive,tools,isUpgrade1,isUpgrade2}},(res,err)=>{if(res){if(res.data.success){window.gs.success(res.data.message);_this.setState({id:null});_this.getUser();}else{window.gs.success(false,res.data.message);}}});};this.productPopClick=()=>{this.setState({productPop:true});};this.onPopClose=()=>{this.setState({productPop:false});};this.changeUpgrade=data=>{this.setState(data);};}componentDidMount(){this.toolOptions=ToolUtil.getToolsOptions();console.log(this.props);this.setState({keys:this.props.keys,consumeLicence:this.props.consumeLicence,totalLicence:this.props.totalLicence});this.setState({count:1});this.getUser();}componentWillReceiveProps(nextProps){const{keys,consumeLicence,totalLicence}=this.state;if(nextProps.keys!=keys||nextProps.consumeLicence!=consumeLicence||nextProps.totalLicence!=totalLicence){this.setState({keys:nextProps.keys,consumeLicence:nextProps.consumeLicence,totalLicence:nextProps.totalLicence});}}render(){const{email1,email2,password,tools,url,visible,success,key,user,keys,id,consumeLicence,totalLicence}=this.state;const clicks=5;const modelProps={visible:id?true:false,onClose:this.onClose,data:id?this.getUserData(id):{},onSave:this.onSave};return/*#__PURE__*/_jsxs(\"div\",{className:\"container admin\",name:\"admin\",children:[success?/*#__PURE__*/_jsx(SuccessModel,{visible:visible,askey:key,onClose:this.onClose}):/*#__PURE__*/_jsx(FailedModel,{visible:visible,onClose:this.onClose}),id?/*#__PURE__*/_jsx(EditModel,{...modelProps}):null,this.state.productPop?/*#__PURE__*/_jsx(ProductModel,{...this.state,popClose:()=>this.onPopClose(),OTO1:this.OTO1,onChange:this.changeUpgrade}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row dashboard-card m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:keys}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Key Created\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath('asset/group-14.png')})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row dashboard-card m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:consumeLicence}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Key Used\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath('asset/group-15.png')})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row dashboard-card m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:totalLicence}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Total Licences\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath('asset/Group130.svg')})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row dashboard-card m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:user.length}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Users\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath('asset/group-16.png')})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{paddingTop:'35px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card adminform\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-title\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(Input,{name:\"email1\",onChange:this.handleFieldChange,value:email1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(Input.Password,{name:\"password\",onChange:this.handleFieldChange,value:password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tools\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"cz_btn btn\",onClick:this.productPopClick,children:\"Select Products\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm primaryBtn\",onClick:this.onCreateAccount,children:\"Create Account\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card adminform\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-title\",children:\"Send Access By Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Email address\"}),/*#__PURE__*/_jsx(Input,{name:\"email2\",value:email2,onChange:this.handleFieldChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Tools\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"cz_btn btn\",onClick:this.productPopClick,children:\"Select Products\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.sendKey,className:\"btn btn-sm primaryBtn\",children:\"Send Email with Key\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card adminform\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-title\",children:\"Send Access By Key\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Tools\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"cz_btn btn\",onClick:this.productPopClick,children:\"Select Products\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm primaryBtn\",onClick:this.generateKey,children:\"Send access by email\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},className:\"box-title\",children:\"Active Accounts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(USERTABLE,{data:user,onDelete:this.onDelete,onDeActive:this.onDeActive,onEdit:this.onEdit})})})]});}}const SuccessModel=function(props){if(props.askey){return/*#__PURE__*/_jsx(Modal,{title:\"Success\",centered:true,visible:props.visible,onOk:()=>props.onClose(false),onCancel:()=>props.onClose(false),children:/*#__PURE__*/_jsx(Result,{status:\"success\",title:\"Successfully Generate the Key\",subTitle:props.askey,extra:[/*#__PURE__*/_jsx(Input/* addonAfter={<Icon type=\"copy\" />} */,{defaultValue:props.askey})]})});}else{return/*#__PURE__*/_jsx(Modal,{title:\"Success\",centered:true,visible:props.visible,onOk:()=>props.onClose(false),onCancel:()=>props.onClose(false),children:/*#__PURE__*/_jsx(Result,{status:\"success\",title:\"Successfully Generate the Key\",subTitle:props.key,extra:[]})});}};const FailedModel=function(props){return/*#__PURE__*/_jsx(Modal,{title:\"Failed\",centered:true,visible:props.visible,onOk:()=>props.onClose(false),onCancel:()=>props.onClose(false),children:/*#__PURE__*/_jsx(Result,{status:\"warning\",title:\"Something went Wrong\",subTitle:'',extra:[]})});};const USERTABLE=function(props){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table userTable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Active\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:props.data.map((value,i)=>/*#__PURE__*/_jsx(USERROW,{item:value,onDelete:props.onDelete,onDeActive:props.onDeActive,onEdit:props.onEdit},i))})]})});};const USERROW=function(props){const item=props.item;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.firstname}),/*#__PURE__*/_jsx(\"td\",{children:item.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Switch,{size:\"small\",defaultChecked:item.isActive,onChange:()=>props.onDeActive(item.id,item.isActive)})}),/*#__PURE__*/_jsx(\"td\",{children:dateParser(item.date)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-font-size editbtn\",onClick:()=>props.onEdit(item.id),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit\",\"aria-hidden\":\"true\"}),\" Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-font-size editbtn\",onClick:()=>props.onDelete(item.id),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\",\"aria-hidden\":\"true\"}),\" Delete\"]})]})})]});};const ProductModel=function(props){const[selectTools,setSelectTools]=useState(false);const[isUpgrade1,setisUpgrade1]=useState(props.isUpgrade1);const[isUpgrade2,setisUpgrade2]=useState(props.isUpgrade2);const[checked,setChecked]=useState(false);const[tools,setTools]=useState(props.tools);let newTool=[];useEffect(()=>{if(tools.length){let ft=document.querySelectorAll(\".frontend_tools\");for(let i=0;i<ft.length;i++){let id=parseInt(ft[i].childNodes[1].getAttribute(\"data-label\"));for(let j=0;j<tools.length;j++){if(id===tools[j]){ft[i].childNodes[0].setAttribute(\"checked\",\"\");}}}if(props.OTO1.length===ft.length){document.querySelector(\".fe_selectAll\").childNodes[0].setAttribute(\"checked\",\"\");}}},[]);const selectAllProduct=e=>{let toolArray=[];if(checked){e.target.previousSibling.removeAttribute(\"checked\");}else{e.target.previousSibling.setAttribute(\"checked\",\"\");}let items=document.querySelectorAll(\".frontend_tools\");items.forEach(element=>{if(!checked){toolArray.push(parseInt(element.childNodes[1].getAttribute(\"data-label\")));element.childNodes[0].setAttribute(\"checked\",\"\");}else{toolArray=[];element.childNodes[0].removeAttribute(\"checked\");}});setSelectTools(!selectTools);setTools(toolArray);props.onChange({tools:toolArray});};const SelectSingleProduct=e=>{var event=e||window.e,target=event.target||event.srcElement;if(target.tagName.toUpperCase()=='INPUT'){let toolId=parseInt(target.nextElementSibling.getAttribute(\"data-label\"));if(target.checked){tools.push(toolId);setTools(tools);props.onChange({tools:tools});target.setAttribute(\"checked\",\"\");}else{target.removeAttribute(\"checked\");tools.filter(tool=>{if(tool!==toolId){newTool.push(tool);}});setTools(newTool);props.onChange({tools:newTool});}}};const selectUpgrade1=e=>{var event=e||window.e,target=event.target||event.srcElement;if(target.tagName.toUpperCase()=='INPUT'){if(target.checked){target.setAttribute(\"checked\",\"\");}else{target.removeAttribute(\"checked\");}setisUpgrade1(!isUpgrade1);props.onChange({isUpgrade1:!isUpgrade1});}};const selectUpgrade2=e=>{var event=e||window.e,target=event.target||event.srcElement;if(target.tagName.toUpperCase()=='INPUT'){if(target.checked){target.setAttribute(\"checked\",\"\");}else{target.removeAttribute(\"checked\");}setisUpgrade2(!isUpgrade2);props.onChange({isUpgrade2:!isUpgrade2});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"product_popup_wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product_popup_overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product_popup_box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product_popup_close\",onClick:props.popClose,children:\"\\u2716\\uFE0E\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Select Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product_type_heading\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Frontend\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"product_check fe_selectAll\",\"data-label\":\"frontend\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{onClick:e=>{setChecked(!checked);selectAllProduct(e);},children:\"Select All\"})]})]}),/*#__PURE__*/_jsx(\"ul\",{onClick:e=>SelectSingleProduct(e),children:props.OTO1.map(tool=>{return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"product_check frontend_tools\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{\"data-label\":tool.tid,children:tool.text})]})},tool.tid);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product_type_heading\",onClick:e=>selectUpgrade1(e),children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Upgrade 1\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"product_check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:isUpgrade1?\"true\":null}),/*#__PURE__*/_jsx(\"span\",{children:\"Select\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product_type_heading\",onClick:e=>selectUpgrade2(e),children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Upgrade 2\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"product_check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:isUpgrade2?\"true\":null}),/*#__PURE__*/_jsx(\"span\",{children:\"Select\"})]})]})]})]});};const EditModel=function(props){console.log(\"props.data\",props.data);const[name,setName]=useState(props.data.firstname);const[isActive,setisActive]=useState(props.data.isActive);// const [tools, setTools] = useState(props.data.allowedTool);\nconst[isUpgrade1,setisUpgrade1]=useState(props.data.isUpgrade1);const[isUpgrade2,setisUpgrade2]=useState(props.data.isUpgrade2);return/*#__PURE__*/_jsxs(Modal,{title:\"Edit User\",centered:true,visible:props.visible,onOk:()=>props.onSave(name,isActive,isUpgrade1,isUpgrade2),onCancel:()=>props.onClose(false),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:e=>setName(e.target.value),className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"label\",{children:\"IsActive\"}),/*#__PURE__*/_jsx(Switch,{className:\"pull-right m-2\",onChange:()=>setisActive(!isActive),size:\"small\",defaultChecked:isActive})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upgrade - 1\"}),/*#__PURE__*/_jsx(Switch,{className:\"pull-right m-2\",onChange:()=>setisUpgrade1(!isUpgrade1),size:\"small\",defaultChecked:isUpgrade1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group admin-form-group\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upgrade - 2\"}),/*#__PURE__*/_jsx(Switch,{className:\"pull-right m-2\",onChange:()=>setisUpgrade2(!isUpgrade2),size:\"small\",defaultChecked:isUpgrade2})]})]});};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/admin/index.js"],"names":["React","Component","useState","useEffect","Select","Modal","Result","Icon","Input","Switch","ToolUtil","resetToolAccess","VerifyCreateAccount","checkTools","RequestHandler","ADD_RESELLER_USER","KEY_GENERATE","SEND_LINK_BY_URL","getPath","USER_DISABLE","UPDATE_USER","DELETE_USER_DATA","dateParser","getUserList","parseUserData","ToolSelectorDropDown","Option","Admin","state","email1","email2","password","tools","url","key","count","user","keys","id","consumeLicence","totalLicence","productPop","isUpgrade1","isUpgrade2","OTO1","tid","selected","text","users","toolOptions","handleChange","value","setState","updateKeysData","data","err","getUser","handleFieldChange","e","target","name","renderTools","tool","onClose","visible","success","onCreateAccount","accountType","PostRequest","userData","email","allowedTool","res","window","gs","toast","message","position","type","TYPE","FAILED","generateKey","toolData","sendKey","onDeActive","isActive","content","onDelete","confirm","title","okText","onOk","cancelText","onEdit","getUserData","find","_id","getTools","Set","add","Array","from","onSave","productPopClick","onPopClose","changeUpgrade","componentDidMount","getToolsOptions","console","log","props","componentWillReceiveProps","nextProps","render","clicks","modelProps","length","paddingTop","marginTop","SuccessModel","askey","FailedModel","USERTABLE","map","i","USERROW","item","firstname","date","ProductModel","selectTools","setSelectTools","setisUpgrade1","setisUpgrade2","checked","setChecked","setTools","newTool","ft","document","querySelectorAll","parseInt","childNodes","getAttribute","j","setAttribute","querySelector","selectAllProduct","toolArray","previousSibling","removeAttribute","items","forEach","element","push","onChange","SelectSingleProduct","event","srcElement","tagName","toUpperCase","toolId","nextElementSibling","filter","selectUpgrade1","selectUpgrade2","popClose","EditModel","setName","setisActive","display"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport './Admin.css';\r\nimport { Select, Modal, Result, Icon, Input, Switch } from 'antd';\r\nimport ToolUtil, { resetToolAccess } from '../../utils/ToolUtil';\r\nimport { VerifyCreateAccount, checkTools } from '../../actions/ResellerUtil';\r\nimport RequestHandler from '../../actions/RequestHandler';\r\nimport {\r\n  ADD_RESELLER_USER,\r\n  KEY_GENERATE,\r\n  SEND_LINK_BY_URL,\r\n  getPath,\r\n  USER_DISABLE,\r\n  UPDATE_USER,\r\n  DELETE_USER_DATA\r\n} from '../../actions/URLs';\r\nimport { dateParser } from '../Util';\r\nimport { getUserList, parseUserData } from '../comman/TableWithData';\r\nimport { ToolSelectorDropDown } from '../comman/DropDown';\r\nconst { Option } = Select;\r\nexport default class Admin extends Component {\r\n  state = {\r\n    email1: '',\r\n    email2: '',\r\n    password: '',\r\n    tools: [],\r\n    url: '',\r\n    key: null,\r\n    count: 0,\r\n    user: [],\r\n    keys: 0,\r\n    id: null,\r\n    consumeLicence: 0,\r\n    totalLicence: 0,\r\n    productPop: false,\r\n    isUpgrade1: false,\r\n    isUpgrade2: false,\r\n  };\r\n\r\n  OTO1 = [\r\n    { tid: 1, selected: false, text: \"Tab Messaging\" },\r\n    { tid: 2, selected: false, text: \"Urgency Timer\" },\r\n    { tid: 5, selected: false, text: \"Video Popup\" },\r\n    { tid: 6, selected: false, text: \"Central Timer\" },\r\n    { tid: 7, selected: false, text: \"Geo Redirection\" },\r\n    { tid: 3, selected: false, text: \"HELLO BAR\" },\r\n    { tid: 4, selected: false, text: \"Image Popup\" },\r\n    { tid: 9, selected: false, text: \"Exit Intent\" },\r\n    { tid: 10, selected: false, text: \"Mobile Vibrator\" },\r\n    { tid: 13, selected: false, text: \"Dynamic Elements\" },\r\n    { tid: 14, selected: false, text: \"Offer iframe\" },\r\n    { tid: 15, selected: false, text: \"Back Button redirection\" },\r\n    { tid: 17, selected: false, text: \"HELLO BAR + Timer\" },\r\n    { tid: 19, selected: false, text: \"Optin Form\" },\r\n    { tid: 24, selected: false, text: \"Autoplay Video\" },\r\n    { tid: 25, selected: false, text: \"Proof App\" }\r\n  ];\r\n  users = []; \r\n\r\n  componentDidMount() {\r\n    this.toolOptions = ToolUtil.getToolsOptions();\r\n    console.log(this.props);\r\n    \r\n    this.setState({\r\n      keys: this.props.keys,\r\n      consumeLicence: this.props.consumeLicence,\r\n      totalLicence: this.props.totalLicence\r\n    });\r\n    this.setState({ count: 1 });\r\n    this.getUser();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { keys, consumeLicence, totalLicence } = this.state;\r\n    if (nextProps.keys != keys || nextProps.consumeLicence != consumeLicence || nextProps.totalLicence != totalLicence) {\r\n      this.setState({\r\n        keys: nextProps.keys,\r\n        consumeLicence: nextProps.consumeLicence, \r\n        totalLicence: nextProps.totalLicence\r\n      });\r\n    }\r\n  }\r\n\r\n  toolOptions = [];\r\n\r\n  handleChange = (value) => {\r\n    this.setState({ tools: value });\r\n  };\r\n\r\n  updateKeysData = () => {\r\n    resetToolAccess((data, err) => {\r\n      if (data)\r\n        this.setState({ keys: data.keys, consumeLicence: data.consumeLicence });\r\n      this.getUser();\r\n    });\r\n  };\r\n\r\n  getUser = () => {\r\n    getUserList(2, (data, err) => {\r\n      if (data) {\r\n        this.users = data;\r\n        this.setState({ user: parseUserData(data) });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleFieldChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  renderTools = (tool) => {\r\n    return (\r\n      <Option key={tool.id} value={tool.id} label={tool.name}>\r\n        {tool.name}\r\n      </Option>\r\n    );\r\n  };\r\n\r\n  onClose = () => {\r\n    this.setState({ visible: false, success: null, key: null, id: null });\r\n  };\r\n\r\n  onCreateAccount = (accountType) => {\r\n    const { email1, password, tools, isUpgrade1, isUpgrade2 } = this.state;\r\n    if (VerifyCreateAccount(email1, password) && checkTools(tools)) {\r\n      RequestHandler.PostRequest(\r\n        ADD_RESELLER_USER,\r\n        { userData: { email: email1, password: password, allowedTool: tools, isUpgrade1: isUpgrade1, isUpgrade2: isUpgrade2 } },\r\n        (res, err) => {\r\n          if (res) {\r\n            this.setState({ visible: true, success: true, email1: \"\", password: \"\", tools: [], isUpgrade1: false, isUpgrade2: false }, () => {\r\n              this.getUser();\r\n            });\r\n          } else {\r\n            // this.setState({ visible: true, success: false });\r\n            window.gs.toast(res.data.message, {\r\n              position: 'bottom-right',\r\n              type: window.gs.toast.TYPE.FAILED,\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  generateKey = () => {\r\n    const { tools, isUpgrade1, isUpgrade2 } = this.state;\r\n    RequestHandler.PostRequest(\r\n      KEY_GENERATE,\r\n      { toolData: { tools, isUpgrade1, isUpgrade2 } },\r\n      (res, err) => {\r\n        if (res) {\r\n          this.setState({ visible: true, success: true, key: res.data.key });\r\n          this.updateKeysData();\r\n        } else {\r\n          this.setState({ visible: true, success: false });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  sendKey = () => {\r\n    const { tools, email2 } = this.state;\r\n    RequestHandler.PostRequest(\r\n      SEND_LINK_BY_URL,\r\n      { userData: { email: email2, tools } },\r\n      (res, err) => {\r\n        if (res) {\r\n          this.setState({ visible: true, success: true });\r\n          this.updateKeysData();\r\n        } else {\r\n          this.setState({ visible: true, success: false });\r\n          window.gs.toast('Failed', {\r\n            position: 'bottom-right',\r\n            type: window.gs.toast.TYPE.FAILED,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  onDeActive = (id, isActive) => {\r\n    RequestHandler.PostRequest(\r\n      USER_DISABLE,\r\n      { userData: { id, isActive } },\r\n      (res, err) => {\r\n        Modal.success({\r\n          content: 'SuccessFully',\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  onDelete = (id) => {\r\n    Modal.confirm({\r\n      title: \"Confirm\",\r\n      content: \"Are you Sure to Delete this user\",\r\n      okText: \"Delete\",\r\n      onOk: () => {\r\n        RequestHandler.PostRequest(DELETE_USER_DATA, { userData: { id } }, (res, err) => {\r\n          if (res) {\r\n            const { data } = res;\r\n            if (data.success) {\r\n              window.gs.success(true, data.message);\r\n              this.getUser();\r\n            }\r\n          }\r\n        });\r\n      },\r\n      cancelText: \"Cancel\",\r\n    });\r\n  };\r\n\r\n  onEdit = (id) => {\r\n    this.setState({ id });\r\n  };\r\n  \r\n  getUserData = (id) => {\r\n    let data = this.users.find((e) => e._id === id);\r\n    return data;\r\n  };\r\n\r\n  getTools = (isUpgrade1 = false, isUpgrade2 = false) => {\r\n    const tools = new Set([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 13, 14, 15, 17, 19, 24]);\r\n    if (isUpgrade1) {\r\n      tools.add(18);\r\n    }\r\n    if (isUpgrade2) {\r\n      tools.add(20);\r\n      tools.add(21);\r\n    }\r\n    return Array.from(tools);\r\n  };\r\n\r\n  onSave = (name, isActive, isUpgrade1 = false, isUpgrade2 = false) => {\r\n    const { id } = this.state;\r\n    const tools = this.getTools(isUpgrade1, isUpgrade2);\r\n    RequestHandler.PostRequest(UPDATE_USER, { userData: { id, name, isActive, tools, isUpgrade1, isUpgrade2 } }, (res, err) => {\r\n      if (res) {\r\n        if (res.data.success) {\r\n          window.gs.success(res.data.message);\r\n          this.setState({ id: null });\r\n          this.getUser();\r\n        } else {\r\n          window.gs.success(false, res.data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  productPopClick=()=>{\r\n    this.setState({ productPop: true });\r\n  }\r\n\r\n  onPopClose=()=>{\r\n    this.setState({ productPop: false });\r\n  }\r\n\r\n  changeUpgrade = (data) => {\r\n    this.setState(data);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      email1,\r\n      email2,\r\n      password,\r\n      tools,\r\n      url,\r\n      visible,\r\n      success,\r\n      key,\r\n      user,\r\n      keys,\r\n      id,\r\n      consumeLicence,\r\n      totalLicence\r\n    } = this.state;\r\n    const clicks = 5;\r\n\r\n    const modelProps = {\r\n      visible: id ? true : false,\r\n      onClose: this.onClose,\r\n      data: id ? this.getUserData(id) : {},\r\n      onSave: this.onSave\r\n    };\r\n\r\n    return (\r\n      <div className=\"container admin\" name=\"admin\">\r\n        {success ? (\r\n          <SuccessModel visible={visible} askey={key} onClose={this.onClose} />\r\n        ) : (\r\n          <FailedModel visible={visible} onClose={this.onClose} />\r\n        )}\r\n        {id ? <EditModel {...modelProps} /> : null}\r\n        {this.state.productPop  ? <ProductModel {...this.state} popClose={()=>this.onPopClose()} OTO1={this.OTO1} onChange={this.changeUpgrade} />:null}\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 col-sm-12 col-lg-3\">\r\n            <div className=\"row dashboard-card m-3\">\r\n              <div className=\"col-4 card-title\">\r\n                <div className=\"card-text\">{keys}</div>\r\n                <div className=\"card-subtext\">Key Created</div>\r\n              </div>\r\n              <div className=\"col-8 card-img\">\r\n                <img\r\n                  className=\"img-fluid\"\r\n                  src={getPath('asset/group-14.png')}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12 col-lg-3\">\r\n            <div className=\"row dashboard-card m-3\">\r\n              <div className=\"col-4 card-title\">\r\n                <div className=\"card-text\">{consumeLicence}</div>\r\n                <div className=\"card-subtext\">Key Used</div>\r\n              </div>\r\n              <div className=\"col-8 card-img\">\r\n                <img\r\n                  className=\"img-fluid\"\r\n                  src={getPath('asset/group-15.png')}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12 col-lg-3\">\r\n            <div className=\"row dashboard-card m-3\">\r\n              <div className=\"col-4 card-title\">\r\n                <div className=\"card-text\">{totalLicence}</div>\r\n                <div className=\"card-subtext\">Total Licences</div>\r\n              </div>\r\n              <div className=\"col-8 card-img\">\r\n                <img\r\n                  className=\"img-fluid\"\r\n                  src={getPath('asset/Group130.svg')}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12 col-lg-3\">\r\n            <div className=\"row dashboard-card m-3\">\r\n              <div className=\"col-4 card-title\">\r\n                <div className=\"card-text\">{user.length}</div>\r\n                <div className=\"card-subtext\">Users</div>\r\n              </div>\r\n              <div className=\"col-8 card-img\">\r\n                <img\r\n                  className=\"img-fluid\"\r\n                  src={getPath('asset/group-16.png')}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\" style={{ paddingTop: '35px' }}>\r\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\r\n            <div className=\"card adminform\">\r\n              <div className=\"box-title\">Create Account</div>\r\n              <div className=\"form-group admin-form-group\">\r\n                <label>Email address</label>\r\n                <Input\r\n                  name=\"email1\"\r\n                  onChange={this.handleFieldChange}\r\n                  value={email1}\r\n                />\r\n              </div>\r\n              <div className=\"form-group admin-form-group\">\r\n                <label>Password</label>\r\n                <Input.Password\r\n                  name=\"password\"\r\n                  onChange={this.handleFieldChange}\r\n                  value={password}\r\n                />\r\n              </div>\r\n              <div className=\"form-group admin-form-group\">\r\n                <label>Tools</label>\r\n                {/* <Select mode=\"multiple\" style={{ width: \"100%\" }} placeholder=\"Select Product\" defaultValue={tools} onChange={this.handleChange} optionLabelProp=\"label\">\r\n                  {this.toolOptions.map(this.renderTools)}\r\n                </Select> */}\r\n                {/* <ToolSelectorDropDown\r\n                  defaultValue={tools}\r\n                  onChange={this.handleChange}\r\n                /> */}\r\n                <br></br>\r\n                <button className=\"cz_btn btn\" onClick={this.productPopClick} >Select Products</button>\r\n                \r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-sm primaryBtn\"\r\n                onClick={this.onCreateAccount}\r\n              >\r\n                Create Account\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\r\n            <div className=\"card adminform\">\r\n              <div className=\"box-title\">Send Access By Email</div>\r\n              <div className=\"form-group admin-form-group\">\r\n                <label for=\"exampleInputEmail1\">Email address</label>\r\n                <Input\r\n                  name=\"email2\"\r\n                  value={email2}\r\n                  onChange={this.handleFieldChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group admin-form-group\">\r\n                <label for=\"exampleInputEmail1\">Tools</label>\r\n                {/* <Select mode=\"multiple\" style={{ width: \"100%\" }} placeholder=\"Select Product\" defaultValue={tools} onChange={this.handleChange} optionLabelProp=\"label\">\r\n                  {this.toolOptions.map(this.renderTools)}\r\n                </Select> */}\r\n                {/* <ToolSelectorDropDown\r\n                  defaultValue={tools}\r\n                  onChange={this.handleChange}\r\n                /> */}\r\n                <br></br>\r\n                <button className=\"cz_btn btn\" onClick={this.productPopClick} >Select Products</button>\r\n                \r\n              </div>\r\n              <button onClick={this.sendKey} className=\"btn btn-sm primaryBtn\">\r\n                Send Email with Key\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12 col-lg-4\">\r\n            <div className=\"card adminform\">\r\n              <div className=\"box-title\">Send Access By Key</div>\r\n              <div className=\"form-group admin-form-group\">\r\n                <label for=\"exampleInputEmail1\">Tools</label>\r\n                {/* <Select mode=\"multiple\" style={{ width: \"100%\" }} placeholder=\"Select Product\" defaultValue={tools} onChange={this.handleChange} optionLabelProp=\"label\">\r\n                  {this.toolOptions.map(this.renderTools)}\r\n                </Select> */}\r\n                {/* <ToolSelectorDropDown\r\n                  defaultValue={tools}\r\n                  onChange={this.handleChange}\r\n                /> */}\r\n                <br></br>\r\n                <button className=\"cz_btn btn\" onClick={this.productPopClick} >Select Products</button>\r\n                \r\n              </div>\r\n              <button\r\n                className=\"btn btn-sm primaryBtn\"\r\n                onClick={this.generateKey}\r\n              >\r\n                Send access by email\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: '10px' }} className=\"box-title\">\r\n          Active Accounts\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <USERTABLE\r\n              data={user}\r\n              onDelete={this.onDelete}\r\n              onDeActive={this.onDeActive}\r\n              onEdit={this.onEdit} \r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SuccessModel = function (props) {\r\n  if (props.askey) {\r\n    return (\r\n      <Modal\r\n        title=\"Success\"\r\n        centered\r\n        visible={props.visible}\r\n        onOk={() => props.onClose(false)}\r\n        onCancel={() => props.onClose(false)}\r\n      >\r\n        <Result\r\n          status=\"success\"\r\n          title=\"Successfully Generate the Key\"\r\n          subTitle={props.askey}\r\n          extra={[\r\n            <Input\r\n              /* addonAfter={<Icon type=\"copy\" />} */\r\n              defaultValue={props.askey}\r\n            />,\r\n          ]}\r\n        />\r\n      </Modal>\r\n    );\r\n  } else {\r\n    return (\r\n      <Modal\r\n        title=\"Success\"\r\n        centered\r\n        visible={props.visible}\r\n        onOk={() => props.onClose(false)}\r\n        onCancel={() => props.onClose(false)}\r\n      >\r\n        <Result\r\n          status=\"success\"\r\n          title=\"Successfully Generate the Key\"\r\n          subTitle={props.key}\r\n          extra={[]}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n};\r\n\r\nconst FailedModel = function (props) {\r\n  return (\r\n    <Modal\r\n      title=\"Failed\"\r\n      centered\r\n      visible={props.visible}\r\n      onOk={() => props.onClose(false)}\r\n      onCancel={() => props.onClose(false)}\r\n    >\r\n      <Result\r\n        status=\"warning\"\r\n        title=\"Something went Wrong\"\r\n        subTitle={''}\r\n        extra={[]}\r\n      />\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst USERTABLE = function (props) {\r\n  return (\r\n    <div>\r\n      <table className=\"table userTable\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Active</th>\r\n            <th>Created</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.data.map((value, i) => (\r\n            <USERROW\r\n              key={i}\r\n              item={value}\r\n              onDelete={props.onDelete}\r\n              onDeActive={props.onDeActive}\r\n              onEdit={props.onEdit} \r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst USERROW = function (props) {\r\n  const item = props.item;\r\n  return (\r\n    <tr>\r\n      <td>{item.firstname}</td>\r\n      <td>{item.email}</td>\r\n      <td>\r\n        <Switch\r\n          size=\"small\"\r\n          defaultChecked={item.isActive}\r\n          onChange={() => props.onDeActive(item.id, item.isActive)}\r\n        />\r\n      </td>\r\n\r\n      <td>{dateParser(item.date)}</td>\r\n      <td>\r\n        <div className=\"btn-group\">\r\n          <button className=\"btn btn-sm btn-font-size editbtn\" onClick={() => props.onEdit(item.id)}>\r\n            <i className=\"fa fa-edit\" aria-hidden=\"true\"></i> Edit\r\n          </button>\r\n          <button className=\"btn btn-sm btn-font-size editbtn\" onClick={() => props.onDelete(item.id)}>\r\n            <i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ProductModel = function(props){\r\n  const [selectTools, setSelectTools] = useState(false);\r\n  const [isUpgrade1, setisUpgrade1] = useState(props.isUpgrade1);\r\n  const [isUpgrade2, setisUpgrade2] = useState(props.isUpgrade2);\r\n  const [checked, setChecked] = useState(false);\r\n  const [tools, setTools] = useState(props.tools);\r\n  let newTool = [];\r\n\r\n  useEffect(() => {\r\n    if(tools.length) {\r\n      let ft = document.querySelectorAll(\".frontend_tools\");\r\n      for(let i = 0; i<ft.length; i++) {\r\n        let id = parseInt(ft[i].childNodes[1].getAttribute(\"data-label\"));\r\n        for(let j=0; j<tools.length; j++) {\r\n          if(id === tools[j]) {\r\n            ft[i].childNodes[0].setAttribute(\"checked\", \"\");\r\n          }\r\n        }\r\n      }\r\n      if(props.OTO1.length === ft.length) {\r\n        document.querySelector(\".fe_selectAll\").childNodes[0].setAttribute(\"checked\", \"\");\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const selectAllProduct = (e) => {\r\n    let toolArray = [];\r\n    if(checked) {\r\n      e.target.previousSibling.removeAttribute(\"checked\");\r\n    } else {\r\n      e.target.previousSibling.setAttribute(\"checked\", \"\");\r\n    }\r\n    \r\n    let items = document.querySelectorAll(\".frontend_tools\");\r\n    items.forEach(element => {\r\n      if(!checked) {\r\n        toolArray.push(parseInt(element.childNodes[1].getAttribute(\"data-label\")));\r\n        element.childNodes[0].setAttribute(\"checked\", \"\");\r\n      } else {\r\n        toolArray = [];\r\n        element.childNodes[0].removeAttribute(\"checked\");\r\n      }\r\n    });\r\n    setSelectTools(!selectTools);\r\n    setTools(toolArray);\r\n    props.onChange({tools : toolArray})\r\n  }\r\n\r\n  const SelectSingleProduct = (e) => {\r\n    var event = e || window.e,\r\n        target = event.target || event.srcElement;\r\n        \r\n    if (target.tagName.toUpperCase() == 'INPUT') {\r\n      let toolId = parseInt(target.nextElementSibling.getAttribute(\"data-label\"));\r\n      if (target.checked){\r\n        tools.push(toolId)\r\n        setTools(tools);\r\n        props.onChange({tools : tools})\r\n        target.setAttribute(\"checked\", \"\");\r\n      } else {\r\n        target.removeAttribute(\"checked\");\r\n        tools.filter(tool => {\r\n          if(tool !== toolId) {\r\n            newTool.push(tool);\r\n          }\r\n        });\r\n        setTools(newTool);\r\n        props.onChange({tools : newTool})\r\n      }\r\n    }\r\n  }\r\n  \r\n  const selectUpgrade1 = (e) => {\r\n    var event = e || window.e,\r\n        target = event.target || event.srcElement;\r\n        \r\n    if (target.tagName.toUpperCase() == 'INPUT') {\r\n      if (target.checked){\r\n        target.setAttribute(\"checked\", \"\");\r\n      } else {\r\n        target.removeAttribute(\"checked\");\r\n      }\r\n      setisUpgrade1(!isUpgrade1); \r\n      props.onChange({isUpgrade1 : !isUpgrade1})\r\n    }\r\n  } \r\n\r\n  const selectUpgrade2 = (e) => {\r\n    var event = e || window.e,\r\n        target = event.target || event.srcElement;\r\n        \r\n    if (target.tagName.toUpperCase() == 'INPUT') {\r\n      if (target.checked){\r\n        target.setAttribute(\"checked\", \"\");\r\n      } else {\r\n        target.removeAttribute(\"checked\");\r\n      }\r\n      setisUpgrade2(!isUpgrade2);\r\n      props.onChange({isUpgrade2 : !isUpgrade2})\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_popup_wrapper\">\r\n      <div className=\"product_popup_overlay\"></div>\r\n      <div className=\"product_popup_box\">\r\n        <div className=\"product_popup_close\" onClick={props.popClose}>✖︎</div>\r\n        <h3>Select Products</h3>\r\n        <div className=\"product_type_heading\">\r\n          <h5>Frontend</h5>\r\n          <label className=\"product_check fe_selectAll\" data-label=\"frontend\">\r\n            <input type=\"checkbox\"/>\r\n            <span onClick={(e)=> {\r\n              setChecked(!checked);\r\n              selectAllProduct(e);\r\n            }}>Select All</span>\r\n          </label>\r\n        </div>\r\n        <ul onClick={(e)=> SelectSingleProduct(e)}>\r\n          {props.OTO1.map( tool => {\r\n            return (\r\n              <li key={tool.tid}>\r\n                <label className=\"product_check frontend_tools\">\r\n                  <input type=\"checkbox\"/>\r\n                  <span data-label={tool.tid}>{tool.text}</span>\r\n                </label>\r\n              </li>\r\n            )\r\n          })}\r\n        </ul>\r\n        \r\n        <div className=\"product_type_heading\" onClick={(e)=> selectUpgrade1(e)}>\r\n          <h5>Upgrade 1</h5>\r\n          <label className=\"product_check\">\r\n            <input type=\"checkbox\" defaultChecked={isUpgrade1 ? \"true\": null}/>\r\n            <span>Select</span>\r\n          </label>\r\n        </div>\r\n        <div className=\"product_type_heading\" onClick={(e)=> selectUpgrade2(e)}>\r\n          <h5>Upgrade 2</h5>\r\n          <label className=\"product_check\">\r\n            <input type=\"checkbox\" defaultChecked={isUpgrade2 ? \"true\": null}/>\r\n            <span>Select</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nconst EditModel = function (props) {\r\n  console.log(\"props.data\", props.data)\r\n  const [name, setName] = useState(props.data.firstname);\r\n  const [isActive, setisActive] = useState(props.data.isActive);\r\n  // const [tools, setTools] = useState(props.data.allowedTool);\r\n  const [isUpgrade1, setisUpgrade1] = useState(props.data.isUpgrade1);\r\n  const [isUpgrade2, setisUpgrade2] = useState(props.data.isUpgrade2);\r\n  return (\r\n    <Modal title=\"Edit User\" centered visible={props.visible} onOk={() => props.onSave(name, isActive, isUpgrade1, isUpgrade2)} onCancel={() => props.onClose(false)}>\r\n      <div className=\"form-group admin-form-group\">\r\n        <label>Name</label>\r\n        <input type=\"text\" name=\"name\" value={name} onChange={(e) => setName(e.target.value)} className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group admin-form-group\" style={{ display: \"flex\" }}>\r\n        <label>IsActive</label>\r\n        <Switch className=\"pull-right m-2\" onChange={() => setisActive(!isActive)} size=\"small\" defaultChecked={isActive} />\r\n      </div>\r\n      <div className=\"form-group admin-form-group\" style={{ display: \"flex\" }}>\r\n        <label>Upgrade - 1</label>\r\n        <Switch className=\"pull-right m-2\" onChange={() => setisUpgrade1(!isUpgrade1)} size=\"small\" defaultChecked={isUpgrade1} />\r\n      </div>\r\n      <div className=\"form-group admin-form-group\" style={{ display: \"flex\" }}>\r\n        <label>Upgrade - 2</label>\r\n        <Switch className=\"pull-right m-2\" onChange={() => setisUpgrade2(!isUpgrade2)} size=\"small\" defaultChecked={isUpgrade2} />\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}