{"ast":null,"code":"import React,{Component}from\"react\";import{Input,Select}from\"antd\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;export default class UrlInput extends Component{constructor(props){super(props);this.handleDropDown=()=>{const{parentValue}=this.state;let value=\"\";if(parentValue.indexOf(\"https\")!=-1){value=parentValue.replace(\"https://\",\"\");this.setState({prefix:\"https://\",value});}else if(parentValue.indexOf(\"http\")!=-1){value=parentValue.replace(\"http://\",\"\");this.setState({prefix:\"http://\",value});}else if(parentValue.indexOf(\"mailto:\")!=-1){value=parentValue.replace(\"mailto:\",\"\");this.setState({prefix:\"mailto:\",value});}else if(parentValue.indexOf(\"tel:\")!=-1){value=parentValue.replace(\"tel:\",\"\");this.setState({prefix:\"tel:\",value});}};this.onChange=e=>{const data=e.target.value;let value=\"\";if(data.indexOf(\"https\")!=-1){value=data;}else if(data.indexOf(\"http\")!=-1){value=data;}else if(data.indexOf(\"mailto\")!=-1){value=data;}else if(data.indexOf(\"tel\")!=-1){value=data;}else{value=this.state.prefix+data;}// console.log(\"value\", value);\nthis.setState({parentValue:value,value:data},()=>{const event={target:{name:\"\",value:\"\"}};event[\"target\"][\"name\"]=this.props.name;event[\"target\"][\"value\"]=this.state.parentValue;this.props.onChange(event);});};this.onDropDownChange=value=>{this.setState({prefix:value},()=>{const event={target:{name:\"\",value:\"\"}};event[\"target\"][\"name\"]=this.props.name;event[\"target\"][\"value\"]=this.state.parentValue;this.props.onChange(event);});};this.selectBefore=()=>{const{isTab}=this.props;if(!isTab){return/*#__PURE__*/_jsxs(Select,{defaultValue:this.state.prefix,onChange:this.onDropDownChange,className:\"select-before\",children:[/*#__PURE__*/_jsx(Option,{value:\"http://\",children:\"http://\"}),/*#__PURE__*/_jsx(Option,{value:\"https://\",children:\"https://\"})]});}return/*#__PURE__*/_jsxs(Select,{defaultValue:this.state.prefix,onChange:this.onDropDownChange,className:\"select-before\",children:[/*#__PURE__*/_jsx(Option,{value:\"http://\",children:\"http://\"}),/*#__PURE__*/_jsx(Option,{value:\"https://\",children:\"https://\"}),/*#__PURE__*/_jsx(Option,{value:\"mailto:\",children:\"mail to\"}),/*#__PURE__*/_jsx(Option,{value:\"tel:\",children:\"Call\"})]});};this.state={value:this.props.value,prefix:\"https://\",parentValue:this.props.value};}componentWillMount(){this.handleDropDown();this.setState({value:this.props.value},()=>{});}componentWillReceiveProps(nextProps){this.setState({value:nextProps.value},()=>{});}render(){const{prefix,value}=this.state;console.log(\"value render\",value);return/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:16},children:/*#__PURE__*/_jsx(Input,{addonBefore:this.selectBefore(),onChange:this.onChange,value:value,autoComplete:\"off\"})})});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/comman/UrlInput.js"],"names":["React","Component","Input","Select","Option","UrlInput","constructor","props","handleDropDown","parentValue","state","value","indexOf","replace","setState","prefix","onChange","e","data","target","event","name","onDropDownChange","selectBefore","isTab","componentWillMount","componentWillReceiveProps","nextProps","render","console","log","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Input, Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\nexport default class UrlInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: this.props.value,\r\n      prefix: \"https://\",\r\n      parentValue: this.props.value,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.handleDropDown();\r\n    this.setState({ value: this.props.value },()=> {});\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({ value: nextProps.value },()=> {});\r\n  }\r\n\r\n  handleDropDown = () => {\r\n    const { parentValue } = this.state;\r\n    let value = \"\";\r\n    if (parentValue.indexOf(\"https\") != -1) {\r\n      value = parentValue.replace(\"https://\", \"\");\r\n      this.setState({ prefix: \"https://\", value });\r\n    } else if (parentValue.indexOf(\"http\") != -1) {\r\n      value = parentValue.replace(\"http://\", \"\");\r\n      this.setState({ prefix: \"http://\", value });\r\n    } else if (parentValue.indexOf(\"mailto:\") != -1) {\r\n      value = parentValue.replace(\"mailto:\", \"\");\r\n      this.setState({ prefix: \"mailto:\", value });\r\n    } else if (parentValue.indexOf(\"tel:\") != -1) {\r\n      value = parentValue.replace(\"tel:\", \"\");\r\n      this.setState({ prefix: \"tel:\", value });\r\n    }\r\n  };\r\n\r\n  onChange = (e) => {\r\n    const data = e.target.value;\r\n    let value = \"\";\r\n    if(data.indexOf(\"https\") != -1) {\r\n      value = data;\r\n    } else if(data.indexOf(\"http\") != -1) {\r\n      value = data;\r\n    } else if(data.indexOf(\"mailto\") != -1) {\r\n      value = data;\r\n    } else if(data.indexOf(\"tel\") != -1) {\r\n      value = data;\r\n    } else {\r\n      value = this.state.prefix + data;\r\n    }\r\n    \r\n    // console.log(\"value\", value);\r\n    this.setState({ parentValue: value, value: data }, () => {\r\n      const event = { target: { name: \"\", value: \"\" } };\r\n      event[\"target\"][\"name\"] = this.props.name;\r\n      event[\"target\"][\"value\"] = this.state.parentValue;\r\n      \r\n      this.props.onChange(event);\r\n    });\r\n  };\r\n\r\n  onDropDownChange = (value) => {\r\n    this.setState({ prefix: value }, () => {\r\n      const event = { target: { name: \"\", value: \"\" } };\r\n      event[\"target\"][\"name\"] = this.props.name;\r\n      event[\"target\"][\"value\"] = this.state.parentValue;\r\n      this.props.onChange(event);\r\n    });\r\n  };\r\n\r\n  selectBefore = () => {\r\n    const { isTab } = this.props;\r\n    if (!isTab) {\r\n      return (\r\n        <Select defaultValue={this.state.prefix} onChange={this.onDropDownChange} className=\"select-before\">\r\n          <Option value=\"http://\">http://</Option>\r\n          <Option value=\"https://\">https://</Option>\r\n        </Select>\r\n      );\r\n    }\r\n    return (\r\n      <Select defaultValue={this.state.prefix} onChange={this.onDropDownChange} className=\"select-before\">\r\n        <Option value=\"http://\">http://</Option>\r\n        <Option value=\"https://\">https://</Option>\r\n        <Option value=\"mailto:\">mail to</Option>\r\n        <Option value=\"tel:\">Call</Option>\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { prefix, value } = this.state;\r\n    console.log(\"value render\", value);\r\n    return (\r\n      <div className=\"form-group\">\r\n        <div style={{ marginBottom: 16 }}>\r\n          <Input addonBefore={this.selectBefore()} onChange={this.onChange} value={value} autoComplete=\"off\"/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}