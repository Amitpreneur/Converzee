{"ast":null,"code":"var _jsxFileName = \"/opt/bitnami/apache/htdocs/converzee-frontend/src/components/comman/DropDown.js\";\nimport * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport ToolUtil from \"../../utils/ToolUtil\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class DropDown extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.onChange = e => {\n      if (this.props.index) {\n        this.props.onChange(e.target.value, this.props.index);\n      } else {\n        this.props.onChange(e.target.value);\n      }\n    };\n\n    this.renderOptions = (option, i) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        selected: this.props.value === option.value ? true : false,\n        disabled: option.disable,\n        value: option.value,\n        children: option.label\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this);\n    };\n  }\n\n  render() {\n    const {\n      classes,\n      style,\n      options,\n      onChange,\n      disable,\n      selected,\n      index\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"select\", {\n      disabled: disable,\n      onChange: this.onChange,\n      style: style,\n      className: classes,\n      children: options.map(this.renderOptions)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nDropDown.propTypes = {\n  classes: PropTypes.string,\n  options: PropTypes.array,\n  onChange: PropTypes.func,\n  disable: PropTypes.bool,\n  value: PropTypes.string,\n  index: PropTypes.number,\n  style: PropTypes.object\n};\nDropDown.defaultProps = {\n  classes: \"form-control form-control-sm\",\n  value: \"\",\n  options: [],\n  disable: false,\n  style: {\n    width: \"min-content\"\n  }\n};\nexport class ToolSelectorDropDown extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.OTO1 = [{\n      tid: 1,\n      selected: false,\n      text: \"Tab Messaging\"\n    }, {\n      tid: 2,\n      selected: false,\n      text: \"Urgency Timer\"\n    }, {\n      tid: 5,\n      selected: false,\n      text: \"Video Popup\"\n    }, {\n      tid: 6,\n      selected: false,\n      text: \"Central Timer\"\n    }, {\n      tid: 7,\n      selected: false,\n      text: \"Geo Redirection\"\n    }, {\n      tid: 3,\n      selected: false,\n      text: \"HELLO BAR\"\n    }, {\n      tid: 4,\n      selected: false,\n      text: \"Image Popup\"\n    }, {\n      tid: 9,\n      selected: false,\n      text: \"Exit Intent\"\n    }, {\n      tid: 10,\n      selected: false,\n      text: \"Mobile Vibrator\"\n    }, {\n      tid: 13,\n      selected: false,\n      text: \"Dynamic Elements\"\n    }, {\n      tid: 14,\n      selected: false,\n      text: \"Offer iframe\"\n    }, {\n      tid: 15,\n      selected: false,\n      text: \"Back Button redirection\"\n    }, {\n      tid: 17,\n      selected: false,\n      text: \"HELLO BAR + Timer\"\n    }, {\n      tid: 24,\n      selected: false,\n      text: \"Autoplay Video\"\n    }];\n    this.isOTO1All = false;\n    this.isOTO2All = false;\n    this.isOTO3All = false;\n    this.selected = new Set();\n    this.state = {\n      open: false\n    };\n\n    this.openToolBox = () => {\n      const {\n        open\n      } = this.state;\n      this.setState({\n        open: !open\n      }, () => {\n        if (this.state.open) {\n          document.addEventListener(\"click\", this.onSelectionDone);\n        }\n      });\n    };\n\n    this.onSelectionDone = e => {\n      let isInsideClick = false;\n      e.path.forEach(ele => {\n        if (ele.className === \"toolSelectorDropDown\") isInsideClick = true;\n      });\n\n      if (!isInsideClick) {\n        document.removeEventListener(\"click\", this.onSelectionDone);\n        this.setState({\n          open: false\n        });\n      }\n    };\n\n    this.onChange = item => {\n      const {\n        selected\n      } = this;\n\n      if (selected.has(item)) {\n        selected.delete(item);\n      } else {\n        selected.add(item);\n      }\n\n      this.props.onChange(Array.from(selected));\n      this.forceUpdate();\n    };\n\n    this.onlySetItem = (item, isAdd) => {\n      const {\n        selected\n      } = this;\n\n      if (!isAdd) {\n        selected.delete(item);\n      } else {\n        selected.add(item);\n      }\n    };\n\n    this.onFrontEndSelectAll = () => {\n      this.isOTO1All = !this.isOTO1All;\n      this.OTO1.forEach(e => {\n        e.selected = this.isOTO1All;\n        this.onlySetItem(e.tid, this.isOTO1All);\n      });\n      this.props.onChange(Array.from(this.selected));\n      this.forceUpdate();\n    };\n\n    this.onFrontEndSelect = (item, i, isTrue) => {\n      this.OTO1[i][\"selected\"] = !isTrue;\n      this.onChange(item);\n    };\n\n    this.onOTO2All = () => {\n      this.isOTO2All = !this.isOTO2All;\n      this.OTO2.forEach(e => {\n        e.selected = this.isOTO2All;\n        this.onlySetItem(e.tid, this.isOTO2All);\n      });\n      this.props.onChange(Array.from(this.selected));\n      this.forceUpdate();\n    };\n\n    this.onOTO2Select = (item, i, isTrue) => {\n      this.OTO2[i][\"selected\"] = !isTrue;\n      this.onChange(item);\n    };\n\n    this.onOTO3All = () => {\n      this.isOTO3All = !this.isOTO3All;\n      this.OTO3.forEach(e => {\n        e.selected = this.isOTO3All;\n        this.onlySetItem(e.tid, this.isOTO3All);\n      });\n      this.props.onChange(Array.from(this.selected));\n      this.forceUpdate();\n    };\n\n    this.onOTO3Select = (item, i, isTrue) => {\n      this.OTO3[i][\"selected\"] = !isTrue;\n      this.onChange(item);\n    };\n  }\n\n  render() {\n    const {\n      isOTO1All,\n      isOTO2All,\n      isOTO3All,\n      selected\n    } = this;\n    const {\n      open\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolSelectorDropDown\",\n      name: \"ToolSelector\",\n      children: [/*#__PURE__*/_jsxDEV(ElementSelected, {\n        selected: selected,\n        elementClick: this.openToolBox\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), open ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-menu mck_dropdown-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: isOTO1All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\",\n          onClick: this.onFrontEndSelectAll,\n          children: \"Front End\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), this.OTO1.map((e, i) => /*#__PURE__*/_jsxDEV(OptionItem, {\n          index: i,\n          text: e.text,\n          selected: e.selected,\n          tid: e.tid,\n          onChange: this.onFrontEndSelect\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst OptionItem = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.selected ? \"tool_menuItem tool_menuItem_selected\" : \"tool_menuItem\",\n    onClick: () => props.onChange(props.tid, props.index, props.selected),\n    children: [props.text, /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-check\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n};\n\n_c = OptionItem;\n\nconst ElementSelected = props => {\n  const selected = props.selected ? Array.from(props.selected) : [];\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onFocus: props.elementClick,\n    className: \"toolDropdownItem\",\n    style: {\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ant-select-selection\\r ant-select-selection--multiple\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: selected.map((e, i) => /*#__PURE__*/_jsxDEV(InnerItem, {\n          tid: e\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ElementSelected;\n\nconst InnerItem = function (props) {\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"ant-select-selection__choice\",\n    children: ToolUtil.getTool(props.tid)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = InnerItem;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"OptionItem\");\n$RefreshReg$(_c2, \"ElementSelected\");\n$RefreshReg$(_c3, \"InnerItem\");","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/comman/DropDown.js"],"names":["React","PropTypes","_","ToolUtil","DropDown","Component","onChange","e","props","index","target","value","renderOptions","option","i","disable","label","render","classes","style","options","selected","map","propTypes","string","array","func","bool","number","object","defaultProps","width","ToolSelectorDropDown","PureComponent","OTO1","tid","text","isOTO1All","isOTO2All","isOTO3All","Set","state","open","openToolBox","setState","document","addEventListener","onSelectionDone","isInsideClick","path","forEach","ele","className","removeEventListener","item","has","delete","add","Array","from","forceUpdate","onlySetItem","isAdd","onFrontEndSelectAll","onFrontEndSelect","isTrue","onOTO2All","OTO2","onOTO2Select","onOTO3All","OTO3","onOTO3Select","OptionItem","ElementSelected","elementClick","InnerItem","getTool"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport _ from \"lodash\";\r\nimport ToolUtil from \"../../utils/ToolUtil\";\r\nexport default class DropDown extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.string,\r\n    options: PropTypes.array,\r\n    onChange: PropTypes.func,\r\n    disable: PropTypes.bool,\r\n    value: PropTypes.string,\r\n    index: PropTypes.number,\r\n    style: PropTypes.object,\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: \"form-control form-control-sm\",\r\n    value: \"\",\r\n    options: [],\r\n    disable: false,\r\n    style: { width: \"min-content\" },\r\n  };\r\n\r\n  onChange = (e) => {\r\n    if (this.props.index) {\r\n      this.props.onChange(e.target.value, this.props.index);\r\n    } else {\r\n      this.props.onChange(e.target.value);\r\n    }\r\n  };\r\n\r\n  renderOptions = (option, i) => {\r\n    return (\r\n      <option key={i} selected={this.props.value === option.value ? true : false} disabled={option.disable} value={option.value}>\r\n        {option.label}\r\n      </option>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes, style, options, onChange, disable, selected, index } = this.props;\r\n    return (\r\n      <select disabled={disable} onChange={this.onChange} style={style} className={classes}>\r\n        {options.map(this.renderOptions)}\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nexport class ToolSelectorDropDown extends React.PureComponent {\r\n  OTO1 = [\r\n    { tid: 1, selected: false, text: \"Tab Messaging\" },\r\n    { tid: 2, selected: false, text: \"Urgency Timer\" },\r\n    { tid: 5, selected: false, text: \"Video Popup\" },\r\n    { tid: 6, selected: false, text: \"Central Timer\" },\r\n    { tid: 7, selected: false, text: \"Geo Redirection\" },\r\n    { tid: 3, selected: false, text: \"HELLO BAR\" },\r\n    { tid: 4, selected: false, text: \"Image Popup\" },\r\n    { tid: 9, selected: false, text: \"Exit Intent\" },\r\n    { tid: 10, selected: false, text: \"Mobile Vibrator\" },\r\n    { tid: 13, selected: false, text: \"Dynamic Elements\" },\r\n    { tid: 14, selected: false, text: \"Offer iframe\" },\r\n    { tid: 15, selected: false, text: \"Back Button redirection\" },\r\n    { tid: 17, selected: false, text: \"HELLO BAR + Timer\" },\r\n    { tid: 24, selected: false, text: \"Autoplay Video\" }\r\n  ];\r\n  // OTO2 = [\r\n  //   { tid: 18, selected: false, text: \"Run campaign on third party site\" },\r\n  //   { tid: 19, selected: false, text: \"Optin forms\" },\r\n  // ];\r\n  // OTO3 = [];\r\n  isOTO1All = false;\r\n  isOTO2All = false;\r\n  isOTO3All = false;\r\n  selected = new Set();\r\n  state = {\r\n    open: false,\r\n  };\r\n  openToolBox = () => {\r\n    const { open } = this.state;\r\n    this.setState({ open: !open }, () => {\r\n      if (this.state.open) {\r\n        document.addEventListener(\"click\", this.onSelectionDone);\r\n      }\r\n    });\r\n  };\r\n\r\n  onSelectionDone = (e) => {\r\n    let isInsideClick = false;\r\n    e.path.forEach((ele) => {\r\n      if (ele.className === \"toolSelectorDropDown\") isInsideClick = true;\r\n    });\r\n    if (!isInsideClick) {\r\n      document.removeEventListener(\"click\", this.onSelectionDone);\r\n      this.setState({ open: false });\r\n    }\r\n  };\r\n\r\n  onChange = (item) => {\r\n    const { selected } = this;\r\n    if (selected.has(item)) {\r\n      selected.delete(item);\r\n    } else {\r\n      selected.add(item);\r\n    }\r\n    this.props.onChange(Array.from(selected));\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onlySetItem = (item, isAdd) => {\r\n    const { selected } = this;\r\n    if (!isAdd) {\r\n      selected.delete(item);\r\n    } else {\r\n      selected.add(item);\r\n    }\r\n  };\r\n\r\n  onFrontEndSelectAll = () => {\r\n    this.isOTO1All = !this.isOTO1All;\r\n    this.OTO1.forEach((e) => {\r\n      e.selected = this.isOTO1All;\r\n      this.onlySetItem(e.tid, this.isOTO1All);\r\n    });\r\n    this.props.onChange(Array.from(this.selected));\r\n    this.forceUpdate();\r\n  };\r\n  onFrontEndSelect = (item, i, isTrue) => {\r\n    this.OTO1[i][\"selected\"] = !isTrue;\r\n    this.onChange(item);\r\n  };\r\n  onOTO2All = () => {\r\n    this.isOTO2All = !this.isOTO2All;\r\n    this.OTO2.forEach((e) => {\r\n      e.selected = this.isOTO2All;\r\n      this.onlySetItem(e.tid, this.isOTO2All);\r\n    });\r\n    this.props.onChange(Array.from(this.selected));\r\n    this.forceUpdate();\r\n  };\r\n  onOTO2Select = (item, i, isTrue) => {\r\n    this.OTO2[i][\"selected\"] = !isTrue;\r\n    this.onChange(item);\r\n  };\r\n  onOTO3All = () => {\r\n    this.isOTO3All = !this.isOTO3All;\r\n    this.OTO3.forEach((e) => {\r\n      e.selected = this.isOTO3All;\r\n      this.onlySetItem(e.tid, this.isOTO3All);\r\n    });\r\n    this.props.onChange(Array.from(this.selected));\r\n    this.forceUpdate();\r\n  };\r\n  onOTO3Select = (item, i, isTrue) => {\r\n    this.OTO3[i][\"selected\"] = !isTrue;\r\n    this.onChange(item);\r\n  };\r\n  render() {\r\n    const { isOTO1All, isOTO2All, isOTO3All, selected } = this;\r\n    const { open } = this.state;\r\n    return (\r\n      <div className=\"toolSelectorDropDown\" name=\"ToolSelector\">\r\n        <ElementSelected selected={selected} elementClick={this.openToolBox} />\r\n        {open ? (\r\n          <div className=\"dropdown-menu mck_dropdown-menu\">\r\n            <div className={isOTO1All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\"} onClick={this.onFrontEndSelectAll}>\r\n              Front End\r\n            </div>\r\n            {this.OTO1.map((e, i) => (\r\n              <OptionItem key={i} index={i} text={e.text} selected={e.selected} tid={e.tid} onChange={this.onFrontEndSelect} />\r\n            ))}\r\n            {/* <div className={isOTO2All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\"} onClick={this.onOTO2All}>\r\n              OTO2\r\n            </div>\r\n            {this.OTO2.map((e, i) => (\r\n              <OptionItem key={i} index={i} text={e.text} selected={e.selected} tid={e.tid} onChange={this.onOTO2Select} />\r\n            ))}\r\n            <div className={isOTO3All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\"} onClick={this.onOTO3All}>\r\n              OTO3\r\n            </div> */}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst OptionItem = (props) => {\r\n  return (\r\n    <div className={props.selected ? \"tool_menuItem tool_menuItem_selected\" : \"tool_menuItem\"} onClick={() => props.onChange(props.tid, props.index, props.selected)}>\r\n      {props.text}\r\n      <span>\r\n        <i className=\"fa fa-check\" />\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ElementSelected = (props) => {\r\n  const selected = props.selected ? Array.from(props.selected) : [];\r\n  return (\r\n    <button onFocus={props.elementClick} className=\"toolDropdownItem\" style={{ width: \"100%\" }}>\r\n      <div\r\n        className=\"ant-select-selection\r\n            ant-select-selection--multiple\"\r\n      >\r\n        <ul>\r\n          {selected.map((e, i) => (\r\n            <InnerItem key={i} tid={e} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nconst InnerItem = function (props) {\r\n  return <li className=\"ant-select-selection__choice\">{ToolUtil.getTool(props.tid)}</li>;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}