{"ast":null,"code":"import React from\"react\";// import { Upload, Icon, message } from \"antd\";\nimport{Upload,message,Button,Icon,Progress}from\"antd\";import\"antd/dist/antd.css\";import\"./Uploader.css\";import{BASE_URL,IMAGE_UPLOAD_LINK,IMAGE_OPTI_UPLOAD}from\"../../actions/URLs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function vaildateFile(file){if(file){if(file.type.indexOf(\"image\"))return false;return true;}}let progress=0,pgShow=\"none\";const Uploader=prop=>{const props={name:\"photo\",multiple:prop.multiple?prop.multiple:false,action:BASE_URL+(prop.multiple?IMAGE_OPTI_UPLOAD:IMAGE_UPLOAD_LINK),onChange(info){const{status}=info.file;if(status!==\"uploading\"){prop.onUploadDone(info.fileList[info.fileList.length-1].response);}else{if(info.event){progress=info.event.type===\"progress\"?info.event.percent:0;}}if(status===\"done\"){message.success(\"\".concat(info.file.name,\" file uploaded successfully.\"));setTimeout(()=>{pgShow=\"none\";progress=0;document.querySelector(\".ant-progress-text\").innerHTML=\"0%\";document.querySelector(\".ant-progress-text\").setAttribute(\"title\",\"0%\");document.querySelector(\".ant-progress-show-info\").style.display=\"none\";},1000);}else if(status===\"error\"){message.error(\"\".concat(info.file.name,\" file upload failed.\"));}},beforeUpload:file=>{if(!vaildateFile(file)){message.error(\"\".concat(file.name,\" file failed. Select A valid Image to upload\"));}pgShow=\"block\";}};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(Upload,{...props,children:/*#__PURE__*/_jsx(\"div\",{className:\"uploader-default\",children:/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-cloud-upload\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Select File to Upload\"})]})})}),/*#__PURE__*/_jsx(Progress,{percent:progress,status:\"active\",style:{display:pgShow}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:prop.onReset?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pull-right\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",style:{position:\"absolute\",top:\"0px\",right:\"8px\"},onClick:prop.onReset,children:\"Reset\"})})}):null})]});};export default Uploader;","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/comman/Uploader.js"],"names":["React","Upload","message","Button","Icon","Progress","BASE_URL","IMAGE_UPLOAD_LINK","IMAGE_OPTI_UPLOAD","vaildateFile","file","type","indexOf","progress","pgShow","Uploader","prop","props","name","multiple","action","onChange","info","status","onUploadDone","fileList","length","response","event","percent","success","setTimeout","document","querySelector","innerHTML","setAttribute","style","display","error","beforeUpload","onReset","position","top","right"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n// import { Upload, Icon, message } from \"antd\";\r\nimport { Upload, message, Button, Icon, Progress } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./Uploader.css\";\r\nimport { BASE_URL, IMAGE_UPLOAD_LINK, IMAGE_OPTI_UPLOAD } from \"../../actions/URLs\";\r\nfunction vaildateFile(file) {\r\n  if (file) {\r\n    if (file.type.indexOf(\"image\")) return false;\r\n    return true;\r\n  }\r\n}\r\nlet progress = 0, pgShow = \"none\";\r\nconst Uploader = (prop) => {\r\n  const props = {\r\n    name: \"photo\",\r\n    multiple: prop.multiple ? prop.multiple : false,\r\n    action: BASE_URL + (prop.multiple ? IMAGE_OPTI_UPLOAD : IMAGE_UPLOAD_LINK),\r\n    onChange(info) {\r\n      const { status } = info.file;\r\n      if (status !== \"uploading\") {\r\n        prop.onUploadDone(info.fileList[info.fileList.length-1].response);\r\n      } else {\r\n        if(info.event) {\r\n          progress = (info.event.type === \"progress\") ? info.event.percent : 0;\r\n        }\r\n      }\r\n\r\n      if (status === \"done\") {\r\n        message.success(`${info.file.name} file uploaded successfully.`);\r\n        setTimeout(() => {\r\n          pgShow = \"none\";\r\n          progress = 0;\r\n          document.querySelector(\".ant-progress-text\").innerHTML = \"0%\" ;\r\n          document.querySelector(\".ant-progress-text\").setAttribute(\"title\", \"0%\");\r\n          document.querySelector(\".ant-progress-show-info\").style.display = \"none\";\r\n        },1000);\r\n      } else if (status === \"error\") {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    },\r\n    beforeUpload: (file) => {\r\n      if (!vaildateFile(file)) {\r\n        message.error(`${file.name} file failed. Select A valid Image to upload`);\r\n      }\r\n      pgShow = \"block\";\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-10\">\r\n        <Upload {...props}>\r\n          <div className=\"uploader-default\">\r\n            <center>\r\n              <i className=\"fa fa-cloud-upload\"></i>\r\n              <div>Select File to Upload</div>\r\n            </center>\r\n          </div>\r\n        </Upload>\r\n        <Progress percent={progress} status=\"active\" style={{ display: pgShow}}/>\r\n      </div>\r\n      <div className=\"col-2\">\r\n        {prop.onReset ? (\r\n          <div className=\"row\">\r\n            <div className=\"pull-right\">\r\n              <button className=\"btn btn-sm btn-danger\" style={{ position: \"absolute\", top: \"0px\", right: \"8px\" }} onClick={prop.onReset}>\r\n                Reset\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Uploader;\r\n"]},"metadata":{},"sourceType":"module"}