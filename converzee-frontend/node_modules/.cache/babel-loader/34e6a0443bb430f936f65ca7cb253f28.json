{"ast":null,"code":"import React,{Component}from\"react\";import{getcolor}from\"../../../Util\";import\"./Preview.css\";import FlipClock from\"../../../comman/FlipClock\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Preview extends Component{constructor(){super(...arguments);this.state={millsecond:0,days:0,hours:0,minutes:0,seconds:0,total:0,endtime:new Date(Date.parse(new Date())+15*24*60*60*1000)};this.intervalHandler=null;this.initializeClock=endtime=>{if(this.intervalHandler)clearInterval(this.intervalHandler);this.updateClock(endtime);this.intervalHandler=setInterval(this.updateClock,1000);};this.updateClock=()=>{var t=getTimeRemaining(this.state.endtime);this.setState({days:t.days,hours:t.hours,minutes:t.minutes,seconds:t.seconds});if(t.total<=0){clearInterval(this.intervalHandler);this.setState({days:0,hours:0,minutes:0,seconds:0});}};this.getColor=key=>{return getcolor(this.props.STYLE.elements,key);};this.getLabelStyle=()=>{const color=this.getColor(\"centralTimerLabel\");const backgroundColor=\"\";//this.getColor(\"highlightBackground\");\nif(this.props.layout==2)return{color:color,backgroundColor:backgroundColor,fontSize:parseInt(this.props.STYLE.timerLabelFont)};else if(this.props.layout==1)return{color:color,fontSize:parseInt(this.props.STYLE.timerLabelFont)};else return{color:this.getColor(\"centralTimerLabel\"),backgroundColor:this.getColor(\"highlight\")};};this.getTimerStyle=()=>{const color=this.getColor(\"centralTimer\");const backgroundColor=this.getColor(\"highlight\");if(this.props.layout==2||this.props.layout==3)return{color:color,backgroundColor:backgroundColor,fontSize:parseInt(this.props.STYLE.timerFont)};else return{color:color,fontSize:parseInt(this.props.STYLE.timerFont)};};this.getTemplate=()=>{const layout=this.props.layout;const labelStyle=this.getLabelStyle();const timerStyle=this.getTimerStyle();let{days,hours,minutes,seconds}=this.state;days=(\"0\"+days).slice(-2);hours=(\"0\"+hours).slice(-2);minutes=(\"0\"+minutes).slice(-2);seconds=(\"0\"+seconds).slice(-2);const{DD=\"Days\",HH=\"Hours\",MM=\"Mintues\",SS=\"Second\"}=this.props.TEXT;//.timerLabel;\nif(layout==2){return/*#__PURE__*/_jsxs(\"div\",{id:\"clockdiv\",style:this.getLabelStyleTemp(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"days\",style:timerStyle,children:days}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:DD})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hours\",style:timerStyle,children:hours}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:HH})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"minutes\",style:timerStyle,children:minutes}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:MM})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"seconds\",style:timerStyle,children:seconds}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:SS})]})]});}else if(layout==1){return/*#__PURE__*/_jsxs(\"div\",{id:\"clockdiv\",style:this.getLabelStyleTemp(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"days\",style:timerStyle,children:days}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:DD})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hours\",style:timerStyle,children:hours}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:HH})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"minutes\",style:timerStyle,children:minutes}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:MM})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"seconds\",style:timerStyle,children:seconds}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:SS})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{id:\"clockdiv\",style:this.getLabelStyleTemp(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"days\",style:timerStyle,children:days}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:DD})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hours\",style:timerStyle,children:hours}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:HH})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"minutes\",style:timerStyle,children:minutes}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:MM})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"objdivTimer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"seconds\",style:timerStyle,children:seconds}),/*#__PURE__*/_jsx(\"div\",{style:labelStyle,className:\"smalltext\",children:SS})]})]});}//else if (layout == 2) {\n// } else if (layout == 3) {\n// } else if (layout == 4) {\n//   return (\n//     <div id=\"clockdiv\" style={timerStyle}>\n//       <div className=\"objdivTimer\">\n//         <span className=\"days\" style={timerStyle}>\n//           {days}\n//         </span>\n//         <div style={labelStyle} className=\"smalltext\">\n//           {DD}\n//         </div>\n//       </div>\n//       <div className=\"objdivTimer\">\n//         <span className=\"hours\" style={timerStyle}>\n//           {hours}\n//         </span>\n//         <div style={labelStyle} className=\"smalltext\">\n//           {HH}\n//         </div>\n//       </div>\n//       <div className=\"objdivTimer\">\n//         <span className=\"minutes\" style={timerStyle}>\n//           {minutes}\n//         </span>\n//         <div style={labelStyle} className=\"smalltext\">\n//           {MM}\n//         </div>\n//       </div>\n//       <div className=\"objdivTimer\">\n//         <span className=\"seconds\" style={timerStyle}>\n//           {seconds}\n//         </span>\n//         <div style={labelStyle} className=\"smalltext\">\n//           {SS}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// } else {\n//   return <FlipClock timer={20000} />;\n// }\n};}componentDidMount(){//this.setState({ endtime: new Date(Date.parse(this.props.timer.endDateTime)) });\nthis.setTimer();}setTimer(){let nextProps=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const{DD,HH,MM,SS}=nextProps?nextProps.timer:this.props.timer;const newtimerType=nextProps?nextProps.timer.timerType:this.props.timer.timerType;if(newtimerType!==\"DATE_AND_TIME_BASED\"){let time=new Date();time.setDate(time.getDate()+parseInt(DD));time.setHours(time.getHours()+parseInt(HH));time.setMinutes(time.getMinutes()+parseInt(MM));time.setSeconds(time.getSeconds()+parseInt(SS));this.setState({endtime:time},()=>{this.initializeClock(this.state.endtime);});}else{const time=nextProps?nextProps.timer.endDateTime:this.props.timer.endDateTime;this.setState({endtime:new Date(Date.parse(time))},()=>{this.initializeClock(this.state.endtime);});}}componentWillReceiveProps(nextProps){this.setTimer(nextProps);}componentWillUnmount(){clearInterval(this.intervalHandler);}getLabelStyleTemp(){const color=this.getColor(\"centralTimer\");const backgroundColor=this.getColor(\"highlight\");if(this.props.layout==2)return{color:color,backgroundColor:backgroundColor,fontSize:parseInt(this.props.STYLE.timerFont)};else return{color:color,fontSize:parseInt(this.props.STYLE.timerFont)};}render(){// const { isStop, millsecond } = this.state;\n// const style = this.getStyle();\nconst layout=this.props.layout;let{days,hours,minutes,seconds}=this.state;return/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"previewPortal\",style:{backgroundColor:\"#fcfcfc00\",left:layout==5?\"15%\":\"\"},children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:this.props.TEXT.timerText}})}),this.getTemplate()]})});}}function getTimeRemaining(endtime){var t=Date.parse(endtime)-Date.parse(new Date());var seconds=Math.floor(t/1000%60);var minutes=Math.floor(t/1000/60%60);var hours=Math.floor(t/(1000*60*60)%24);var days=Math.floor(t/(1000*60*60*24));return{total:t,days:days,hours:hours,minutes:minutes,seconds:seconds};}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/tools/CentralTimer/Preview.js"],"names":["React","Component","getcolor","FlipClock","Preview","state","millsecond","days","hours","minutes","seconds","total","endtime","Date","parse","intervalHandler","initializeClock","clearInterval","updateClock","setInterval","t","getTimeRemaining","setState","getColor","key","props","STYLE","elements","getLabelStyle","color","backgroundColor","layout","fontSize","parseInt","timerLabelFont","getTimerStyle","timerFont","getTemplate","labelStyle","timerStyle","slice","DD","HH","MM","SS","TEXT","getLabelStyleTemp","componentDidMount","setTimer","nextProps","timer","newtimerType","timerType","time","setDate","getDate","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","endDateTime","componentWillReceiveProps","componentWillUnmount","render","left","__html","timerText","Math","floor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { getcolor } from \"../../../Util\";\r\nimport \"./Preview.css\";\r\nimport FlipClock from \"../../../comman/FlipClock\";\r\nexport default class Preview extends Component {\r\n  state = {\r\n    millsecond: 0,\r\n    days: 0,\r\n    hours: 0,\r\n    minutes: 0,\r\n    seconds: 0,\r\n    total: 0,\r\n    endtime: new Date(Date.parse(new Date()) + 15 * 24 * 60 * 60 * 1000),\r\n  };\r\n  intervalHandler = null;\r\n  initializeClock = (endtime) => {\r\n    if (this.intervalHandler) clearInterval(this.intervalHandler);\r\n    this.updateClock(endtime);\r\n    this.intervalHandler = setInterval(this.updateClock, 1000);\r\n  };\r\n\r\n  componentDidMount() {\r\n    //this.setState({ endtime: new Date(Date.parse(this.props.timer.endDateTime)) });\r\n\r\n    this.setTimer();\r\n  }\r\n\r\n  setTimer(nextProps = null) {\r\n    const { DD, HH, MM, SS } = nextProps ? nextProps.timer : this.props.timer;\r\n    const newtimerType = nextProps ? nextProps.timer.timerType : this.props.timer.timerType;\r\n    if (newtimerType !== \"DATE_AND_TIME_BASED\") {\r\n      let time = new Date();\r\n      time.setDate(time.getDate() + parseInt(DD));\r\n      time.setHours(time.getHours() + parseInt(HH));\r\n      time.setMinutes(time.getMinutes() + parseInt(MM));\r\n      time.setSeconds(time.getSeconds() + parseInt(SS));\r\n      this.setState({ endtime: time }, () => {\r\n        this.initializeClock(this.state.endtime);\r\n      });\r\n    } else {\r\n      const time = nextProps ? nextProps.timer.endDateTime : this.props.timer.endDateTime;\r\n      this.setState({ endtime: new Date(Date.parse(time)) }, () => {\r\n        this.initializeClock(this.state.endtime);\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setTimer(nextProps);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalHandler);\r\n  }\r\n\r\n  updateClock = () => {\r\n    var t = getTimeRemaining(this.state.endtime);\r\n    this.setState({ days: t.days, hours: t.hours, minutes: t.minutes, seconds: t.seconds });\r\n    if (t.total <= 0) {\r\n      clearInterval(this.intervalHandler);\r\n      this.setState({ days: 0, hours: 0, minutes: 0, seconds: 0 });\r\n    }\r\n  };\r\n\r\n  getColor = (key) => {\r\n    return getcolor(this.props.STYLE.elements, key);\r\n  };\r\n\r\n  getLabelStyle = () => {\r\n    const color = this.getColor(\"centralTimerLabel\");\r\n    const backgroundColor = \"\"; //this.getColor(\"highlightBackground\");\r\n    if (this.props.layout == 2) return { color: color, backgroundColor: backgroundColor, fontSize: parseInt(this.props.STYLE.timerLabelFont) };\r\n    else if (this.props.layout == 1) return { color: color, fontSize: parseInt(this.props.STYLE.timerLabelFont) };\r\n    else return { color: this.getColor(\"centralTimerLabel\"), backgroundColor: this.getColor(\"highlight\") };\r\n  };\r\n\r\n  getTimerStyle = () => {\r\n    const color = this.getColor(\"centralTimer\");\r\n    const backgroundColor = this.getColor(\"highlight\");\r\n    if (this.props.layout == 2 || this.props.layout == 3) return { color: color, backgroundColor: backgroundColor, fontSize: parseInt(this.props.STYLE.timerFont) };\r\n    else return { color: color, fontSize: parseInt(this.props.STYLE.timerFont) };\r\n  };\r\n\r\n  getLabelStyleTemp() {\r\n    const color = this.getColor(\"centralTimer\");\r\n    const backgroundColor = this.getColor(\"highlight\");\r\n    if (this.props.layout == 2) return { color: color, backgroundColor: backgroundColor, fontSize: parseInt(this.props.STYLE.timerFont) };\r\n    else return { color: color, fontSize: parseInt(this.props.STYLE.timerFont) };\r\n  }\r\n\r\n  getTemplate = () => {\r\n    const layout = this.props.layout;\r\n    const labelStyle = this.getLabelStyle();\r\n    const timerStyle = this.getTimerStyle();\r\n    let { days, hours, minutes, seconds } = this.state;\r\n    days = (\"0\" + days).slice(-2);\r\n    hours = (\"0\" + hours).slice(-2);\r\n    minutes = (\"0\" + minutes).slice(-2);\r\n    seconds = (\"0\" + seconds).slice(-2);\r\n    const { DD = \"Days\", HH = \"Hours\", MM = \"Mintues\", SS = \"Second\" } = this.props.TEXT; //.timerLabel;\r\n    if (layout == 2) {\r\n      return (\r\n        <div id=\"clockdiv\" style={this.getLabelStyleTemp()}>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"days\" style={timerStyle}>\r\n              {days}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {DD}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"hours\" style={timerStyle}>\r\n              {hours}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {HH}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"minutes\" style={timerStyle}>\r\n              {minutes}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {MM}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"seconds\" style={timerStyle}>\r\n              {seconds}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {SS}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (layout == 1) {\r\n      return (\r\n        <div id=\"clockdiv\" style={this.getLabelStyleTemp()}>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"days\" style={timerStyle}>\r\n              {days}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {DD}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"hours\" style={timerStyle}>\r\n              {hours}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {HH}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"minutes\" style={timerStyle}>\r\n              {minutes}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {MM}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"seconds\" style={timerStyle}>\r\n              {seconds}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {SS}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div id=\"clockdiv\" style={this.getLabelStyleTemp()}>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"days\" style={timerStyle}>\r\n              {days}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {DD}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"hours\" style={timerStyle}>\r\n              {hours}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {HH}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"minutes\" style={timerStyle}>\r\n              {minutes}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {MM}\r\n            </div>\r\n          </div>\r\n          <div className=\"objdivTimer\">\r\n            <span className=\"seconds\" style={timerStyle}>\r\n              {seconds}\r\n            </span>\r\n            <div style={labelStyle} className=\"smalltext\">\r\n              {SS}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    //else if (layout == 2) {\r\n    // } else if (layout == 3) {\r\n    // } else if (layout == 4) {\r\n    //   return (\r\n    //     <div id=\"clockdiv\" style={timerStyle}>\r\n    //       <div className=\"objdivTimer\">\r\n    //         <span className=\"days\" style={timerStyle}>\r\n    //           {days}\r\n    //         </span>\r\n    //         <div style={labelStyle} className=\"smalltext\">\r\n    //           {DD}\r\n    //         </div>\r\n    //       </div>\r\n    //       <div className=\"objdivTimer\">\r\n    //         <span className=\"hours\" style={timerStyle}>\r\n    //           {hours}\r\n    //         </span>\r\n    //         <div style={labelStyle} className=\"smalltext\">\r\n    //           {HH}\r\n    //         </div>\r\n    //       </div>\r\n    //       <div className=\"objdivTimer\">\r\n    //         <span className=\"minutes\" style={timerStyle}>\r\n    //           {minutes}\r\n    //         </span>\r\n    //         <div style={labelStyle} className=\"smalltext\">\r\n    //           {MM}\r\n    //         </div>\r\n    //       </div>\r\n    //       <div className=\"objdivTimer\">\r\n    //         <span className=\"seconds\" style={timerStyle}>\r\n    //           {seconds}\r\n    //         </span>\r\n    //         <div style={labelStyle} className=\"smalltext\">\r\n    //           {SS}\r\n    //         </div>\r\n    //       </div>\r\n    //     </div>\r\n    //   );\r\n    // } else {\r\n    //   return <FlipClock timer={20000} />;\r\n    // }\r\n  };\r\n\r\n  render() {\r\n    // const { isStop, millsecond } = this.state;\r\n    // const style = this.getStyle();\r\n    const layout = this.props.layout;\r\n    let { days, hours, minutes, seconds } = this.state;\r\n    return (\r\n      <center>\r\n        {/* <div className=\"previewPortal\"><Countdown date={Date.now() + millsecond} /></div> */}\r\n        <div className=\"previewPortal\" style={{ backgroundColor: \"#fcfcfc00\", left: layout == 5 ? \"15%\" : \"\" }}>\r\n         {/* { (days == 0 && hours == 0 && minutes == 0 && seconds == 0) ? null : */}\r\n          <center>\r\n            <div dangerouslySetInnerHTML={{ __html: this.props.TEXT.timerText }}></div>\r\n          </center>\r\n          {/* } */}\r\n          {this.getTemplate()}\r\n        </div>\r\n      </center>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getTimeRemaining(endtime) {\r\n  var t = Date.parse(endtime) - Date.parse(new Date());\r\n  var seconds = Math.floor((t / 1000) % 60);\r\n  var minutes = Math.floor((t / 1000 / 60) % 60);\r\n  var hours = Math.floor((t / (1000 * 60 * 60)) % 24);\r\n  var days = Math.floor(t / (1000 * 60 * 60 * 24));\r\n  return {\r\n    total: t,\r\n    days: days,\r\n    hours: hours,\r\n    minutes: minutes,\r\n    seconds: seconds,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}