{"ast":null,"code":"import React,{Component,useState,useCallback}from\"react\";import Chart from\"react-apexcharts\";import RequestHandler from\"../../actions/RequestHandler\";import{DASHBOARD_DATA,getPath}from\"../../actions/URLs\";import{Tabs}from\"antd\";import{Storage}from\"../../utils/Storage\";import\"./DashBoard.css\";import _ from\"lodash\";import{getChartData}from\"../Util\";import{addDays,subDays}from\"date-fns\";import DateRangeFilter from\"./DateRangeFilter\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const{TabPane}=Tabs;let settingIcon=null;let createCampaingnID=null;export default class Dashboard extends Component{constructor(){super();this.state={views:0,clicks:0,closePopup:true,showGraph:false,totalCampaign:0,isShowViews:true,datePickerPop:false,selection:[{startDate:subDays(new Date(),6),endDate:addDays(new Date(),0),key:\"selection\"}]};this.onLogoutClick=e=>{e.preventDefault();window.gs.logout();};this.onClosePopup=()=>{this.setState({closePopup:false});};this.onClickCheck=()=>{Storage.put(\"tips\",0);};this.toggleChart=()=>{this.setState({isShowViews:!this.state.isShowViews});};this.handleSelect=ranges=>{this.handleDashboard(ranges);};const tips=Storage.getOneItem(\"tips\");if(tips){this.state.closePopup=false;}}handleDatePicker(){this.setState({datePickerPop:!this.state.datePickerPop});}handleDateOverlay(){this.setState({datePickerPop:false});}// componentWillMount() {\n//   this.handleDashboard(this.state.selection);\n// }\ncomponentDidMount(){try{const react1=document.getElementById(\"settingIcon\").getBoundingClientRect().x;const react2=document.getElementById(\"createCampaingnID\").getBoundingClientRect().y;settingIcon=\"\".concat(react1,\"px\");createCampaingnID=\"\".concat(react2,\"px\");}catch(e){settingIcon=\"62%\";createCampaingnID=\"40%\";}window.gs.navTitle(\"Dashboard\");this.handleDashboard(this.state.selection);}handleDashboard(data){RequestHandler.PostRequest(DASHBOARD_DATA,{\"selection\":data},(res,err)=>{if(res){if(res.data.success){const{clicks=0,views=0,graphData,totalCampaign=0}=res.data.data;this.setState({clicks,views,totalCampaign});if(graphData){try{// const clicksViews = processGraphData(graphData);\nvar clickItems=getChartData(pointDateToDot(graphData,\"clicks\"));var viewItems=getChartData(pointDateToDot(graphData,\"views\"));this.setState({clickItems,viewItems,showGraph:true});}catch(err){console.log(err);}}}}});}callback(key){console.log(key);}render(){const{clicks,views,isShowViews,showGraph,clickItems,viewItems,totalCampaign,closePopup=true,selection}=this.state;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cz_dashboard_head\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cz_start_text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Get Started\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Follow these 3 simple steps\",/*#__PURE__*/_jsx(\"br\",{}),\"to create a new campaign.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cz_dash_header_boxes\",children:[/*#__PURE__*/_jsx(Link,{to:\"/Domain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle mt-4 react-item1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:\"/asset/domain.png\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-desc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"white mt-3 mb-2 masonry-title\",children:\"Domain Setup\"}),/*#__PURE__*/_jsx(\"div\",{className:\"white description\",children:\"Add your domain under domain profile\"})]})})]})}),/*#__PURE__*/_jsx(Link,{to:\"/Pixel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle mt-4 react-item1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\",children:\" \"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:\"/asset/add_pixels.png\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-desc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"white mt-3 mb-2 masonry-title\",children:\"Add Pixel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"white description\",children:\"Add Converzee Pixel to you webpage\"})]})})]})}),/*#__PURE__*/_jsx(Link,{to:\"/Create\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle mt-4 react-item1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:\"/asset/create_campaigns.png\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-desc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"white mt-3 mb-2 masonry-title\",children:\"Create  Campaign\"}),/*#__PURE__*/_jsx(\"div\",{className:\"white description\",children:\"Create a campaign from the choice of your tools\"})]})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cz_dashboard_wrapper\",name:\"Dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:clicks}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Total Clicks\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath(\"/asset/group-15.png\")})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:views}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Total Views\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath(\"/asset/group-16.png\")})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-12 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 card-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-text\",children:totalCampaign}),/*#__PURE__*/_jsx(\"div\",{className:\"card-subtext\",children:\"Total Campaigns\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:getPath(\"/asset/group-14.png\")})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cz_chart_head\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-chart m-2 align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:this.toggleChart,className:isShowViews?\"toggle-button align-items-center toogle-active\":\"toggle-button align-items-center\",children:\"Views\"}),/*#__PURE__*/_jsx(\"div\",{onClick:this.toggleChart,className:isShowViews?\"toggle-button align-items-center\":\"toggle-button align-items-center toogle-active\",children:\"Clicks\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cz_chart_filter \".concat(this.state.datePickerPop===true?' active':null),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cz_filter_box\",onClick:()=>this.handleDatePicker(),children:[\"Fiter by Date\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-calendar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cz_date_picker\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cz_date_overlay\",onClick:()=>this.handleDateOverlay()}),/*#__PURE__*/_jsx(DateRangeFilter,{state:selection,onChange:this.handleSelect})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:showGraph?/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:isShowViews?/*#__PURE__*/_jsx(Chart,{options:viewItems.options,series:viewItems.series,type:\"line\",height:350}):/*#__PURE__*/_jsx(Chart,{options:clickItems.options,series:clickItems.series,type:\"line\",height:350})}):null})]})})})]})]});}}const Popover=function(props){return/*#__PURE__*/_jsx(\"div\",{className:\"tip-popup \"+props.cs,style:{left:props.left,top:props.top},children:props.children});};const showToolTips=Storage.getOneItem(\"tips\");const Tips=props=>{const[show,setShow]=useState(props.isShow);const[count,setCount]=useState(0);const setCounter=useCallback(()=>{const newCount=count+1;setCount(newCount);if(newCount>2){setShow(false);}});if(showToolTips==0||!show){return null;}return/*#__PURE__*/_jsx(React.Fragment,{children:count==2?/*#__PURE__*/_jsx(Popup,{onClosePopup:setCounter,onClickCheck:()=>Storage.put(\"tips\",0)}):/*#__PURE__*/_jsxs(\"div\",{className:\"loader-item tip\",onClick:setCounter,children:[count==0?/*#__PURE__*/_jsx(Popover,{left:\"12%\",top:createCampaingnID,cs:\"arrow_box1\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Add Campaigns from here\"})}):null,count==1?/*#__PURE__*/_jsx(Popover,{left:settingIcon,top:\"12%\",cs:\"arrow_box2\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Copy pixel from here\"})}):null]})});};const Popup=props=>{return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup_inner\",style:{height:\"fit-content\",maxHeight:\"185px\",minHeight:\"200px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"popUpMainContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popUpTitlebar\",children:/*#__PURE__*/_jsx(\"div\",{onClick:props.onClosePopup,className:\"popupCloseButton\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-close\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-campaing\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Steps to initial setup\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"left\"},children:[\"1. copy pixel\",/*#__PURE__*/_jsx(\"br\",{}),\"2. Add Domains\",/*#__PURE__*/_jsx(\"br\",{}),\"3. Make sure to add trigger\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popUpbottomBar row\",style:{display:\"flex\",position:\"unset\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:\"20px\",left:\"20px\",display:\"flex\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:props.onClickCheck,style:{marginTop:\"5px\"}}),\" Skip tips\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",style:{right:\"10px\",position:\"absolute\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-xs btn-danger\",onClick:props.onClosePopup,children:\"Close\"})})]})]})})});};function processGraphData(){let graphData=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(graphData){const clicks=new Array();const views=new Array();_.forEach(graphData,item=>{//for clicks\n_.forEach(item.clicks,c=>{clicks.push(c);});_.forEach(item.views,v=>{views.push(v);});});const clicksItems=findDuplicateAndAdd(clicks,\"click\");const viewsItems=findDuplicateAndAdd(views,\"view\");return{clicksItems,viewsItems};}}function findDuplicateAndAdd(arrayItems,typ){const items=[];_.forEach(arrayItems,(i,index)=>{if(items.length===0)items.push(i);const itemIndex=_.findIndex(items,o=>{return o.date==i.date;});if(itemIndex!==-1){items[itemIndex][typ]=items[itemIndex][typ]+i[typ];}else{items.push(i);}});return items;}function pointDateToDot(){let items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let typ=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"clicks\";const obj={dates:[],dots:[]};for(var k in items){obj.dates.push(k);obj.dots.push(items[k][typ]);}return obj;}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/Dashboard.js"],"names":["React","Component","useState","useCallback","Chart","RequestHandler","DASHBOARD_DATA","getPath","Tabs","Storage","_","getChartData","addDays","subDays","DateRangeFilter","Link","TabPane","settingIcon","createCampaingnID","Dashboard","constructor","state","views","clicks","closePopup","showGraph","totalCampaign","isShowViews","datePickerPop","selection","startDate","Date","endDate","key","onLogoutClick","e","preventDefault","window","gs","logout","onClosePopup","setState","onClickCheck","put","toggleChart","handleSelect","ranges","handleDashboard","tips","getOneItem","handleDatePicker","handleDateOverlay","componentDidMount","react1","document","getElementById","getBoundingClientRect","x","react2","y","navTitle","data","PostRequest","res","err","success","graphData","clickItems","pointDateToDot","viewItems","console","log","callback","render","concat","options","series","Popover","props","cs","left","top","children","showToolTips","Tips","show","setShow","isShow","count","setCount","setCounter","newCount","Popup","height","maxHeight","minHeight","textAlign","display","position","paddingTop","marginTop","right","processGraphData","Array","forEach","item","c","push","v","clicksItems","findDuplicateAndAdd","viewsItems","arrayItems","typ","items","i","index","length","itemIndex","findIndex","o","date","obj","dates","dots","k"],"mappings":"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","sourcesContent":["import React, { Component, useState, useCallback } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport RequestHandler from \"../../actions/RequestHandler\";\r\nimport { DASHBOARD_DATA, getPath } from \"../../actions/URLs\";\r\nimport { Tabs } from \"antd\";\r\nimport { Storage } from \"../../utils/Storage\";\r\nimport \"./DashBoard.css\";\r\nimport _ from \"lodash\";\r\nimport { getChartData } from \"../Util\";\r\nimport { addDays, subDays } from \"date-fns\";\r\nimport DateRangeFilter from \"./DateRangeFilter\";\r\nimport { Link } from 'react-router-dom';\r\nconst { TabPane } = Tabs;\r\n\r\nlet settingIcon = null;\r\nlet createCampaingnID = null;\r\nexport default class Dashboard extends Component {\r\n  constructor() {\r\n    super();\r\n    const tips = Storage.getOneItem(\"tips\");\r\n    if (tips) {\r\n      this.state.closePopup = false;\r\n    }\r\n  }\r\n  state = {\r\n    views: 0,\r\n    clicks: 0,\r\n    closePopup: true,\r\n    showGraph: false,\r\n    totalCampaign: 0,\r\n    isShowViews: true,\r\n    datePickerPop:false,\r\n    selection: [\r\n      {\r\n        startDate: subDays(new Date(), 6),\r\n        endDate: addDays(new Date(), 0),\r\n        key: \"selection\"\r\n      }\r\n    ]\r\n  };\r\n  onLogoutClick = (e) => {\r\n    e.preventDefault();\r\n    window.gs.logout();\r\n  };\r\n\r\n  handleDatePicker(){\r\n    this.setState({\r\n      datePickerPop:!this.state.datePickerPop\r\n    })\r\n  }\r\n  handleDateOverlay(){\r\n    this.setState({\r\n      datePickerPop:false\r\n    })\r\n  }\r\n\r\n  // componentWillMount() {\r\n  //   this.handleDashboard(this.state.selection);\r\n  // }\r\n\r\n  componentDidMount() {\r\n    try {\r\n      const react1 = document.getElementById(\"settingIcon\").getBoundingClientRect().x;\r\n      const react2 = document.getElementById(\"createCampaingnID\").getBoundingClientRect().y;\r\n      settingIcon = `${react1}px`;\r\n      createCampaingnID = `${react2}px`;\r\n    } catch (e) {\r\n      settingIcon = \"62%\";\r\n      createCampaingnID = \"40%\";\r\n    }\r\n    window.gs.navTitle(\"Dashboard\");\r\n    this.handleDashboard(this.state.selection);\r\n  }\r\n\r\n  handleDashboard(data) {\r\n    RequestHandler.PostRequest(DASHBOARD_DATA, {\"selection\" : data}, (res, err) => {\r\n      if (res) {\r\n        if (res.data.success) {\r\n          const { clicks = 0, views = 0, graphData, totalCampaign = 0 } = res.data.data;\r\n          this.setState({ clicks, views, totalCampaign });\r\n          if (graphData) {\r\n            try {\r\n              // const clicksViews = processGraphData(graphData);\r\n              var clickItems = getChartData(pointDateToDot(graphData, \"clicks\"));\r\n              var viewItems = getChartData(pointDateToDot(graphData, \"views\"));\r\n              this.setState({ clickItems, viewItems, showGraph: true });\r\n            } catch (err) {\r\n              console.log(err);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  callback(key) {\r\n    console.log(key);\r\n  }\r\n\r\n  onClosePopup = () => {\r\n    this.setState({ closePopup: false });\r\n  };\r\n\r\n  onClickCheck = () => {\r\n    Storage.put(\"tips\", 0);\r\n  };\r\n\r\n  toggleChart = () => {\r\n    this.setState({ isShowViews: !this.state.isShowViews });\r\n  };\r\n\r\n  handleSelect = (ranges) => {\r\n    this.handleDashboard(ranges);\r\n  }\r\n  \r\n  render() {\r\n    const { clicks, views, isShowViews, showGraph, clickItems, viewItems, totalCampaign, closePopup = true, selection } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"cz_dashboard_head\">\r\n          <div className=\"cz_start_text\">\r\n            <h3>Get Started</h3>\r\n            <p>Follow these 3 simple steps<br/>to create a new campaign.</p>\r\n          </div>\r\n          <div className=\"cz_dash_header_boxes\">\r\n            <Link to=\"/Domain\">\r\n              <div className=\"rectangle mt-4 react-item1\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-sm-4\"></div>\r\n                  <div className=\"col-sm-8\" >\r\n                    <img className=\"img-fluid\" src=\"/asset/domain.png\"/>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"bottom-desc\">\r\n                    <div className=\"white mt-3 mb-2 masonry-title\">Domain Setup</div>\r\n                    <div className=\"white description\">Add your domain under domain profile</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n            <Link to=\"/Pixel\">\r\n              <div className=\"rectangle mt-4 react-item1\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-sm-4\"> </div>\r\n                  <div className=\"col-sm-8\" >\r\n                    <img className=\"img-fluid\" src=\"/asset/add_pixels.png\"/>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"bottom-desc\">\r\n                    <div className=\"white mt-3 mb-2 masonry-title\">Add Pixel</div>\r\n                    <div className=\"white description\">Add Converzee Pixel to you webpage</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n            <Link to=\"/Create\">\r\n              <div className=\"rectangle mt-4 react-item1\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-sm-4\"></div>\r\n                  <div className=\"col-sm-8\" >\r\n                    <img className=\"img-fluid\" src=\"/asset/create_campaigns.png\"/>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"bottom-desc\">\r\n                    <div className=\"white mt-3 mb-2 masonry-title\">Create  Campaign</div>\r\n                    <div className=\"white description\">Create a campaign from the choice of your tools</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"cz_dashboard_wrapper\" name=\"Dashboard\">\r\n          <div className=\"row mb-4\">\r\n            <div className=\"col-md-4 col-sm-12 col-lg-4\">\r\n              <div className=\"dashboard-card\">\r\n                <div className=\"col-4 card-title\">\r\n                  <div className=\"card-text\">{clicks}</div>\r\n                  <div className=\"card-subtext\">Total Clicks</div>\r\n                </div>\r\n                <div className=\"col-8 card-img\">\r\n                  <img className=\"img-fluid\" src={getPath(\"/asset/group-15.png\")} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4 col-sm-12 col-lg-4\">\r\n              <div className=\"dashboard-card\">\r\n                <div className=\"col-4 card-title\">\r\n                  <div className=\"card-text\">{views}</div>\r\n                  <div className=\"card-subtext\">Total Views</div>\r\n                </div>\r\n                <div className=\"col-8 card-img\">\r\n                  <img className=\"img-fluid\" src={getPath(\"/asset/group-16.png\")} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4 col-sm-12 col-lg-4\">\r\n              <div className=\"dashboard-card\">\r\n                <div className=\"col-4 card-title\">\r\n                  <div className=\"card-text\">{totalCampaign}</div>\r\n                  <div className=\"card-subtext\">Total Campaigns</div>\r\n                </div>\r\n                <div className=\"col-8 card-img\">\r\n                  <img className=\"img-fluid\" src={getPath(\"/asset/group-14.png\")} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"chart-container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"cz_chart_head\">\r\n                      <div className=\"toggle-chart m-2 align-items-center\">\r\n                        <div onClick={this.toggleChart} className={isShowViews ? \"toggle-button align-items-center toogle-active\" : \"toggle-button align-items-center\"}>\r\n                          Views\r\n                        </div>\r\n                        <div onClick={this.toggleChart} className={isShowViews ? \"toggle-button align-items-center\" : \"toggle-button align-items-center toogle-active\"}>\r\n                          Clicks\r\n                        </div>\r\n                      </div>\r\n                      <div className={\"cz_chart_filter \".concat(this.state.datePickerPop === true ? ' active' : null)}>\r\n                        <div className=\"cz_filter_box\" onClick={()=>this.handleDatePicker()}>\r\n                          Fiter by Date\r\n                          <i className=\"fa fa-calendar\"></i>\r\n                        </div>\r\n                        <div className=\"cz_date_picker\">\r\n                          <div className=\"cz_date_overlay\" onClick={()=>this.handleDateOverlay()}></div>\r\n                          <DateRangeFilter state={selection} onChange={this.handleSelect} />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  {showGraph ? (\r\n                    <div className=\"col-12\">\r\n                      {isShowViews ? (\r\n                        <Chart options={viewItems.options} series={viewItems.series} type=\"line\" height={350} />\r\n                      ) : (\r\n                        <Chart options={clickItems.options} series={clickItems.series} type=\"line\" height={350} />\r\n                      )}\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst Popover = function (props) {\r\n  return (\r\n    <div className={\"tip-popup \" + props.cs} style={{ left: props.left, top: props.top }}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\nconst showToolTips = Storage.getOneItem(\"tips\");\r\nconst Tips = (props) => {\r\n  const [show, setShow] = useState(props.isShow);\r\n  const [count, setCount] = useState(0);\r\n  const setCounter = useCallback(() => {\r\n    const newCount = count + 1;\r\n    setCount(newCount);\r\n    if (newCount > 2) {\r\n      setShow(false);\r\n    }\r\n  });\r\n  if (showToolTips == 0 || !show) {\r\n    return null;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      {count == 2 ? (\r\n        <Popup onClosePopup={setCounter} onClickCheck={() => Storage.put(\"tips\", 0)} />\r\n      ) : (\r\n        <div className=\"loader-item tip\" onClick={setCounter}>\r\n          {count == 0 ? (\r\n            <Popover left={\"12%\"} top={createCampaingnID} cs={\"arrow_box1\"}>\r\n              <p>Add Campaigns from here</p>\r\n            </Popover>\r\n          ) : null}\r\n          {count == 1 ? (\r\n            <Popover left={settingIcon} top={\"12%\"} cs={\"arrow_box2\"}>\r\n              <p>Copy pixel from here</p>\r\n            </Popover>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst Popup = (props) => {\r\n  return (\r\n    <div className=\"popup\">\r\n      <div className=\"popup_inner\" style={{ height: \"fit-content\", maxHeight: \"185px\", minHeight: \"200px\" }}>\r\n        <div className=\"popUpMainContainer\">\r\n          <div className=\"popUpTitlebar\">\r\n            <div onClick={props.onClosePopup} className=\"popupCloseButton\">\r\n              <i className=\"fa fa-close\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"main-campaing\">\r\n            <div>Steps to initial setup</div>\r\n            <div style={{ textAlign: \"left\" }}>\r\n              1. copy pixel\r\n              <br />\r\n              2. Add Domains\r\n              <br />\r\n              3. Make sure to add trigger\r\n            </div>\r\n          </div>\r\n          <div className=\"popUpbottomBar row\" style={{ display: \"flex\", position: \"unset\" }}>\r\n            <div style={{ paddingTop: \"20px\", left: \"20px\", display: \"flex\" }}>\r\n              <input type=\"checkbox\" onClick={props.onClickCheck} style={{ marginTop: \"5px\" }} /> Skip tips\r\n            </div>\r\n            <div className=\"float-right\" style={{ right: \"10px\", position: \"absolute\" }}>\r\n              <button className=\"btn btn-xs btn-danger\" onClick={props.onClosePopup}>\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction processGraphData(graphData = null) {\r\n  if (graphData) {\r\n    const clicks = new Array();\r\n    const views = new Array();\r\n    _.forEach(graphData, (item) => {\r\n      //for clicks\r\n      _.forEach(item.clicks, (c) => {\r\n        clicks.push(c);\r\n      });\r\n      _.forEach(item.views, (v) => {\r\n        views.push(v);\r\n      });\r\n    });\r\n    const clicksItems = findDuplicateAndAdd(clicks, \"click\");\r\n    const viewsItems = findDuplicateAndAdd(views, \"view\");\r\n    return { clicksItems, viewsItems };\r\n  }\r\n}\r\n\r\nfunction findDuplicateAndAdd(arrayItems, typ) {\r\n  const items = [];\r\n  _.forEach(arrayItems, (i, index) => {\r\n    if (items.length === 0) items.push(i);\r\n    const itemIndex = _.findIndex(items, (o) => {\r\n      return o.date == i.date;\r\n    });\r\n    if (itemIndex !== -1) {\r\n      items[itemIndex][typ] = items[itemIndex][typ] + i[typ];\r\n    } else {\r\n      items.push(i);\r\n    }\r\n  });\r\n  return items;\r\n}\r\n\r\nfunction pointDateToDot(items = [], typ = \"clicks\") {\r\n  const obj = { dates: [], dots: [] };\r\n  for(var k in items){\r\n    obj.dates.push(k);\r\n    obj.dots.push(items[k][typ]);\r\n  }\r\n  return obj;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}