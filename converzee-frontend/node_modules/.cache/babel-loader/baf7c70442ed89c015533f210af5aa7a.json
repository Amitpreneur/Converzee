{"ast":null,"code":"import React,{Component}from\"react\";import{Input,Avatar,Modal}from\"antd\";import{getPath,GET_PROFILE_INFO,DELETE_USER,CHANGE_PASSWORD,SAVE_DEVELOPER}from\"../../actions/URLs\";import RequestHandler from\"../../actions/RequestHandler\";import ToolUtil from\"../../utils/ToolUtil\";import{AddAccount}from\"../comman/Popup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class UserSettings extends Component{constructor(){super(...arguments);this.state={MODAL:null,settings:0,access:30,users:[],name:window.userName,email:window.email,cpassword:\"\",newPassword:\"\",repassword:\"\",plan:[]};this.getAndUpdateData=()=>{RequestHandler.PostRequest(GET_PROFILE_INFO,{},(res,err)=>{if(res){const{data}=res;if(data.success){this.state.access=ToolUtil.toolsAccess?ToolUtil.toolsAccess.access:null;this.setState({users:data.users||[]});}}});};this.onValueChange=e=>{this.setState({[e.target.name]:e.target.value});};this.onDeleteClick=id=>{Modal.confirm({title:\"Confirm\",content:\"Are you Sure to Delete this user\",okText:\"Delete\",onOk:()=>{RequestHandler.PostRequest(DELETE_USER,{userData:{id}},(res,err)=>{if(res){const{data}=res;if(data.success){window.gs.success(true,data.message);this.getAndUpdateData();}}});},cancelText:\"Cancel\"});};this.onChangePasswordClick=()=>{const{newPassword,cpassword,repassword}=this.state;if(newPassword!==repassword){window.gs.toast(\"Confirm Password Same as new Password\",{position:\"bottom-right\",autoClose:true,type:window.gs.toast.TYPE.ERROR});}else{RequestHandler.PostRequest(CHANGE_PASSWORD,{userData:{currentPassword:cpassword,newPassword:newPassword}},(res,err)=>{if(res){const data1=res.data;if(data1.success){this.setState({newPassword:\"\",repassword:\"\",cpassword:\"\"});window.gs.success(true,data1.message);}else{window.gs.toast(data1.message,{position:\"bottom-right\",autoClose:true,type:window.gs.toast.TYPE.ERROR});}}});}};this.onAddAccountClick=()=>{if(ToolUtil.isUpgrade1&&ToolUtil.toolsAccess.access>30){this.setState({MODAL:\"ADD\"});return;}else{window.gs.sayUpdate(null,false,ToolUtil.linksList?ToolUtil.linksList.oto2:\"\");}};this.closeAll=()=>{this.setState({MODAL:null});};this.onSubmit=(email,name)=>{this.closeAll();RequestHandler.PostRequest(SAVE_DEVELOPER,{userData:{userName:name,email}},(res,err)=>{if(res){const data1=res.data;this.closeAll();if(data1.success){this.getAndUpdateData();window.gs.success(true,data1.message);}else{window.gs.success(false,data1.message);}}});};this.toggleTab=key=>{const{settings}=this.state;this.setState({settings:key});if(key===2){if(window.isUpgrade1){this.setState({plan:[...this.state.plan,{\"name\":\"Pro\"}]});}if(window.isUpgrade2){this.setState({plan:[...this.state.plan,{\"name\":\"Club\"}]});}}};}componentDidMount(){window.gs.navTitle(\"User Settings\");this.getAndUpdateData();window.gs.accountUpdate=this.getAndUpdateData;}componentWillUnmount(){delete window.gs.accountUpdate;}componentWillReceiveProps(nextProps){const{name,email}=this.state;if(window.userName!==name||email!==window.email){this.state.access=ToolUtil.toolsAccess.access;this.setState({name:window.userName,email:window.email});}}render(){const{settings,name,users,email,MODAL,cpassword,newPassword,repassword,access}=this.state;return/*#__PURE__*/_jsx(\"div\",{className:\"cz_user_setting_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[MODAL===\"ADD\"?/*#__PURE__*/_jsx(AddAccount,{visible:MODAL===\"ADD\"?true:false,submit:this.onSubmit,Close:this.closeAll}):null,/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-md-12 col-md-12 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-chart align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>this.toggleTab(0),className:settings===0?\"toggle-button align-items-center toogle-active\":\"toggle-button align-items-center\",children:\"GENERAL\"}),access>30?/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{onClick:()=>this.toggleTab(1),className:settings===1?\"toggle-button align-items-center toogle-active\":\"toggle-button align-items-center\",children:\"ACCOUNT\"})}):null]})})}),settings===0?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 col-md-4 col-lg-4 cz_user_setting_content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:\"Profile Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"Name\"}),/*#__PURE__*/_jsx(Input,{value:name,name:\"name\",disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"Email ID\"}),/*#__PURE__*/_jsx(Input,{value:email,name:\"email\",disabled:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 password_heading\",children:\"Password Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"Current Password\"}),/*#__PURE__*/_jsx(Input.Password,{autoComplete:\"off\",name:\"cpassword\",value:cpassword,onChange:this.onValueChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"New Password\"}),/*#__PURE__*/_jsx(Input.Password,{autoComplete:\"off\",value:newPassword,name:\"newPassword\",onChange:this.onValueChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Input.Password,{autoComplete:\"off\",value:repassword,name:\"repassword\",onChange:this.onValueChange})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Note : Password should be atleast 8 characters.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-element\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm ant-btn-primary color-with cz_btn\",disabled:newPassword.length<8||newPassword!==repassword,onClick:this.onChangePasswordClick,children:\"Change Password\"})})]})}):null,settings===1?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 cz_user_setting_content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[users.map((e,i)=>/*#__PURE__*/_jsx(CardItem,{...e,onDeleteClick:this.onDeleteClick},i)),/*#__PURE__*/_jsx(CardItem,{isAdd:true,onAddClick:this.onAddAccountClick},1500)]})})}):null]})});}}const CardItem=function(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"Account-Card-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Accountcard-body\",children:[!props.isAdd?/*#__PURE__*/_jsx(\"div\",{className:\"AccountDelete-Icon\",onClick:()=>props.onDeleteClick(props._id),children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"9.497\",height:\"12.211\",viewBox:\"0 0 9.497 12.211\",style:{display:'inline',margin:'auto'},children:/*#__PURE__*/_jsx(\"path\",{id:\"Icon_material-delete\",\"data-name\":\"Icon material-delete\",d:\"M8.178,15.354a1.361,1.361,0,0,0,1.357,1.357h5.427a1.361,1.361,0,0,0,1.357-1.357V7.213H8.178ZM17,5.178H14.623L13.944,4.5H10.553l-.678.678H7.5V6.535H17Z\",transform:\"translate(-7.5 -4.5)\",fill:\"gray\"})})}):null,props.isAdd?/*#__PURE__*/_jsx(Avatar,{onClick:()=>props.onAddClick(),size:106,style:{backgroundColor:\"#ed8a25\",margin:\"auto\",color:\"#fff\",verticalAlign:\"middle\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})}):/*#__PURE__*/_jsx(Avatar,{size:106,style:{backgroundColor:\"#ffffff\",margin:\"auto\",color:\"#fff\",verticalAlign:\"middle\"},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"42\",height:\"42\",viewBox:\"0 0 42 42\",children:/*#__PURE__*/_jsx(\"path\",{id:\"Icon_awesome-user-circle\",\"data-name\":\"Icon awesome-user-circle\",d:\"M21,.563a21,21,0,1,0,21,21A21,21,0,0,0,21,.563Zm0,8.129a7.452,7.452,0,1,1-7.452,7.452A7.452,7.452,0,0,1,21,8.692Zm0,29.129A16.226,16.226,0,0,1,8.595,32.046a9.441,9.441,0,0,1,8.341-5.064,2.072,2.072,0,0,1,.6.093A11.211,11.211,0,0,0,21,27.659a11.169,11.169,0,0,0,3.463-.584,2.072,2.072,0,0,1,.6-.093,9.441,9.441,0,0,1,8.341,5.064A16.226,16.226,0,0,1,21,37.821Z\",transform:\"translate(0 -0.563)\",fill:\"#ed8a25\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Accountcard-footer\",children:props.name})]});};const RowItem=function(e,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-block account-plans-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Name\",children:e.name}),/*#__PURE__*/_jsx(\"span\",{className:\"pull-right account-Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Ellipse-6 pull-right\"})]},i+1);};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/UserSettings.js"],"names":["React","Component","Input","Avatar","Modal","getPath","GET_PROFILE_INFO","DELETE_USER","CHANGE_PASSWORD","SAVE_DEVELOPER","RequestHandler","ToolUtil","AddAccount","UserSettings","state","MODAL","settings","access","users","name","window","userName","email","cpassword","newPassword","repassword","plan","getAndUpdateData","PostRequest","res","err","data","success","toolsAccess","setState","onValueChange","e","target","value","onDeleteClick","id","confirm","title","content","okText","onOk","userData","gs","message","cancelText","onChangePasswordClick","toast","position","autoClose","type","TYPE","ERROR","currentPassword","data1","onAddAccountClick","isUpgrade1","sayUpdate","linksList","oto2","closeAll","onSubmit","toggleTab","key","isUpgrade2","componentDidMount","navTitle","accountUpdate","componentWillUnmount","componentWillReceiveProps","nextProps","render","length","map","i","CardItem","props","isAdd","_id","display","margin","onAddClick","backgroundColor","color","verticalAlign","RowItem"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Input, Avatar, Modal } from \"antd\";\r\nimport { getPath, GET_PROFILE_INFO, DELETE_USER, CHANGE_PASSWORD, SAVE_DEVELOPER } from \"../../actions/URLs\";\r\nimport RequestHandler from \"../../actions/RequestHandler\";\r\nimport ToolUtil from \"../../utils/ToolUtil\";\r\nimport { AddAccount } from \"../comman/Popup\";\r\n\r\nexport default class UserSettings extends Component {\r\n  state = { MODAL: null, settings: 0, access: 30, users: [], name: window.userName, email: window.email, cpassword: \"\", newPassword: \"\", repassword: \"\", plan: [] };\r\n\r\n  componentDidMount() {\r\n    window.gs.navTitle(\"User Settings\");\r\n    this.getAndUpdateData();\r\n\r\n    window.gs.accountUpdate = this.getAndUpdateData;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    delete window.gs.accountUpdate;\r\n  }\r\n\r\n  getAndUpdateData = () => {\r\n    RequestHandler.PostRequest(GET_PROFILE_INFO, {}, (res, err) => {\r\n      if (res) {\r\n        const { data } = res;\r\n        if (data.success) {\r\n          this.state.access = (ToolUtil.toolsAccess) ? ToolUtil.toolsAccess.access : null;\r\n          this.setState({ users: data.users || [] });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { name, email } = this.state;\r\n    if (window.userName !== name || email !== window.email) {\r\n      this.state.access = ToolUtil.toolsAccess.access;\r\n      this.setState({ name: window.userName, email: window.email });\r\n    }\r\n  }\r\n\r\n  onValueChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onDeleteClick = (id) => {\r\n    Modal.confirm({\r\n      title: \"Confirm\",\r\n      content: \"Are you Sure to Delete this user\",\r\n      okText: \"Delete\",\r\n      onOk: () => {\r\n        RequestHandler.PostRequest(DELETE_USER, { userData: { id } }, (res, err) => {\r\n          if (res) {\r\n            const { data } = res;\r\n            if (data.success) {\r\n              window.gs.success(true, data.message);\r\n              this.getAndUpdateData();\r\n            }\r\n          }\r\n        });\r\n      },\r\n      cancelText: \"Cancel\",\r\n    });\r\n  };\r\n\r\n  onChangePasswordClick = () => {\r\n    const { newPassword, cpassword, repassword } = this.state;\r\n    if (newPassword !== repassword) {\r\n      window.gs.toast(\"Confirm Password Same as new Password\", { position: \"bottom-right\", autoClose: true, type: window.gs.toast.TYPE.ERROR });\r\n    } else {\r\n      RequestHandler.PostRequest(CHANGE_PASSWORD, { userData: { currentPassword: cpassword, newPassword: newPassword } }, (res, err) => {\r\n        if (res) {\r\n          const data1 = res.data;\r\n          if (data1.success) {\r\n            this.setState({ newPassword: \"\", repassword: \"\", cpassword: \"\" });\r\n            window.gs.success(true, data1.message);\r\n          } else {\r\n            window.gs.toast(data1.message, { position: \"bottom-right\", autoClose: true, type: window.gs.toast.TYPE.ERROR });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  onAddAccountClick = () => {\r\n    if (ToolUtil.isUpgrade1 && ToolUtil.toolsAccess.access > 30) {\r\n      this.setState({ MODAL: \"ADD\" });\r\n      return;\r\n    } else {\r\n      window.gs.sayUpdate(null, false, ToolUtil.linksList ? ToolUtil.linksList.oto2 : \"\");\r\n    }\r\n  };\r\n\r\n  closeAll = () => {\r\n    this.setState({ MODAL: null });\r\n  };\r\n\r\n  onSubmit = (email, name) => {\r\n    this.closeAll();\r\n    RequestHandler.PostRequest(SAVE_DEVELOPER, { userData: { userName: name, email } }, (res, err) => {\r\n      if (res) {\r\n        const data1 = res.data;\r\n        this.closeAll();\r\n        if (data1.success) {\r\n          this.getAndUpdateData();\r\n          window.gs.success(true, data1.message);\r\n        } else {\r\n          window.gs.success(false, data1.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  toggleTab = (key) => {\r\n    const { settings } = this.state;\r\n    this.setState({ settings: key });\r\n    if(key === 2) {\r\n      if(window.isUpgrade1) {\r\n        this.setState({plan : [...this.state.plan, { \"name\" : \"Pro\"}]})\r\n      }\r\n      if(window.isUpgrade2) {\r\n        this.setState({plan : [...this.state.plan, { \"name\" : \"Club\"}]})\r\n      }\r\n    }\r\n    \r\n  };\r\n  render() {\r\n    const { settings, name, users, email, MODAL, cpassword, newPassword, repassword, access } = this.state;\r\n    return (\r\n        <div className=\"cz_user_setting_wrapper\">\r\n        <div className=\"container-fluid\">\r\n          {MODAL === \"ADD\" ? <AddAccount visible={MODAL === \"ADD\" ? true : false} submit={this.onSubmit} Close={this.closeAll} /> : null}\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 col-md-12 col-md-12 col-md-12\">\r\n              <div className=\"toggle-chart align-items-center\">\r\n                <div onClick={() => this.toggleTab(0)} className={settings === 0 ? \"toggle-button align-items-center toogle-active\" : \"toggle-button align-items-center\"}>\r\n                  GENERAL\r\n                </div>\r\n                {access > 30 ? (\r\n                  <React.Fragment>\r\n                    <div onClick={() => this.toggleTab(1)} className={settings === 1 ? \"toggle-button align-items-center toogle-active\" : \"toggle-button align-items-center\"}>\r\n                      ACCOUNT\r\n                    </div>\r\n                    {/* <div onClick={() => this.toggleTab(2)} className={settings === 2 ? \"toggle-button align-items-center toogle-active\" : \"toggle-button align-items-center\"}>\r\n                      BILLING\r\n                    </div> */}\r\n                  </React.Fragment>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {settings === 0 ? (\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-12 col-md-4 col-lg-4 cz_user_setting_content\">\r\n                <div className=\"mt-2\">Profile Settings</div>\r\n                <div className=\"form-element\">\r\n                  <div className=\"label-text\">Name</div>\r\n                  <Input value={name} name=\"name\" disabled />\r\n                </div>\r\n                <div className=\"form-element\">\r\n                  <div className=\"label-text\">Email ID</div>\r\n                  <Input value={email} name=\"email\" disabled />\r\n                </div>\r\n                <div className=\"mt-2 password_heading\">Password Settings</div>\r\n                <div className=\"form-element\">\r\n                  <div className=\"label-text\">Current Password</div>\r\n                  <Input.Password autoComplete=\"off\" name=\"cpassword\" value={cpassword} onChange={this.onValueChange} />\r\n                </div>\r\n                <div className=\"form-element\">\r\n                  <div className=\"label-text\">New Password</div>\r\n                  <Input.Password autoComplete=\"off\" value={newPassword} name=\"newPassword\" onChange={this.onValueChange} />\r\n                </div>\r\n                <div className=\"form-element\">\r\n                  <div className=\"label-text\">Confirm Password</div>\r\n                  <Input.Password autoComplete=\"off\" value={repassword} name=\"repassword\" onChange={this.onValueChange} />\r\n                </div>\r\n                <p>Note : Password should be atleast 8 characters.</p>\r\n                <div className=\"form-element\">\r\n                  <button className=\"btn btn-sm ant-btn-primary color-with cz_btn\" disabled={newPassword.length < 8 || newPassword !== repassword} onClick={this.onChangePasswordClick}>\r\n                    Change Password\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n          {settings === 1 ? (\r\n            <div className=\"row\">\r\n              <div className=\"col-12 cz_user_setting_content\">\r\n                <div className=\"row\">\r\n                  {users.map((e, i) => (\r\n                    <CardItem key={i} {...e} onDeleteClick={this.onDeleteClick} />\r\n                  ))}\r\n                  <CardItem key={1500} isAdd={true} onAddClick={this.onAddAccountClick} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n          {/* {settings === 2 ? (\r\n            <div className=\"row mt-3 cz_user_setting_content\">\r\n              <div className=\"col-md-6 col-lg-4 col-xl-3 col-sm-12\">\r\n                <div className=\"card account-cardItem\">\r\n                  <img className=\"img-fluid\" src={getPath(\"/asset/Group-128.svg\")} />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 ml-2\">\r\n                      <div className=\"white cz_white_heading description color-with\">{\"CURRENT PLAN\"}</div>\r\n                      <div className=\"white cz_orange_heading masonry-title color-base\">{\"Reseller Advanced\"}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card account-cardItem next_billing_box\">\r\n                  <img className=\"img-fluid\" src={getPath(\"/asset/Group130.svg\")} />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-7\">\r\n                      <div className=\"white cz_white_heading description color-with\">{\"NEXT BILLING DATE\"}</div>\r\n                      <div className=\"white cz_orange_heading masonry-title color-base\">{\"24th June 2020\"}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-8 col-lg-8 col-sm-12\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 col-lg-6 col-sm-12\">\r\n                    <div className=\"card black-account-card m-2 p-3\">\r\n                      <div className=\"black-account-card-title\">Payment Methods</div>\r\n                      <div className=\"black-account-card-body\">No Card Found</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6 col-lg-6 col-sm-12 \">\r\n                    <div className=\"card black-account-card m-2 p-3\">\r\n                      <div className=\"black-account-card-title\">Subscription Information</div>\r\n                      <div className=\"black-account-card-body\">No Active Subsciption</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-12 col-lg-12 col-sm-12 \">\r\n                    <div className=\"card black-account-card m-2 p-3\">\r\n                      <div className=\"black-account-card-title\">Active Plans</div>\r\n                      <div className=\"black-account-card-body\" style={{ margin: \"unset\" }}>\r\n                        <div className=\"d-block account-plans-row\">\r\n                          <span className=\"Name\">Name</span>\r\n                          <span className=\"pull-right\">Status</span>\r\n                        </div>\r\n                        {this.state.plan.map(RowItem)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-12 col-lg-12 col-sm-12 \">\r\n                    <div className=\"card black-account-card m-2 p-3\">\r\n                      <div className=\"black-account-card-title\">Invoices</div>\r\n                      <div className=\"black-account-card-body\">No Invoice</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null} */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CardItem = function (props) {\r\n  return (\r\n    <div className=\"Account-Card-item\">\r\n      <div className=\"Accountcard-body\">\r\n        {!props.isAdd ? (\r\n          <div className=\"AccountDelete-Icon\" onClick={() => props.onDeleteClick(props._id)}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9.497\" height=\"12.211\" viewBox=\"0 0 9.497 12.211\" style={{display:'inline',margin:'auto'}}><path id=\"Icon_material-delete\" data-name=\"Icon material-delete\" d=\"M8.178,15.354a1.361,1.361,0,0,0,1.357,1.357h5.427a1.361,1.361,0,0,0,1.357-1.357V7.213H8.178ZM17,5.178H14.623L13.944,4.5H10.553l-.678.678H7.5V6.535H17Z\" transform=\"translate(-7.5 -4.5)\" fill=\"gray\"/></svg>\r\n          </div>\r\n        ) : null}\r\n        {props.isAdd ? (\r\n          <Avatar onClick={() => props.onAddClick()} size={106} style={{ backgroundColor: \"#ed8a25\", margin: \"auto\", color: \"#fff\", verticalAlign: \"middle\" }}>\r\n            <i className=\"fa fa-plus\"></i>\r\n          </Avatar>\r\n        ) : (\r\n          <Avatar size={106} style={{ backgroundColor: \"#ffffff\", margin: \"auto\", color: \"#fff\", verticalAlign: \"middle\" }}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"42\" height=\"42\" viewBox=\"0 0 42 42\"><path id=\"Icon_awesome-user-circle\" data-name=\"Icon awesome-user-circle\" d=\"M21,.563a21,21,0,1,0,21,21A21,21,0,0,0,21,.563Zm0,8.129a7.452,7.452,0,1,1-7.452,7.452A7.452,7.452,0,0,1,21,8.692Zm0,29.129A16.226,16.226,0,0,1,8.595,32.046a9.441,9.441,0,0,1,8.341-5.064,2.072,2.072,0,0,1,.6.093A11.211,11.211,0,0,0,21,27.659a11.169,11.169,0,0,0,3.463-.584,2.072,2.072,0,0,1,.6-.093,9.441,9.441,0,0,1,8.341,5.064A16.226,16.226,0,0,1,21,37.821Z\" transform=\"translate(0 -0.563)\" fill=\"#ed8a25\"/></svg>\r\n          </Avatar>\r\n        )}\r\n      </div>\r\n      <div className=\"Accountcard-footer\">{props.name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst RowItem = function (e, i) {\r\n  return (\r\n    <div className=\"d-block account-plans-row\" key={i+1}>\r\n      <span className=\"Name\">{e.name}</span>\r\n      <span className=\"pull-right account-Active\">Active</span>\r\n      <span className=\"Ellipse-6 pull-right\"></span>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}