{"ast":null,"code":"import React,{Component,useState,useCallback}from\"react\";import{Input}from\"antd\";import\"./Landing.css\";import{Request}from\"../auth/authHandler\";import{getPath}from\"../../actions/URLs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class SessionLogin extends Component{constructor(){var _this;super(...arguments);_this=this;this.state={loginPage:true,process:false,checkSession:false};this.onChangeInput=e=>{this.setState({[e.target.name]:e.target.value});};this.onSubmit=function(){let email=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";let password=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";_this.setState({process:true});const emailId=email.trim();const passworded=password.trim();Request.loginAuth({email:emailId,password:passworded},(res,err)=>{if(res){if(!res.data.success){_this.setState({process:false});window.gs.toast(res.data.message,{position:\"bottom-right\",autoClose:true,type:window.gs.toast.TYPE.ERROR});}else if(res.data.user.isActive){window.email=emailId;_this.props.setAuth(true);window.gs.toast(res.data.message,{position:\"bottom-right\",autoClose:true,type:window.gs.toast.TYPE.SUCCESS});window.location.reload();}else{_this.setState({loginPage:\"REG\",process:false});}}else{_this.setState({process:false});window.gs.toast(\"Something Wrong\",{position:\"bottom-right\",type:window.gs.toast.TYPE.FAILED});}});};this.changeView=view=>{this.setState({loginPage:view});};}componentDidMount(){// if (Request.getAuth()) {\n//   this.props.setAuth(true);\n// } else {\n//   this.setState({ checkSession: true });\n// }\n}render(){const{loginPage,loader,process}=this.state;return/*#__PURE__*/_jsx(LoginPage,{req:process,onSubmit:this.onSubmit,email:\"\",password:\"\",changeView:this.changeView,checkSession:this.props.checkSession});}}export default SessionLogin;// onSubmit, email, password\nconst LoginPage=function(props){const[email,setEmail]=useState(props.email);const[password,setPassword]=useState(props.password);const changeEmail=useCallback(newEmail=>{setEmail(newEmail);},[email]);const changePassword=useCallback(newPassword=>{setPassword(newPassword);},[password]);return/*#__PURE__*/_jsxs(\"div\",{className:\"session_login_wrapper\".concat(props.checkSession?\"\":\" cz_hide\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"session_login_overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"session_login_inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-sm-12 col-lg-12 login-form-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cz_auth_wrapper cz_login_wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cz_logo\",children:/*#__PURE__*/_jsx(\"img\",{src:getPath(\"/asset/dark_logo.png\"),style:{height:\"50px\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginTitle\",children:\"Get started\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"Use your email to login.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cz_auth_form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login_label\",children:\"Email-ID\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Email\",className:\"form-control\",name:\"email\",onChange:e=>changeEmail(e.target.value),value:email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login_label\",children:\"Password\"}),/*#__PURE__*/_jsx(Input.Password,{placeholder:\"Password\",onChange:e=>changePassword(e.target.value),value:password})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"forgot_password\",children:/*#__PURE__*/_jsx(\"div\",{style:{cursor:\"pointer\"},onClick:()=>props.changeView(\"FORGOT\"),children:\"Forget Password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{disabled:props.req,name:\"Sign In\",className:\"login_button\",onClick:()=>props.onSubmit(email,password),children:\"LOGIN\"})})]})})})]});};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/layout/SessionLogin.js"],"names":["React","Component","useState","useCallback","Input","Request","getPath","SessionLogin","state","loginPage","process","checkSession","onChangeInput","e","setState","target","name","value","onSubmit","email","password","emailId","trim","passworded","loginAuth","res","err","data","success","window","gs","toast","message","position","autoClose","type","TYPE","ERROR","user","isActive","props","setAuth","SUCCESS","location","reload","FAILED","changeView","view","componentDidMount","render","loader","LoginPage","setEmail","setPassword","changeEmail","newEmail","changePassword","newPassword","concat","height","cursor","req"],"mappings":"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","sourcesContent":["import React, { Component, useState, useCallback } from \"react\";\r\nimport { Input } from \"antd\";\r\nimport \"./Landing.css\";\r\nimport { Request } from \"../auth/authHandler\";\r\nimport { getPath } from \"../../actions/URLs\";\r\n\r\nclass SessionLogin extends Component {\r\n  state = {\r\n    loginPage: true,\r\n    process: false,\r\n    checkSession: false\r\n  };\r\n  componentDidMount() {\r\n    // if (Request.getAuth()) {\r\n    //   this.props.setAuth(true);\r\n    // } else {\r\n    //   this.setState({ checkSession: true });\r\n    // }\r\n  }\r\n  onChangeInput = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  onSubmit = (email = \"\", password = \"\") => {\r\n    this.setState({ process: true });\r\n    const emailId = email.trim();\r\n    const passworded = password.trim();\r\n    Request.loginAuth({ email: emailId, password: passworded }, (res, err) => {\r\n      if (res) {\r\n        if (!res.data.success) {\r\n          this.setState({ process: false });\r\n          window.gs.toast(res.data.message, { position: \"bottom-right\", autoClose: true, type: window.gs.toast.TYPE.ERROR });\r\n        } else if (res.data.user.isActive) {\r\n          window.email = emailId;\r\n          this.props.setAuth(true);\r\n          window.gs.toast(res.data.message, { position: \"bottom-right\", autoClose: true, type: window.gs.toast.TYPE.SUCCESS });\r\n          window.location.reload();\r\n        } else {\r\n          this.setState({ loginPage: \"REG\", process: false });\r\n        }\r\n      } else {\r\n        this.setState({ process: false });\r\n        window.gs.toast(\"Something Wrong\", { position: \"bottom-right\", type: window.gs.toast.TYPE.FAILED });\r\n      }\r\n    });\r\n  };\r\n\r\n  changeView = (view) => {\r\n    this.setState({ loginPage: view }); \r\n  };\r\n\r\n  render() {\r\n    const { loginPage, loader, process } = this.state;\r\n    return (\r\n      <LoginPage req={process} onSubmit={this.onSubmit} email={\"\"} password={\"\"} changeView={this.changeView} checkSession={this.props.checkSession}></LoginPage>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SessionLogin;\r\n// onSubmit, email, password\r\nconst LoginPage = function (props) {\r\n  const [email, setEmail] = useState(props.email);\r\n  const [password, setPassword] = useState(props.password);\r\n  const changeEmail = useCallback(\r\n    (newEmail) => {\r\n      setEmail(newEmail);\r\n    },\r\n    [email]\r\n  );\r\n  const changePassword = useCallback(\r\n    (newPassword) => {\r\n      setPassword(newPassword);\r\n    },\r\n    [password]\r\n  );\r\n  return (\r\n    <div className={\"session_login_wrapper\".concat(props.checkSession ? \"\" : \" cz_hide\")}>\r\n      <div className=\"session_login_overlay\"></div>\r\n      <div className=\"session_login_inner\">\r\n        <div className=\"col-md-12 col-sm-12 col-lg-12 login-form-1\">\r\n          <div className=\"cz_auth_wrapper cz_login_wrapper\">\r\n            <div className=\"cz_logo\">\r\n              <img src={getPath(\"/asset/dark_logo.png\")} style={{ height: \"50px\" }} /> \r\n            </div>\r\n            <div className=\"loginTitle\">Get started</div>\r\n            <div className=\"subtitle\">Use your email to login.</div>\r\n            <div className=\"cz_auth_form\">\r\n              <div className=\"inputBox\">\r\n                <label className=\"login_label\">Email-ID</label>\r\n                <Input placeholder=\"Email\" className=\"form-control\" name=\"email\" onChange={(e) => changeEmail(e.target.value)} value={email} />\r\n              </div>\r\n              <div className=\"inputBox\">\r\n                <label className=\"login_label\">Password</label>\r\n                <Input.Password placeholder=\"Password\" onChange={(e) => changePassword(e.target.value)} value={password} />\r\n              </div>\r\n            </div>\r\n            <div className=\"forgot_password\">\r\n              <div style={{ cursor: \"pointer\" }} onClick={() => props.changeView(\"FORGOT\")}>\r\n                Forget Password?\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button disabled={props.req} name=\"Sign In\" className=\"login_button\" onClick={() => props.onSubmit(email, password)}>\r\n                LOGIN\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}