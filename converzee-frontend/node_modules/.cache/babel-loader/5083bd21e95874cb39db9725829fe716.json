{"ast":null,"code":"import React,{Component}from\"react\";import\"./Preview.css\";import{parseImgUrl,youtubeUrlParse,vimeoUrlParse}from\"../../../Util\";import Portal from\"../../../comman/Portal\";import{getPath}from\"../../../../actions/URLs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Preview extends Component{constructor(){super(...arguments);this.getStyle=()=>{const{elements}=this.props.STYLE;const style={};Object.assign(style,{background:this.getcolor(elements,\"background\")});return style;};this.isUrlVideo=url=>{if(url.indexOf(\"youtube\")!==-1||url.indexOf(\"youtu\")!==-1||url.indexOf(\"viemo\")!==-1){return true;}return false;};this.hideOverlayData=()=>{let autoplayOverlay=document.querySelector(\".cz_autoplay_overlay\");autoplayOverlay.style.display=\"none\";let getIframeData=document.querySelector(\".iframe_autoplay\");let src=getIframeData.src;if(src.includes(\"?\")){getIframeData.src=src.split(\"?\")[0];}else{getIframeData.src+=\"?autoplay=1\";}};}getcolor(element,key){let color=\"#fff\";element.forEach(value=>{if(value.name===key){color=value.color;}});return color;}getVideoURL(url){return parseImgUrl(url);}render(){const video=this.props.video.url||\"\";const style={};//this.getStyle();\nconst text=this.props.toolData.text;const icons=this.props.icons;return/*#__PURE__*/_jsx(Portal,{defaultOpen:true,closeOnEsc:true,closeOnOutsideClick:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"image-popup\",style:style,children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popUpTitlebar\"}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-main-preview autoplay_video_preview\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>{this.props.onClose();},className:\"popupCloseButton\",style:{position:\"relative\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-close\",style:{paddingLeft:\"102%\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cz_autoplay_vidoe_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cz_autoplay_overlay\",onClick:this.hideOverlayData,children:[/*#__PURE__*/_jsx(\"img\",{src:getPath(icons)}),/*#__PURE__*/_jsx(\"h2\",{dangerouslySetInnerHTML:{__html:text}})]}),this.isUrlVideo(video)?/*#__PURE__*/_jsx(\"iframe\",{className:\"iframe_autoplay\",width:\"100%\",height:\"100%\",frameBorder:\"0\",allow:\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:true,auto:true,src:\"https://www.youtube.com/embed/\"+youtubeUrlParse(video)}):/*#__PURE__*/_jsx(\"iframe\",{className:\"iframe_autoplay\",width:\"100%\",height:\"100%\",frameBorder:\"0\",allowfullscreen:true,auto:true,src:\"https://player.vimeo.com/video/\"+vimeoUrlParse(video)})]})]})})]})})});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/pages/tools/AutoplayVideo/Preview.js"],"names":["React","Component","parseImgUrl","youtubeUrlParse","vimeoUrlParse","Portal","getPath","Preview","getStyle","elements","props","STYLE","style","Object","assign","background","getcolor","isUrlVideo","url","indexOf","hideOverlayData","autoplayOverlay","document","querySelector","display","getIframeData","src","includes","split","element","key","color","forEach","value","name","getVideoURL","render","video","text","toolData","icons","onClose","position","paddingLeft","__html"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Preview.css\";\r\nimport { parseImgUrl, youtubeUrlParse, vimeoUrlParse } from \"../../../Util\";\r\nimport Portal from \"../../../comman/Portal\";\r\nimport { getPath } from \"../../../../actions/URLs\";\r\nexport default class Preview extends Component {\r\n  getStyle = () => {\r\n    const { elements } = this.props.STYLE;\r\n    const style = {};\r\n    Object.assign(style, { background: this.getcolor(elements, \"background\") });\r\n    return style;\r\n  };\r\n  getcolor(element, key) {\r\n    let color = \"#fff\";\r\n    element.forEach((value) => {\r\n      if (value.name === key) {\r\n        color = value.color;\r\n      }\r\n    });\r\n    return color;\r\n  }\r\n  isUrlVideo = (url) => {\r\n    if (url.indexOf(\"youtube\") !== -1 || url.indexOf(\"youtu\") !== -1 || url.indexOf(\"viemo\") !== -1) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  getVideoURL(url) {\r\n    return parseImgUrl(url);\r\n  }\r\n\r\n  hideOverlayData = () => {\r\n    let autoplayOverlay = document.querySelector(\".cz_autoplay_overlay\");\r\n    autoplayOverlay.style.display = \"none\";\r\n    let getIframeData = document.querySelector(\".iframe_autoplay\");\r\n    let src = getIframeData.src\r\n    if(src.includes(\"?\")) {\r\n        getIframeData.src = src.split(\"?\")[0];\r\n    } else {\r\n        getIframeData.src += \"?autoplay=1\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const video = this.props.video.url || \"\";\r\n    const style = {}; //this.getStyle();\r\n    const text = this.props.toolData.text;\r\n    const icons = this.props.icons;\r\n    return (\r\n        <Portal defaultOpen={true} closeOnEsc={true} closeOnOutsideClick={true}>\r\n            <div className=\"image-popup\" style={style}>\r\n            <div className=\"image-preview\">\r\n                <div className=\"popUpTitlebar\"></div>\r\n                <center>\r\n                <div className=\"image-main-preview autoplay_video_preview\">\r\n                      <div\r\n                          onClick={() => {\r\n                          this.props.onClose();\r\n                          }}\r\n                          className=\"popupCloseButton\"\r\n                          style={{ position: \"relative\" }}\r\n                      >\r\n                          <i className=\"fa fa-close\" style={{ paddingLeft: \"102%\" }} />\r\n                      </div>\r\n                    <div className=\"cz_autoplay_vidoe_box\">\r\n                      <div className=\"cz_autoplay_overlay\" onClick={this.hideOverlayData}>\r\n                        <img src={getPath(icons)}/>\r\n                        <h2 dangerouslySetInnerHTML={{ __html: text }}></h2>\r\n                      </div>\r\n                      {this.isUrlVideo(video) ? (\r\n                          <iframe\r\n                          className=\"iframe_autoplay\"\r\n                          width=\"100%\"\r\n                          height=\"100%\"\r\n                          frameBorder=\"0\"\r\n                          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n                          allowfullscreen\r\n                          auto\r\n                          src={\"https://www.youtube.com/embed/\" + youtubeUrlParse(video)}\r\n                          ></iframe>\r\n                      ) : (\r\n                          <iframe\r\n                          className=\"iframe_autoplay\"\r\n                          width=\"100%\"\r\n                          height=\"100%\"\r\n                          frameBorder=\"0\"\r\n                          allowfullscreen\r\n                          auto\r\n                          src={\"https://player.vimeo.com/video/\" + vimeoUrlParse(video)}\r\n                          ></iframe>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* <img src={BASE_URL + parseImgUrl(video)} /> */}\r\n                </div>\r\n                </center>\r\n            </div>\r\n            </div>\r\n        </Portal>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}