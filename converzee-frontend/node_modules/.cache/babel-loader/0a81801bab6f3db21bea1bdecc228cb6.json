{"ast":null,"code":"import axios from\"axios\";import{Storage}from\"../utils/Storage\";import{BASE_URL}from\"./URLs\";export default class RequestHandler{}RequestHandler.getHeader=function(){const token=Storage.get(\"x-access-token\");return{headers:{\"x-access-token\":token}};};RequestHandler.RegRequest=function(URL,data,callBack){// window.gs.loader(true);\nconst header=RequestHandler.getHeader();const NEW_URL=BASE_URL+URL;axios.post(NEW_URL,data,header).then(res=>{if(res.status===205){Storage.removeAll();window.gs.setAuth(false);}callBack(res,null);}).catch(err=>callBack(null,err)).finally(()=>{// window.gs.loader(false);\n});};RequestHandler.PostRequest=function(URL,data,callBack){window.gs.loader(true);const header=RequestHandler.getHeader();const NEW_URL=BASE_URL+URL;try{axios.post(NEW_URL,data,header).then(res=>{if(res.status===205){document.querySelector(\".session_login_wrapper\").classList.remove(\"cz_hide\");Storage.removeAll();window.gs.setAuth(false);}callBack(res,null);}).catch(err=>{window.gs.toast(\"Something wrong\",{position:\"bottom-right\",autoClose:true,type:window.gs.toast.TYPE.ERROR});callBack(null,err);}).finally(()=>{window.gs.loader(false);});}catch(e){window.gs.loader(false);}};RequestHandler.GETRequest=function(URL,callBack){window.gs.loader(true);const header=RequestHandler.getHeader();axios.get(BASE_URL+URL,header).then(res=>callBack(res,null)).catch(err=>callBack(null,err)).finally(()=>{window.gs.loader(false);});};RequestHandler.ForgotRequest=function(URL,data,callBack){const NEW_URL=BASE_URL+URL;axios.post(NEW_URL,data).then(res=>{callBack(res,null);}).catch(err=>callBack(null,err)).finally(()=>{});};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/actions/RequestHandler.js"],"names":["axios","Storage","BASE_URL","RequestHandler","getHeader","token","get","headers","RegRequest","URL","data","callBack","header","NEW_URL","post","then","res","status","removeAll","window","gs","setAuth","catch","err","finally","PostRequest","loader","document","querySelector","classList","remove","toast","position","autoClose","type","TYPE","ERROR","e","GETRequest","ForgotRequest"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { Storage } from \"../utils/Storage\";\r\nimport { BASE_URL } from \"./URLs\";\r\nexport default class RequestHandler {\r\n  static getHeader = function () {\r\n    const token = Storage.get(\"x-access-token\");\r\n    return {\r\n      headers: { \"x-access-token\": token },\r\n    };\r\n  };\r\n\r\n  static RegRequest = function (URL, data, callBack) {\r\n    // window.gs.loader(true);\r\n    const header = RequestHandler.getHeader();\r\n    const NEW_URL = BASE_URL + URL;\r\n    axios\r\n      .post(NEW_URL, data, header)\r\n      .then((res) => {\r\n        if (res.status === 205) {\r\n          Storage.removeAll();\r\n          window.gs.setAuth(false);\r\n        }\r\n        callBack(res, null);\r\n      })\r\n      .catch((err) => callBack(null, err))\r\n      .finally(() => {\r\n        // window.gs.loader(false);\r\n      });\r\n  };\r\n\r\n  static PostRequest = function (URL, data, callBack) {\r\n    window.gs.loader(true);\r\n    const header = RequestHandler.getHeader();\r\n    const NEW_URL = BASE_URL + URL;\r\n    try {\r\n      axios\r\n        .post(NEW_URL, data, header)\r\n        .then((res) => {\r\n          if (res.status === 205) {\r\n            document.querySelector(\".session_login_wrapper\").classList.remove(\"cz_hide\");\r\n            Storage.removeAll();\r\n            window.gs.setAuth(false);\r\n          }\r\n          callBack(res, null);\r\n        })\r\n        .catch((err) => {\r\n          window.gs.toast(\"Something wrong\", { position: \"bottom-right\", autoClose: true, type: window.gs.toast.TYPE.ERROR });\r\n          callBack(null, err);\r\n        })\r\n        .finally(() => {\r\n          window.gs.loader(false);\r\n        });\r\n    } catch (e) {\r\n      window.gs.loader(false);\r\n    }\r\n  };\r\n  static GETRequest = function (URL, callBack) {\r\n    window.gs.loader(true);\r\n    const header = RequestHandler.getHeader();\r\n    axios\r\n      .get(BASE_URL + URL, header)\r\n      .then((res) => callBack(res, null))\r\n      .catch((err) => callBack(null, err))\r\n      .finally(() => {\r\n        window.gs.loader(false);\r\n      });\r\n  };\r\n\r\n  static ForgotRequest = function (URL, data, callBack) {\r\n    const NEW_URL = BASE_URL + URL;\r\n    axios\r\n      .post(NEW_URL, data)\r\n      .then((res) => {\r\n        callBack(res, null);\r\n      })\r\n      .catch((err) => callBack(null, err))\r\n      .finally(() => {});\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}