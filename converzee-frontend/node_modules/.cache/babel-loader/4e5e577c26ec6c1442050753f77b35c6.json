{"ast":null,"code":"import*as React from\"react\";import _ from\"lodash\";import ToolUtil from\"../../utils/ToolUtil\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class DropDown extends React.Component{constructor(){super(...arguments);this.onChange=e=>{if(this.props.index){this.props.onChange(e.target.value,this.props.index);}else{this.props.onChange(e.target.value);}};this.renderOptions=(option,i)=>{return/*#__PURE__*/_jsx(\"option\",{selected:this.props.value===option.value?true:false,disabled:option.disable,value:option.value,children:option.label},i);};}render(){const{classes,style,options,onChange,disable,selected,index}=this.props;return/*#__PURE__*/_jsx(\"select\",{disabled:disable,onChange:this.onChange,style:style,className:classes,children:options.map(this.renderOptions)});}}DropDown.defaultProps={classes:\"form-control form-control-sm\",value:\"\",options:[],disable:false,style:{width:\"min-content\"}};export class ToolSelectorDropDown extends React.PureComponent{constructor(){super(...arguments);this.OTO1=[{tid:1,selected:false,text:\"Tab Messaging\"},{tid:2,selected:false,text:\"Urgency Timer\"},{tid:5,selected:false,text:\"Video Popup\"},{tid:6,selected:false,text:\"Central Timer\"},{tid:7,selected:false,text:\"Geo Redirection\"},{tid:3,selected:false,text:\"HELLO BAR\"},{tid:4,selected:false,text:\"Image Popup\"},{tid:9,selected:false,text:\"Exit Intent\"},{tid:10,selected:false,text:\"Mobile Vibrator\"},{tid:13,selected:false,text:\"Dynamic Elements\"},{tid:14,selected:false,text:\"Offer iframe\"},{tid:15,selected:false,text:\"Back Button redirection\"},{tid:17,selected:false,text:\"HELLO BAR + Timer\"},{tid:24,selected:false,text:\"Autoplay Video\"}];this.isOTO1All=false;this.isOTO2All=false;this.isOTO3All=false;this.selected=new Set();this.state={open:false};this.openToolBox=()=>{const{open}=this.state;this.setState({open:!open},()=>{if(this.state.open){document.addEventListener(\"click\",this.onSelectionDone);}});};this.onSelectionDone=e=>{let isInsideClick=false;e.path.forEach(ele=>{if(ele.className===\"toolSelectorDropDown\")isInsideClick=true;});if(!isInsideClick){document.removeEventListener(\"click\",this.onSelectionDone);this.setState({open:false});}};this.onChange=item=>{const{selected}=this;if(selected.has(item)){selected.delete(item);}else{selected.add(item);}this.props.onChange(Array.from(selected));this.forceUpdate();};this.onlySetItem=(item,isAdd)=>{const{selected}=this;if(!isAdd){selected.delete(item);}else{selected.add(item);}};this.onFrontEndSelectAll=()=>{this.isOTO1All=!this.isOTO1All;this.OTO1.forEach(e=>{e.selected=this.isOTO1All;this.onlySetItem(e.tid,this.isOTO1All);});this.props.onChange(Array.from(this.selected));this.forceUpdate();};this.onFrontEndSelect=(item,i,isTrue)=>{this.OTO1[i][\"selected\"]=!isTrue;this.onChange(item);};this.onOTO2All=()=>{this.isOTO2All=!this.isOTO2All;this.OTO2.forEach(e=>{e.selected=this.isOTO2All;this.onlySetItem(e.tid,this.isOTO2All);});this.props.onChange(Array.from(this.selected));this.forceUpdate();};this.onOTO2Select=(item,i,isTrue)=>{this.OTO2[i][\"selected\"]=!isTrue;this.onChange(item);};this.onOTO3All=()=>{this.isOTO3All=!this.isOTO3All;this.OTO3.forEach(e=>{e.selected=this.isOTO3All;this.onlySetItem(e.tid,this.isOTO3All);});this.props.onChange(Array.from(this.selected));this.forceUpdate();};this.onOTO3Select=(item,i,isTrue)=>{this.OTO3[i][\"selected\"]=!isTrue;this.onChange(item);};}render(){const{isOTO1All,isOTO2All,isOTO3All,selected}=this;const{open}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"toolSelectorDropDown\",name:\"ToolSelector\",children:[/*#__PURE__*/_jsx(ElementSelected,{selected:selected,elementClick:this.openToolBox}),open?/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu mck_dropdown-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:isOTO1All?\"dropdown-menu-title tool_menuItem_selected\":\"dropdown-menu-title\",onClick:this.onFrontEndSelectAll,children:\"Front End\"}),this.OTO1.map((e,i)=>/*#__PURE__*/_jsx(OptionItem,{index:i,text:e.text,selected:e.selected,tid:e.tid,onChange:this.onFrontEndSelect},i))]}):null]});}}const OptionItem=props=>{return/*#__PURE__*/_jsxs(\"div\",{className:props.selected?\"tool_menuItem tool_menuItem_selected\":\"tool_menuItem\",onClick:()=>props.onChange(props.tid,props.index,props.selected),children:[props.text,/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-check\"})})]});};const ElementSelected=props=>{const selected=props.selected?Array.from(props.selected):[];return/*#__PURE__*/_jsx(\"button\",{onFocus:props.elementClick,className:\"toolDropdownItem\",style:{width:\"100%\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"ant-select-selection\\r ant-select-selection--multiple\",children:/*#__PURE__*/_jsx(\"ul\",{children:selected.map((e,i)=>/*#__PURE__*/_jsx(InnerItem,{tid:e},i))})})});};const InnerItem=function(props){return/*#__PURE__*/_jsx(\"li\",{className:\"ant-select-selection__choice\",children:ToolUtil.getTool(props.tid)});};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/comman/DropDown.js"],"names":["React","_","ToolUtil","DropDown","Component","onChange","e","props","index","target","value","renderOptions","option","i","disable","label","render","classes","style","options","selected","map","defaultProps","width","ToolSelectorDropDown","PureComponent","OTO1","tid","text","isOTO1All","isOTO2All","isOTO3All","Set","state","open","openToolBox","setState","document","addEventListener","onSelectionDone","isInsideClick","path","forEach","ele","className","removeEventListener","item","has","delete","add","Array","from","forceUpdate","onlySetItem","isAdd","onFrontEndSelectAll","onFrontEndSelect","isTrue","onOTO2All","OTO2","onOTO2Select","onOTO3All","OTO3","onOTO3Select","OptionItem","ElementSelected","elementClick","InnerItem","getTool"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CAEA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,C,wFACA,cAAe,MAAMC,CAAAA,QAAN,QAAuBH,CAAAA,KAAK,CAACI,SAAU,wCAmBpDC,QAnBoD,CAmBxCC,CAAD,EAAO,CAChB,GAAI,KAAKC,KAAL,CAAWC,KAAf,CAAsB,CACpB,KAAKD,KAAL,CAAWF,QAAX,CAAoBC,CAAC,CAACG,MAAF,CAASC,KAA7B,CAAoC,KAAKH,KAAL,CAAWC,KAA/C,EACD,CAFD,IAEO,CACL,KAAKD,KAAL,CAAWF,QAAX,CAAoBC,CAAC,CAACG,MAAF,CAASC,KAA7B,EACD,CACF,CAzBmD,MA2BpDC,aA3BoD,CA2BpC,CAACC,MAAD,CAASC,CAAT,GAAe,CAC7B,mBACE,eAAgB,QAAQ,CAAE,KAAKN,KAAL,CAAWG,KAAX,GAAqBE,MAAM,CAACF,KAA5B,CAAoC,IAApC,CAA2C,KAArE,CAA4E,QAAQ,CAAEE,MAAM,CAACE,OAA7F,CAAsG,KAAK,CAAEF,MAAM,CAACF,KAApH,UACGE,MAAM,CAACG,KADV,EAAaF,CAAb,CADF,CAKD,CAjCmD,EAmCpDG,MAAM,EAAG,CACP,KAAM,CAAEC,OAAF,CAAWC,KAAX,CAAkBC,OAAlB,CAA2Bd,QAA3B,CAAqCS,OAArC,CAA8CM,QAA9C,CAAwDZ,KAAxD,EAAkE,KAAKD,KAA7E,CACA,mBACE,eAAQ,QAAQ,CAAEO,OAAlB,CAA2B,QAAQ,CAAE,KAAKT,QAA1C,CAAoD,KAAK,CAAEa,KAA3D,CAAkE,SAAS,CAAED,OAA7E,UACGE,OAAO,CAACE,GAAR,CAAY,KAAKV,aAAjB,CADH,EADF,CAKD,CA1CmD,CAAjCR,Q,CAWZmB,Y,CAAe,CACpBL,OAAO,CAAE,8BADW,CAEpBP,KAAK,CAAE,EAFa,CAGpBS,OAAO,CAAE,EAHW,CAIpBL,OAAO,CAAE,KAJW,CAKpBI,KAAK,CAAE,CAAEK,KAAK,CAAE,aAAT,CALa,C,CAkCxB,MAAO,MAAMC,CAAAA,oBAAN,QAAmCxB,CAAAA,KAAK,CAACyB,aAAc,wCAC5DC,IAD4D,CACrD,CACL,CAAEC,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,eAAjC,CADK,CAEL,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,eAAjC,CAFK,CAGL,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,aAAjC,CAHK,CAIL,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,eAAjC,CAJK,CAKL,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,iBAAjC,CALK,CAML,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,WAAjC,CANK,CAOL,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,aAAjC,CAPK,CAQL,CAAED,GAAG,CAAE,CAAP,CAAUP,QAAQ,CAAE,KAApB,CAA2BQ,IAAI,CAAE,aAAjC,CARK,CASL,CAAED,GAAG,CAAE,EAAP,CAAWP,QAAQ,CAAE,KAArB,CAA4BQ,IAAI,CAAE,iBAAlC,CATK,CAUL,CAAED,GAAG,CAAE,EAAP,CAAWP,QAAQ,CAAE,KAArB,CAA4BQ,IAAI,CAAE,kBAAlC,CAVK,CAWL,CAAED,GAAG,CAAE,EAAP,CAAWP,QAAQ,CAAE,KAArB,CAA4BQ,IAAI,CAAE,cAAlC,CAXK,CAYL,CAAED,GAAG,CAAE,EAAP,CAAWP,QAAQ,CAAE,KAArB,CAA4BQ,IAAI,CAAE,yBAAlC,CAZK,CAaL,CAAED,GAAG,CAAE,EAAP,CAAWP,QAAQ,CAAE,KAArB,CAA4BQ,IAAI,CAAE,mBAAlC,CAbK,CAcL,CAAED,GAAG,CAAE,EAAP,CAAWP,QAAQ,CAAE,KAArB,CAA4BQ,IAAI,CAAE,gBAAlC,CAdK,CADqD,MAsB5DC,SAtB4D,CAsBhD,KAtBgD,MAuB5DC,SAvB4D,CAuBhD,KAvBgD,MAwB5DC,SAxB4D,CAwBhD,KAxBgD,MAyB5DX,QAzB4D,CAyBjD,GAAIY,CAAAA,GAAJ,EAzBiD,MA0B5DC,KA1B4D,CA0BpD,CACNC,IAAI,CAAE,KADA,CA1BoD,MA6B5DC,WA7B4D,CA6B9C,IAAM,CAClB,KAAM,CAAED,IAAF,EAAW,KAAKD,KAAtB,CACA,KAAKG,QAAL,CAAc,CAAEF,IAAI,CAAE,CAACA,IAAT,CAAd,CAA+B,IAAM,CACnC,GAAI,KAAKD,KAAL,CAAWC,IAAf,CAAqB,CACnBG,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmC,KAAKC,eAAxC,EACD,CACF,CAJD,EAKD,CApC2D,MAsC5DA,eAtC4D,CAsCzCjC,CAAD,EAAO,CACvB,GAAIkC,CAAAA,aAAa,CAAG,KAApB,CACAlC,CAAC,CAACmC,IAAF,CAAOC,OAAP,CAAgBC,GAAD,EAAS,CACtB,GAAIA,GAAG,CAACC,SAAJ,GAAkB,sBAAtB,CAA8CJ,aAAa,CAAG,IAAhB,CAC/C,CAFD,EAGA,GAAI,CAACA,aAAL,CAAoB,CAClBH,QAAQ,CAACQ,mBAAT,CAA6B,OAA7B,CAAsC,KAAKN,eAA3C,EACA,KAAKH,QAAL,CAAc,CAAEF,IAAI,CAAE,KAAR,CAAd,EACD,CACF,CA/C2D,MAiD5D7B,QAjD4D,CAiDhDyC,IAAD,EAAU,CACnB,KAAM,CAAE1B,QAAF,EAAe,IAArB,CACA,GAAIA,QAAQ,CAAC2B,GAAT,CAAaD,IAAb,CAAJ,CAAwB,CACtB1B,QAAQ,CAAC4B,MAAT,CAAgBF,IAAhB,EACD,CAFD,IAEO,CACL1B,QAAQ,CAAC6B,GAAT,CAAaH,IAAb,EACD,CACD,KAAKvC,KAAL,CAAWF,QAAX,CAAoB6C,KAAK,CAACC,IAAN,CAAW/B,QAAX,CAApB,EACA,KAAKgC,WAAL,GACD,CA1D2D,MA4D5DC,WA5D4D,CA4D9C,CAACP,IAAD,CAAOQ,KAAP,GAAiB,CAC7B,KAAM,CAAElC,QAAF,EAAe,IAArB,CACA,GAAI,CAACkC,KAAL,CAAY,CACVlC,QAAQ,CAAC4B,MAAT,CAAgBF,IAAhB,EACD,CAFD,IAEO,CACL1B,QAAQ,CAAC6B,GAAT,CAAaH,IAAb,EACD,CACF,CAnE2D,MAqE5DS,mBArE4D,CAqEtC,IAAM,CAC1B,KAAK1B,SAAL,CAAiB,CAAC,KAAKA,SAAvB,CACA,KAAKH,IAAL,CAAUgB,OAAV,CAAmBpC,CAAD,EAAO,CACvBA,CAAC,CAACc,QAAF,CAAa,KAAKS,SAAlB,CACA,KAAKwB,WAAL,CAAiB/C,CAAC,CAACqB,GAAnB,CAAwB,KAAKE,SAA7B,EACD,CAHD,EAIA,KAAKtB,KAAL,CAAWF,QAAX,CAAoB6C,KAAK,CAACC,IAAN,CAAW,KAAK/B,QAAhB,CAApB,EACA,KAAKgC,WAAL,GACD,CA7E2D,MA8E5DI,gBA9E4D,CA8EzC,CAACV,IAAD,CAAOjC,CAAP,CAAU4C,MAAV,GAAqB,CACtC,KAAK/B,IAAL,CAAUb,CAAV,EAAa,UAAb,EAA2B,CAAC4C,MAA5B,CACA,KAAKpD,QAAL,CAAcyC,IAAd,EACD,CAjF2D,MAkF5DY,SAlF4D,CAkFhD,IAAM,CAChB,KAAK5B,SAAL,CAAiB,CAAC,KAAKA,SAAvB,CACA,KAAK6B,IAAL,CAAUjB,OAAV,CAAmBpC,CAAD,EAAO,CACvBA,CAAC,CAACc,QAAF,CAAa,KAAKU,SAAlB,CACA,KAAKuB,WAAL,CAAiB/C,CAAC,CAACqB,GAAnB,CAAwB,KAAKG,SAA7B,EACD,CAHD,EAIA,KAAKvB,KAAL,CAAWF,QAAX,CAAoB6C,KAAK,CAACC,IAAN,CAAW,KAAK/B,QAAhB,CAApB,EACA,KAAKgC,WAAL,GACD,CA1F2D,MA2F5DQ,YA3F4D,CA2F7C,CAACd,IAAD,CAAOjC,CAAP,CAAU4C,MAAV,GAAqB,CAClC,KAAKE,IAAL,CAAU9C,CAAV,EAAa,UAAb,EAA2B,CAAC4C,MAA5B,CACA,KAAKpD,QAAL,CAAcyC,IAAd,EACD,CA9F2D,MA+F5De,SA/F4D,CA+FhD,IAAM,CAChB,KAAK9B,SAAL,CAAiB,CAAC,KAAKA,SAAvB,CACA,KAAK+B,IAAL,CAAUpB,OAAV,CAAmBpC,CAAD,EAAO,CACvBA,CAAC,CAACc,QAAF,CAAa,KAAKW,SAAlB,CACA,KAAKsB,WAAL,CAAiB/C,CAAC,CAACqB,GAAnB,CAAwB,KAAKI,SAA7B,EACD,CAHD,EAIA,KAAKxB,KAAL,CAAWF,QAAX,CAAoB6C,KAAK,CAACC,IAAN,CAAW,KAAK/B,QAAhB,CAApB,EACA,KAAKgC,WAAL,GACD,CAvG2D,MAwG5DW,YAxG4D,CAwG7C,CAACjB,IAAD,CAAOjC,CAAP,CAAU4C,MAAV,GAAqB,CAClC,KAAKK,IAAL,CAAUjD,CAAV,EAAa,UAAb,EAA2B,CAAC4C,MAA5B,CACA,KAAKpD,QAAL,CAAcyC,IAAd,EACD,CA3G2D,EA4G5D9B,MAAM,EAAG,CACP,KAAM,CAAEa,SAAF,CAAaC,SAAb,CAAwBC,SAAxB,CAAmCX,QAAnC,EAAgD,IAAtD,CACA,KAAM,CAAEc,IAAF,EAAW,KAAKD,KAAtB,CACA,mBACE,aAAK,SAAS,CAAC,sBAAf,CAAsC,IAAI,CAAC,cAA3C,wBACE,KAAC,eAAD,EAAiB,QAAQ,CAAEb,QAA3B,CAAqC,YAAY,CAAE,KAAKe,WAAxD,EADF,CAEGD,IAAI,cACH,aAAK,SAAS,CAAC,iCAAf,wBACE,YAAK,SAAS,CAAEL,SAAS,CAAG,4CAAH,CAAkD,qBAA3E,CAAkG,OAAO,CAAE,KAAK0B,mBAAhH,uBADF,CAIG,KAAK7B,IAAL,CAAUL,GAAV,CAAc,CAACf,CAAD,CAAIO,CAAJ,gBACb,KAAC,UAAD,EAAoB,KAAK,CAAEA,CAA3B,CAA8B,IAAI,CAAEP,CAAC,CAACsB,IAAtC,CAA4C,QAAQ,CAAEtB,CAAC,CAACc,QAAxD,CAAkE,GAAG,CAAEd,CAAC,CAACqB,GAAzE,CAA8E,QAAQ,CAAE,KAAK6B,gBAA7F,EAAiB3C,CAAjB,CADD,CAJH,GADG,CAkBD,IApBN,GADF,CAwBD,CAvI2D,CA0I9D,KAAMmD,CAAAA,UAAU,CAAIzD,KAAD,EAAW,CAC5B,mBACE,aAAK,SAAS,CAAEA,KAAK,CAACa,QAAN,CAAiB,sCAAjB,CAA0D,eAA1E,CAA2F,OAAO,CAAE,IAAMb,KAAK,CAACF,QAAN,CAAeE,KAAK,CAACoB,GAArB,CAA0BpB,KAAK,CAACC,KAAhC,CAAuCD,KAAK,CAACa,QAA7C,CAA1G,WACGb,KAAK,CAACqB,IADT,cAEE,mCACE,UAAG,SAAS,CAAC,aAAb,EADF,EAFF,GADF,CAQD,CATD,CAWA,KAAMqC,CAAAA,eAAe,CAAI1D,KAAD,EAAW,CACjC,KAAMa,CAAAA,QAAQ,CAAGb,KAAK,CAACa,QAAN,CAAiB8B,KAAK,CAACC,IAAN,CAAW5C,KAAK,CAACa,QAAjB,CAAjB,CAA8C,EAA/D,CACA,mBACE,eAAQ,OAAO,CAAEb,KAAK,CAAC2D,YAAvB,CAAqC,SAAS,CAAC,kBAA/C,CAAkE,KAAK,CAAE,CAAE3C,KAAK,CAAE,MAAT,CAAzE,uBACE,YACE,SAAS,CAAC,uDADZ,uBAIE,oBACGH,QAAQ,CAACC,GAAT,CAAa,CAACf,CAAD,CAAIO,CAAJ,gBACZ,KAAC,SAAD,EAAmB,GAAG,CAAEP,CAAxB,EAAgBO,CAAhB,CADD,CADH,EAJF,EADF,EADF,CAcD,CAhBD,CAkBA,KAAMsD,CAAAA,SAAS,CAAG,SAAU5D,KAAV,CAAiB,CACjC,mBAAO,WAAI,SAAS,CAAC,8BAAd,UAA8CL,QAAQ,CAACkE,OAAT,CAAiB7D,KAAK,CAACoB,GAAvB,CAA9C,EAAP,CACD,CAFD","sourcesContent":["import * as React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport _ from \"lodash\";\r\nimport ToolUtil from \"../../utils/ToolUtil\";\r\nexport default class DropDown extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.string,\r\n    options: PropTypes.array,\r\n    onChange: PropTypes.func,\r\n    disable: PropTypes.bool,\r\n    value: PropTypes.string,\r\n    index: PropTypes.number,\r\n    style: PropTypes.object,\r\n  };\r\n\r\n  static defaultProps = {\r\n    classes: \"form-control form-control-sm\",\r\n    value: \"\",\r\n    options: [],\r\n    disable: false,\r\n    style: { width: \"min-content\" },\r\n  };\r\n\r\n  onChange = (e) => {\r\n    if (this.props.index) {\r\n      this.props.onChange(e.target.value, this.props.index);\r\n    } else {\r\n      this.props.onChange(e.target.value);\r\n    }\r\n  };\r\n\r\n  renderOptions = (option, i) => {\r\n    return (\r\n      <option key={i} selected={this.props.value === option.value ? true : false} disabled={option.disable} value={option.value}>\r\n        {option.label}\r\n      </option>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes, style, options, onChange, disable, selected, index } = this.props;\r\n    return (\r\n      <select disabled={disable} onChange={this.onChange} style={style} className={classes}>\r\n        {options.map(this.renderOptions)}\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nexport class ToolSelectorDropDown extends React.PureComponent {\r\n  OTO1 = [\r\n    { tid: 1, selected: false, text: \"Tab Messaging\" },\r\n    { tid: 2, selected: false, text: \"Urgency Timer\" },\r\n    { tid: 5, selected: false, text: \"Video Popup\" },\r\n    { tid: 6, selected: false, text: \"Central Timer\" },\r\n    { tid: 7, selected: false, text: \"Geo Redirection\" },\r\n    { tid: 3, selected: false, text: \"HELLO BAR\" },\r\n    { tid: 4, selected: false, text: \"Image Popup\" },\r\n    { tid: 9, selected: false, text: \"Exit Intent\" },\r\n    { tid: 10, selected: false, text: \"Mobile Vibrator\" },\r\n    { tid: 13, selected: false, text: \"Dynamic Elements\" },\r\n    { tid: 14, selected: false, text: \"Offer iframe\" },\r\n    { tid: 15, selected: false, text: \"Back Button redirection\" },\r\n    { tid: 17, selected: false, text: \"HELLO BAR + Timer\" },\r\n    { tid: 24, selected: false, text: \"Autoplay Video\" }\r\n  ];\r\n  // OTO2 = [\r\n  //   { tid: 18, selected: false, text: \"Run campaign on third party site\" },\r\n  //   { tid: 19, selected: false, text: \"Optin forms\" },\r\n  // ];\r\n  // OTO3 = [];\r\n  isOTO1All = false;\r\n  isOTO2All = false;\r\n  isOTO3All = false;\r\n  selected = new Set();\r\n  state = {\r\n    open: false,\r\n  };\r\n  openToolBox = () => {\r\n    const { open } = this.state;\r\n    this.setState({ open: !open }, () => {\r\n      if (this.state.open) {\r\n        document.addEventListener(\"click\", this.onSelectionDone);\r\n      }\r\n    });\r\n  };\r\n\r\n  onSelectionDone = (e) => {\r\n    let isInsideClick = false;\r\n    e.path.forEach((ele) => {\r\n      if (ele.className === \"toolSelectorDropDown\") isInsideClick = true;\r\n    });\r\n    if (!isInsideClick) {\r\n      document.removeEventListener(\"click\", this.onSelectionDone);\r\n      this.setState({ open: false });\r\n    }\r\n  };\r\n\r\n  onChange = (item) => {\r\n    const { selected } = this;\r\n    if (selected.has(item)) {\r\n      selected.delete(item);\r\n    } else {\r\n      selected.add(item);\r\n    }\r\n    this.props.onChange(Array.from(selected));\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onlySetItem = (item, isAdd) => {\r\n    const { selected } = this;\r\n    if (!isAdd) {\r\n      selected.delete(item);\r\n    } else {\r\n      selected.add(item);\r\n    }\r\n  };\r\n\r\n  onFrontEndSelectAll = () => {\r\n    this.isOTO1All = !this.isOTO1All;\r\n    this.OTO1.forEach((e) => {\r\n      e.selected = this.isOTO1All;\r\n      this.onlySetItem(e.tid, this.isOTO1All);\r\n    });\r\n    this.props.onChange(Array.from(this.selected));\r\n    this.forceUpdate();\r\n  };\r\n  onFrontEndSelect = (item, i, isTrue) => {\r\n    this.OTO1[i][\"selected\"] = !isTrue;\r\n    this.onChange(item);\r\n  };\r\n  onOTO2All = () => {\r\n    this.isOTO2All = !this.isOTO2All;\r\n    this.OTO2.forEach((e) => {\r\n      e.selected = this.isOTO2All;\r\n      this.onlySetItem(e.tid, this.isOTO2All);\r\n    });\r\n    this.props.onChange(Array.from(this.selected));\r\n    this.forceUpdate();\r\n  };\r\n  onOTO2Select = (item, i, isTrue) => {\r\n    this.OTO2[i][\"selected\"] = !isTrue;\r\n    this.onChange(item);\r\n  };\r\n  onOTO3All = () => {\r\n    this.isOTO3All = !this.isOTO3All;\r\n    this.OTO3.forEach((e) => {\r\n      e.selected = this.isOTO3All;\r\n      this.onlySetItem(e.tid, this.isOTO3All);\r\n    });\r\n    this.props.onChange(Array.from(this.selected));\r\n    this.forceUpdate();\r\n  };\r\n  onOTO3Select = (item, i, isTrue) => {\r\n    this.OTO3[i][\"selected\"] = !isTrue;\r\n    this.onChange(item);\r\n  };\r\n  render() {\r\n    const { isOTO1All, isOTO2All, isOTO3All, selected } = this;\r\n    const { open } = this.state;\r\n    return (\r\n      <div className=\"toolSelectorDropDown\" name=\"ToolSelector\">\r\n        <ElementSelected selected={selected} elementClick={this.openToolBox} />\r\n        {open ? (\r\n          <div className=\"dropdown-menu mck_dropdown-menu\">\r\n            <div className={isOTO1All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\"} onClick={this.onFrontEndSelectAll}>\r\n              Front End\r\n            </div>\r\n            {this.OTO1.map((e, i) => (\r\n              <OptionItem key={i} index={i} text={e.text} selected={e.selected} tid={e.tid} onChange={this.onFrontEndSelect} />\r\n            ))}\r\n            {/* <div className={isOTO2All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\"} onClick={this.onOTO2All}>\r\n              OTO2\r\n            </div>\r\n            {this.OTO2.map((e, i) => (\r\n              <OptionItem key={i} index={i} text={e.text} selected={e.selected} tid={e.tid} onChange={this.onOTO2Select} />\r\n            ))}\r\n            <div className={isOTO3All ? \"dropdown-menu-title tool_menuItem_selected\" : \"dropdown-menu-title\"} onClick={this.onOTO3All}>\r\n              OTO3\r\n            </div> */}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst OptionItem = (props) => {\r\n  return (\r\n    <div className={props.selected ? \"tool_menuItem tool_menuItem_selected\" : \"tool_menuItem\"} onClick={() => props.onChange(props.tid, props.index, props.selected)}>\r\n      {props.text}\r\n      <span>\r\n        <i className=\"fa fa-check\" />\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ElementSelected = (props) => {\r\n  const selected = props.selected ? Array.from(props.selected) : [];\r\n  return (\r\n    <button onFocus={props.elementClick} className=\"toolDropdownItem\" style={{ width: \"100%\" }}>\r\n      <div\r\n        className=\"ant-select-selection\r\n            ant-select-selection--multiple\"\r\n      >\r\n        <ul>\r\n          {selected.map((e, i) => (\r\n            <InnerItem key={i} tid={e} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nconst InnerItem = function (props) {\r\n  return <li className=\"ant-select-selection__choice\">{ToolUtil.getTool(props.tid)}</li>;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}