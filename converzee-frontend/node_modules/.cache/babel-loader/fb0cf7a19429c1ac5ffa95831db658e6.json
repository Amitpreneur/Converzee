{"ast":null,"code":"import React,{Component}from\"react\";import Editor from\"../comman/Editor\";import{Switch}from\"antd\";import RequestHandler from\"../../actions/RequestHandler\";import{Link}from\"react-router-dom\";import{GET_AUTO_RESPONDER,GET_LIST_FROM_AUTORESPONDER,SAVE_LIST_ID}from\"../../actions/URLs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Responders extends Component{constructor(){super(...arguments);this.state={auto_data:[{id:1,name:'Mailchimp',serverName:'MAILCHIMP',icon:'/asset/auto/mailchimp.png',stateName:\"mailChimp\",active:false},{id:2,name:'Active Campaign',serverName:'ACTIVE_CAMPAIGN',icon:'/asset/auto/activecampaign.png',stateName:\"activeCampaign\",active:false},{id:3,name:'Aweber',serverName:'AWEBER',icon:'/asset/auto/aweber.png',stateName:\"aweber\",active:false},{id:4,name:'Constant Contact',serverName:'CONSTANT_CONTACT',icon:'asset/auto/constant_contact.png',stateName:\"constantContact\",active:false},{id:5,name:'Convert Kit',serverName:'CONVERT_KIT',icon:'asset/auto/convertkit.png',stateName:\"convertKit\",active:false},{id:6,name:'Infusion Soft',serverName:'INFUSION_SOFT',icon:'asset/auto/infusionsoft.png',stateName:\"infusionSoft\",active:false},{id:7,name:'Sendiio',serverName:'SENDIIO',icon:'asset/auto/sendiio.png',stateName:\"sendiio\",active:false},{id:8,name:'Mailvio',serverName:'MAILVIO',icon:'asset/auto/mailvio.png',stateName:\"mailVio\",active:false},{id:9,name:'Getresponse',serverName:'GETRESPONSE',icon:'asset/auto/getresponse.png',stateName:\"getResponse\",active:false},{id:10,name:'Sendlane',serverName:'SENDLANE',icon:'asset/auto/sendlane.png',stateName:\"sendlane\",active:false},{id:11,name:'Custom',serverName:'CUSTOM',icon:'asset/auto/custom_html.png',stateName:\"custom\",active:false}],lists:[],uid:\"\",mailServer:\"\",isLists:false,customList:[],ctAr:false};this.onSave=()=>{const mailData={uid:this.state.uid,mailServer:this.state.mailServer};RequestHandler.PostRequest(SAVE_LIST_ID,{userData:{...mailData}},(res,err)=>{if(res){if(res.data.success){window.gs.success(true,\"Autoresponder Save Successfully\");}else{window.gs.success(false,res.data.message);}}else{window.gs.success(false,\"Something Went Wrong\");}});};}componentDidMount(){RequestHandler.PostRequest(GET_AUTO_RESPONDER,{},(res,err)=>{if(res.data.success){let auto_data=this.state.auto_data,autoresponderData=res.data.autoResponder,newFormData=res.data.displayData,arList=[];if(autoresponderData.length>0){for(let i=0;i<auto_data.length;i++){for(let j=0;j<autoresponderData.length;j++){this.setState({mailServer:autoresponderData[0].mailServer});if(auto_data[i].serverName===autoresponderData[j].mailServer){auto_data[i].active=true;}}}this.getListFromAutoResponder(autoresponderData[0].mailServer,'');}if(newFormData.length>0){auto_data[auto_data.length-1].active=true;for(let k=0;k<newFormData.length;k++){arList.push({id:newFormData[k]._id,name:newFormData[k].name,formData:newFormData[k].formData});}}this.setState({auto_data:auto_data,isLists:newFormData.length>0||autoresponderData.length>0?true:false,customList:arList});}else{window.gs.success(false,\"Something Went Wrong\");}});}getListFromAutoResponder(mailServer,e){if(mailServer===\"CUSTOM\"){this.setState({ctAr:true},()=>{});}else{let data={action:\"getList\",responder:mailServer};RequestHandler.PostRequest(GET_LIST_FROM_AUTORESPONDER,data,(res,err)=>{if(res){let respData=res.data;if(respData.lists){let auto_data=this.state.auto_data;auto_data.forEach(el=>{if(el.serverName===mailServer){this.setState({lists:respData.lists,mailServer:mailServer,ctAr:false});}});}else{window.gs.success(false,res.data.message);}}else{window.gs.success(false,\"Something Went Wrong\");}});}this.props.onChange({mailServer:mailServer},e);}render(){const{auto_data,lists,isLists,customList,ctAr}=this.state;return isLists?/*#__PURE__*/_jsxs(\"div\",{className:\"cz_radio_parent row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:auto_data.map((item,index)=>{return item.active?/*#__PURE__*/_jsx(\"div\",{className:\"cz_custom_radio\",children:/*#__PURE__*/_jsxs(\"label\",{onChange:e=>this.getListFromAutoResponder(item.serverName,e),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"form-check-input\",name:\"responder\",defaultChecked:this.props.mailServer===item.serverName?true:false}),/*#__PURE__*/_jsx(\"span\",{className:\"form-check-label\",children:item.name},index)]},index)},index):null;})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"form\",{className:\"cz_responders_column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-elements\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Unique Id\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"cz_custom_input\",onChange:e=>{this.setState({uid:e.target.value});this.props.onChange({uid:e.target.value},e);customList.filter(cc=>{if(cc.id==e.target.value){this.props.onChange({formData:cc.formData},e);}});},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select List\"}),!ctAr?lists.map((list,i)=>{return/*#__PURE__*/_jsx(\"option\",{value:list.id,children:list.name},i+1);}):customList.map((cl,i)=>{return/*#__PURE__*/_jsx(\"option\",{value:cl.id,children:cl.name},i+1);})]})]})})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"cz_empty_box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"No AutoResponder available right now\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You have not added any AutoResponder so far. Click on the button below to add the AutoResponder.\"}),/*#__PURE__*/_jsx(Link,{className:\"cz_btn cz_orange_btn\",to:\"/AUTO_RESPONDER\",children:\"Add AutoResponder\"})]});}}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/OptinForm/Responders.js"],"names":["React","Component","Editor","Switch","RequestHandler","Link","GET_AUTO_RESPONDER","GET_LIST_FROM_AUTORESPONDER","SAVE_LIST_ID","Responders","state","auto_data","id","name","serverName","icon","stateName","active","lists","uid","mailServer","isLists","customList","ctAr","onSave","mailData","PostRequest","userData","res","err","data","success","window","gs","message","componentDidMount","autoresponderData","autoResponder","newFormData","displayData","arList","length","i","j","setState","getListFromAutoResponder","k","push","_id","formData","e","action","responder","respData","forEach","el","props","onChange","render","map","item","index","target","value","filter","cc","list","cl"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,OAASC,MAAT,KAAuB,MAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CAEA,OACEC,kBADF,CAEEC,2BAFF,CAGEC,YAHF,KAIO,oBAJP,C,wFAMA,cAAe,MAAMC,CAAAA,UAAN,QAAyBR,CAAAA,SAAU,wCAChDS,KADgD,CACxC,CACNC,SAAS,CAAG,CACV,CACEC,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,WAFT,CAGEC,UAAU,CAAG,WAHf,CAIEC,IAAI,CAAG,2BAJT,CAKEC,SAAS,CAAG,WALd,CAMEC,MAAM,CAAE,KANV,CADU,CASV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,iBAFT,CAGEC,UAAU,CAAG,iBAHf,CAIEC,IAAI,CAAG,gCAJT,CAKEC,SAAS,CAAG,gBALd,CAMEC,MAAM,CAAE,KANV,CATU,CAiBV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,QAFT,CAGEC,UAAU,CAAG,QAHf,CAIEC,IAAI,CAAG,wBAJT,CAKEC,SAAS,CAAG,QALd,CAMEC,MAAM,CAAE,KANV,CAjBU,CAyBV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,kBAFT,CAGEC,UAAU,CAAG,kBAHf,CAIEC,IAAI,CAAG,iCAJT,CAKEC,SAAS,CAAG,iBALd,CAMEC,MAAM,CAAE,KANV,CAzBU,CAiCV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,aAFT,CAGEC,UAAU,CAAG,aAHf,CAIEC,IAAI,CAAG,2BAJT,CAKEC,SAAS,CAAG,YALd,CAMEC,MAAM,CAAE,KANV,CAjCU,CAyCV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,eAFT,CAGEC,UAAU,CAAG,eAHf,CAIEC,IAAI,CAAG,6BAJT,CAKEC,SAAS,CAAG,cALd,CAMEC,MAAM,CAAE,KANV,CAzCU,CAkDV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,SAFT,CAGEC,UAAU,CAAG,SAHf,CAIEC,IAAI,CAAG,wBAJT,CAKEC,SAAS,CAAG,SALd,CAMEC,MAAM,CAAE,KANV,CAlDU,CA0DV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,SAFT,CAGEC,UAAU,CAAG,SAHf,CAIEC,IAAI,CAAG,wBAJT,CAKEC,SAAS,CAAG,SALd,CAMEC,MAAM,CAAE,KANV,CA1DU,CAkEV,CACEL,EAAE,CAAG,CADP,CAEEC,IAAI,CAAG,aAFT,CAGEC,UAAU,CAAG,aAHf,CAIEC,IAAI,CAAG,4BAJT,CAKEC,SAAS,CAAG,aALd,CAMEC,MAAM,CAAE,KANV,CAlEU,CA0EV,CACEL,EAAE,CAAG,EADP,CAEEC,IAAI,CAAG,UAFT,CAGEC,UAAU,CAAG,UAHf,CAIEC,IAAI,CAAG,yBAJT,CAKEC,SAAS,CAAG,UALd,CAMEC,MAAM,CAAE,KANV,CA1EU,CAkFV,CACEL,EAAE,CAAG,EADP,CAEEC,IAAI,CAAG,QAFT,CAGEC,UAAU,CAAG,QAHf,CAIEC,IAAI,CAAG,4BAJT,CAKEC,SAAS,CAAG,QALd,CAMEC,MAAM,CAAE,KANV,CAlFU,CADN,CA4FNC,KAAK,CAAE,EA5FD,CA6FNC,GAAG,CAAE,EA7FC,CA8FNC,UAAU,CAAE,EA9FN,CA+FNC,OAAO,CAAE,KA/FH,CAgGNC,UAAU,CAAE,EAhGN,CAiGNC,IAAI,CAAE,KAjGA,CADwC,MA8KhDC,MA9KgD,CA8KvC,IAAM,CACb,KAAMC,CAAAA,QAAQ,CAAG,CACfN,GAAG,CAAE,KAAKT,KAAL,CAAWS,GADD,CAEfC,UAAU,CAAE,KAAKV,KAAL,CAAWU,UAFR,CAAjB,CAKAhB,cAAc,CAACsB,WAAf,CAA2BlB,YAA3B,CAAyC,CAAEmB,QAAQ,CAAE,CAAE,GAAGF,QAAL,CAAZ,CAAzC,CAAwE,CAACG,GAAD,CAAMC,GAAN,GAAc,CACpF,GAAID,GAAJ,CAAS,CACP,GAAIA,GAAG,CAACE,IAAJ,CAASC,OAAb,CAAsB,CACpBC,MAAM,CAACC,EAAP,CAAUF,OAAV,CAAkB,IAAlB,CAAwB,iCAAxB,EACD,CAFD,IAEO,CACLC,MAAM,CAACC,EAAP,CAAUF,OAAV,CAAkB,KAAlB,CAAyBH,GAAG,CAACE,IAAJ,CAASI,OAAlC,EACD,CACF,CAND,IAMO,CACLF,MAAM,CAACC,EAAP,CAAUF,OAAV,CAAkB,KAAlB,CAAyB,sBAAzB,EACD,CACF,CAVD,EAWD,CA/L+C,EAqGhDI,iBAAiB,EAAG,CAClB/B,cAAc,CAACsB,WAAf,CAA2BpB,kBAA3B,CAA+C,EAA/C,CAAmD,CAACsB,GAAD,CAAMC,GAAN,GAAc,CAC/D,GAAGD,GAAG,CAACE,IAAJ,CAASC,OAAZ,CAAqB,CACnB,GAAIpB,CAAAA,SAAS,CAAG,KAAKD,KAAL,CAAWC,SAA3B,CAAsCyB,iBAAiB,CAAGR,GAAG,CAACE,IAAJ,CAASO,aAAnE,CAAkFC,WAAW,CAAGV,GAAG,CAACE,IAAJ,CAASS,WAAzG,CAAsHC,MAAM,CAAG,EAA/H,CACA,GAAGJ,iBAAiB,CAACK,MAAlB,CAA2B,CAA9B,CAAkC,CAChC,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAAC/B,SAAS,CAAC8B,MAAzB,CAAiCC,CAAC,EAAlC,CAAsC,CACpC,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAACP,iBAAiB,CAACK,MAAjC,CAAyCE,CAAC,EAA1C,CAA8C,CAC5C,KAAKC,QAAL,CAAc,CACZxB,UAAU,CAAEgB,iBAAiB,CAAC,CAAD,CAAjB,CAAqBhB,UADrB,CAAd,EAGA,GAAGT,SAAS,CAAC+B,CAAD,CAAT,CAAa5B,UAAb,GAA4BsB,iBAAiB,CAACO,CAAD,CAAjB,CAAqBvB,UAApD,CAAgE,CAC9DT,SAAS,CAAC+B,CAAD,CAAT,CAAazB,MAAb,CAAsB,IAAtB,CACD,CACF,CACF,CACD,KAAK4B,wBAAL,CAA8BT,iBAAiB,CAAC,CAAD,CAAjB,CAAqBhB,UAAnD,CAA+D,EAA/D,EACD,CACD,GAAGkB,WAAW,CAACG,MAAZ,CAAmB,CAAtB,CAAyB,CACvB9B,SAAS,CAACA,SAAS,CAAC8B,MAAV,CAAiB,CAAlB,CAAT,CAA8BxB,MAA9B,CAAuC,IAAvC,CACA,IAAI,GAAI6B,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAACR,WAAW,CAACG,MAA3B,CAAmCK,CAAC,EAApC,CAAwC,CACtCN,MAAM,CAACO,IAAP,CAAY,CACVnC,EAAE,CAAE0B,WAAW,CAACQ,CAAD,CAAX,CAAeE,GADT,CAEVnC,IAAI,CAAEyB,WAAW,CAACQ,CAAD,CAAX,CAAejC,IAFX,CAGVoC,QAAQ,CAAEX,WAAW,CAACQ,CAAD,CAAX,CAAeG,QAHf,CAAZ,EAKD,CACF,CACD,KAAKL,QAAL,CAAc,CACZjC,SAAS,CAAGA,SADA,CAEZU,OAAO,CAAEiB,WAAW,CAACG,MAAZ,CAAqB,CAArB,EAA0BL,iBAAiB,CAACK,MAAlB,CAA2B,CAArD,CAAyD,IAAzD,CAAgE,KAF7D,CAGZnB,UAAU,CAAEkB,MAHA,CAAd,EAMD,CA/BD,IA+BO,CACLR,MAAM,CAACC,EAAP,CAAUF,OAAV,CAAkB,KAAlB,CAAyB,sBAAzB,EACD,CACF,CAnCD,EAoCD,CAEDc,wBAAwB,CAACzB,UAAD,CAAa8B,CAAb,CAAgB,CACtC,GAAG9B,UAAU,GAAK,QAAlB,CAA4B,CAC1B,KAAKwB,QAAL,CAAc,CAACrB,IAAI,CAAG,IAAR,CAAd,CAA8B,IAAM,CAAE,CAAtC,EACD,CAFD,IAEO,CACL,GAAIO,CAAAA,IAAI,CAAG,CACTqB,MAAM,CAAG,SADA,CAETC,SAAS,CAAGhC,UAFH,CAAX,CAKAhB,cAAc,CAACsB,WAAf,CAA2BnB,2BAA3B,CAAwDuB,IAAxD,CAA8D,CAACF,GAAD,CAAKC,GAAL,GAAa,CACzE,GAAID,GAAJ,CAAS,CACP,GAAIyB,CAAAA,QAAQ,CAAGzB,GAAG,CAACE,IAAnB,CACA,GAAGuB,QAAQ,CAACnC,KAAZ,CAAmB,CACjB,GAAIP,CAAAA,SAAS,CAAG,KAAKD,KAAL,CAAWC,SAA3B,CACAA,SAAS,CAAC2C,OAAV,CAAmBC,EAAE,EAAI,CACvB,GAAGA,EAAE,CAACzC,UAAH,GAAkBM,UAArB,CAAiC,CAC/B,KAAKwB,QAAL,CAAc,CACZ1B,KAAK,CAAEmC,QAAQ,CAACnC,KADJ,CAEZE,UAAU,CAAEA,UAFA,CAGZG,IAAI,CAAG,KAHK,CAAd,EAKD,CACF,CARD,EASD,CAXD,IAWO,CACLS,MAAM,CAACC,EAAP,CAAUF,OAAV,CAAkB,KAAlB,CAAyBH,GAAG,CAACE,IAAJ,CAASI,OAAlC,EACD,CACF,CAhBD,IAgBO,CACLF,MAAM,CAACC,EAAP,CAAUF,OAAV,CAAkB,KAAlB,CAAyB,sBAAzB,EACD,CACF,CApBD,EAqBD,CACD,KAAKyB,KAAL,CAAWC,QAAX,CAAoB,CAACrC,UAAU,CAAGA,UAAd,CAApB,CAA+C8B,CAA/C,EACD,CAqBDQ,MAAM,EAAG,CACP,KAAM,CAAE/C,SAAF,CAAaO,KAAb,CAAoBG,OAApB,CAA6BC,UAA7B,CAAyCC,IAAzC,EAAkD,KAAKb,KAA7D,CACA,MAASW,CAAAA,OAAO,cACZ,aAAK,SAAS,CAAC,qBAAf,wBACE,YAAK,SAAS,CAAC,OAAf,UACGV,SAAS,CAACgD,GAAV,CAAc,CAACC,IAAD,CAAOC,KAAP,GAAgB,CAC/B,MAASD,CAAAA,IAAI,CAAC3C,MAAL,cACH,YAAK,SAAS,CAAC,iBAAf,uBACE,eAAmB,QAAQ,CAAGiC,CAAD,EAAO,KAAKL,wBAAL,CAA8Be,IAAI,CAAC9C,UAAnC,CAA+CoC,CAA/C,CAApC,wBAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,kBAA9B,CAAiD,IAAI,CAAC,WAAtD,CAAkE,cAAc,CAAE,KAAKM,KAAL,CAAWpC,UAAX,GAA0BwC,IAAI,CAAC9C,UAA/B,CAA4C,IAA5C,CAAmD,KAArI,EAFJ,cAGI,aAAM,SAAS,CAAC,kBAAhB,UACK8C,IAAI,CAAC/C,IADV,EAAwCgD,KAAxC,CAHJ,GAAYA,KAAZ,CADF,EAAsCA,KAAtC,CADG,CASI,IATb,CAWD,CAZE,CADH,EADF,cAgBE,YAAK,SAAS,CAAC,OAAf,uBACE,aAAM,SAAS,CAAC,sBAAhB,uBACE,aAAK,SAAS,CAAC,eAAf,wBACE,2CADF,cAEE,gBAAQ,SAAS,CAAC,iBAAlB,CAAoC,QAAQ,CAAGX,CAAD,EAAM,CAClD,KAAKN,QAAL,CAAc,CAACzB,GAAG,CAAE+B,CAAC,CAACY,MAAF,CAASC,KAAf,CAAd,EACA,KAAKP,KAAL,CAAWC,QAAX,CAAoB,CAACtC,GAAG,CAAE+B,CAAC,CAACY,MAAF,CAASC,KAAf,CAApB,CAA2Cb,CAA3C,EACA5B,UAAU,CAAC0C,MAAX,CAAmBC,EAAD,EAAQ,CACxB,GAAGA,EAAE,CAACrD,EAAH,EAASsC,CAAC,CAACY,MAAF,CAASC,KAArB,CAA4B,CAC1B,KAAKP,KAAL,CAAWC,QAAX,CAAoB,CAACR,QAAQ,CAAEgB,EAAE,CAAChB,QAAd,CAApB,CAA6CC,CAA7C,EACD,CACF,CAJD,EAKD,CARD,wBASE,uCATF,CAUI,CAAC3B,IAAD,CAAQL,KAAK,CAACyC,GAAN,CAAU,CAACO,IAAD,CAAOxB,CAAP,GAAa,CAC/B,mBAAO,eAAkB,KAAK,CAAEwB,IAAI,CAACtD,EAA9B,UAAmCsD,IAAI,CAACrD,IAAxC,EAAa6B,CAAC,CAAC,CAAf,CAAP,CACD,CAFS,CAAR,CAEGpB,UAAU,CAACqC,GAAX,CAAe,CAACQ,EAAD,CAAKzB,CAAL,GAAW,CAC7B,mBAAO,eAAkB,KAAK,CAAEyB,EAAE,CAACvD,EAA5B,UAAiCuD,EAAE,CAACtD,IAApC,EAAa6B,CAAC,CAAC,CAAf,CAAP,CACD,CAFI,CAZP,GAFF,GADF,EADF,EAhBF,GADY,cA+CV,aAAK,SAAS,CAAC,cAAf,wBACA,4DADA,cAEA,uHAFA,cAGA,KAAC,IAAD,EAAM,SAAS,CAAC,sBAAhB,CAAuC,EAAE,CAAC,iBAA1C,+BAHA,GA/CN,CAqDD,CAxP+C","sourcesContent":["import React, { Component } from \"react\";\r\nimport Editor from \"../comman/Editor\";\r\nimport { Switch } from \"antd\";\r\nimport RequestHandler from \"../../actions/RequestHandler\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {\r\n  GET_AUTO_RESPONDER,\r\n  GET_LIST_FROM_AUTORESPONDER,\r\n  SAVE_LIST_ID\r\n} from \"../../actions/URLs\";\r\n\r\nexport default class Responders extends Component {\r\n  state = {\r\n    auto_data : [\r\n      {\r\n        id : 1,\r\n        name : 'Mailchimp',\r\n        serverName : 'MAILCHIMP',\r\n        icon : '/asset/auto/mailchimp.png',\r\n        stateName : \"mailChimp\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 2,\r\n        name : 'Active Campaign',\r\n        serverName : 'ACTIVE_CAMPAIGN',\r\n        icon : '/asset/auto/activecampaign.png',\r\n        stateName : \"activeCampaign\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 3,\r\n        name : 'Aweber',\r\n        serverName : 'AWEBER',\r\n        icon : '/asset/auto/aweber.png',\r\n        stateName : \"aweber\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 4,\r\n        name : 'Constant Contact',\r\n        serverName : 'CONSTANT_CONTACT',\r\n        icon : 'asset/auto/constant_contact.png',\r\n        stateName : \"constantContact\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 5,\r\n        name : 'Convert Kit',\r\n        serverName : 'CONVERT_KIT',\r\n        icon : 'asset/auto/convertkit.png',\r\n        stateName : \"convertKit\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 6,\r\n        name : 'Infusion Soft',\r\n        serverName : 'INFUSION_SOFT',\r\n        icon : 'asset/auto/infusionsoft.png',\r\n        stateName : \"infusionSoft\",\r\n        active: false\r\n      },\r\n      \r\n      {\r\n        id : 7,\r\n        name : 'Sendiio',\r\n        serverName : 'SENDIIO',\r\n        icon : 'asset/auto/sendiio.png',\r\n        stateName : \"sendiio\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 8,\r\n        name : 'Mailvio',\r\n        serverName : 'MAILVIO',\r\n        icon : 'asset/auto/mailvio.png',\r\n        stateName : \"mailVio\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 9,\r\n        name : 'Getresponse',\r\n        serverName : 'GETRESPONSE',\r\n        icon : 'asset/auto/getresponse.png',\r\n        stateName : \"getResponse\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 10,\r\n        name : 'Sendlane',\r\n        serverName : 'SENDLANE',\r\n        icon : 'asset/auto/sendlane.png',\r\n        stateName : \"sendlane\",\r\n        active: false\r\n      },\r\n      {\r\n        id : 11,\r\n        name : 'Custom',\r\n        serverName : 'CUSTOM',\r\n        icon : 'asset/auto/custom_html.png',\r\n        stateName : \"custom\",\r\n        active: false\r\n      }\r\n    ],\r\n    lists: [],\r\n    uid: \"\",\r\n    mailServer: \"\",\r\n    isLists: false,\r\n    customList: [],\r\n    ctAr: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    RequestHandler.PostRequest(GET_AUTO_RESPONDER, {} ,(res, err) => {\r\n      if(res.data.success) {\r\n        let auto_data = this.state.auto_data, autoresponderData = res.data.autoResponder, newFormData = res.data.displayData, arList = []; \r\n        if(autoresponderData.length > 0 ) {\r\n          for(let i=0; i<auto_data.length; i++) {\r\n            for(let j=0; j<autoresponderData.length; j++) {\r\n              this.setState({\r\n                mailServer: autoresponderData[0].mailServer\r\n              })\r\n              if(auto_data[i].serverName === autoresponderData[j].mailServer) {\r\n                auto_data[i].active = true;\r\n              }\r\n            }\r\n          }\r\n          this.getListFromAutoResponder(autoresponderData[0].mailServer, '');\r\n        } \r\n        if(newFormData.length>0) {\r\n          auto_data[auto_data.length-1].active = true;\r\n          for(let k=0; k<newFormData.length; k++) {\r\n            arList.push({\r\n              id: newFormData[k]._id, \r\n              name: newFormData[k].name,\r\n              formData: newFormData[k].formData\r\n            });\r\n          }\r\n        }\r\n        this.setState({\r\n          auto_data : auto_data,\r\n          isLists: newFormData.length > 0 || autoresponderData.length > 0 ? true : false,\r\n          customList: arList\r\n        })\r\n        \r\n      } else {\r\n        window.gs.success(false, \"Something Went Wrong\");\r\n      }\r\n    });\r\n  }\r\n\r\n  getListFromAutoResponder(mailServer, e) {\r\n    if(mailServer === \"CUSTOM\") {\r\n      this.setState({ctAr : true} , () => {});\r\n    } else {\r\n      let data = {\r\n        action : \"getList\", \r\n        responder : mailServer\r\n      }\r\n  \r\n      RequestHandler.PostRequest(GET_LIST_FROM_AUTORESPONDER, data, (res,err) => {\r\n        if (res) {\r\n          let respData = res.data;\r\n          if(respData.lists) {\r\n            let auto_data = this.state.auto_data;\r\n            auto_data.forEach( el => {\r\n              if(el.serverName === mailServer) {\r\n                this.setState({\r\n                  lists: respData.lists,\r\n                  mailServer: mailServer,\r\n                  ctAr : false\r\n                });\r\n              }\r\n            })\r\n          } else {\r\n            window.gs.success(false, res.data.message);\r\n          }\r\n        } else {\r\n          window.gs.success(false, \"Something Went Wrong\");\r\n        }\r\n      });\r\n    }\r\n    this.props.onChange({mailServer : mailServer}, e)\r\n  }  \r\n  \r\n  onSave = () => {\r\n    const mailData = {\r\n      uid: this.state.uid,\r\n      mailServer: this.state.mailServer\r\n    }\r\n\r\n    RequestHandler.PostRequest(SAVE_LIST_ID, { userData: { ...mailData } }, (res, err) => {\r\n      if (res) {\r\n        if (res.data.success) {\r\n          window.gs.success(true, \"Autoresponder Save Successfully\");\r\n        } else {\r\n          window.gs.success(false, res.data.message);\r\n        }\r\n      } else {\r\n        window.gs.success(false, \"Something Went Wrong\");\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { auto_data, lists, isLists, customList, ctAr } = this.state;\r\n    return ( isLists ? \r\n        <div className=\"cz_radio_parent row\">\r\n          <div className=\"col-6\">\r\n            {auto_data.map((item, index) =>{\r\n            return ( item.active ? \r\n                  <div className=\"cz_custom_radio\" key={index}>\r\n                    <label key={index} onChange={(e) => this.getListFromAutoResponder(item.serverName, e)}>\r\n                        {/* <input type=\"checkbox\" name=\"responder\"/> */}\r\n                        <input type=\"radio\" className=\"form-check-input\" name=\"responder\" defaultChecked={this.props.mailServer === item.serverName ? true : false}/>\r\n                        <span className=\"form-check-label\" key={index}>\r\n                            {item.name}\r\n                        </span>\r\n                    </label>\r\n                </div> : null\r\n            )\r\n          })}\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <form className=\"cz_responders_column\">\r\n              <div className=\"form-elements\">\r\n                <label>Select Unique Id</label>\r\n                <select className=\"cz_custom_input\" onChange={(e)=> {\r\n                  this.setState({uid: e.target.value});\r\n                  this.props.onChange({uid: e.target.value}, e); \r\n                  customList.filter((cc) => {\r\n                    if(cc.id == e.target.value) {\r\n                      this.props.onChange({formData: cc.formData}, e);\r\n                    }\r\n                  })\r\n                }}>\r\n                  <option>Select List</option>\r\n                  { !ctAr ? lists.map((list, i) => {\r\n                    return(<option key={i+1} value={list.id}>{list.name}</option>)\r\n                  }) : customList.map((cl, i) => {\r\n                    return(<option key={i+1} value={cl.id}>{cl.name}</option>)\r\n                  })}\r\n                </select>\r\n              </div>\r\n              {/* <div className=\"cz_responder_btns\">\r\n                <button className=\"cz_btn cz_orange_btn\" type=\"button\" onClick={() => {\r\n                    this.onSave()}\r\n                  }\r\n                >Submit</button>\r\n              </div> */}\r\n            </form> \r\n          </div>\r\n        </div>\r\n        : <div className=\"cz_empty_box\">\r\n          <h2>No AutoResponder available right now</h2>\r\n          <p>You have not added any AutoResponder so far. Click on the button below to add the AutoResponder.</p>\r\n          <Link className=\"cz_btn cz_orange_btn\" to=\"/AUTO_RESPONDER\">Add AutoResponder</Link>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}