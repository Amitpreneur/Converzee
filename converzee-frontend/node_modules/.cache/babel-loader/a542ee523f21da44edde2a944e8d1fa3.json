{"ast":null,"code":"var _jsxFileName = \"/opt/bitnami/apache/htdocs/converzee-frontend/src/components/OptinForm/index.js\";\nimport React, { Component } from \"react\";\nimport SideBar from \"./SideBar\";\nimport ToolUtil, { generateIframeContant, getDefaultItems } from \"../../utils/ToolUtil\";\nimport Util, { generateFile, parseImgUrl } from \"../Util\";\nimport Text from \"./Text\";\nimport Responders from \"./Responders\";\nimport CTA from \"./CTA\";\nimport { ToolLayout, ButtonsGroup } from \"../layout/ToolLayout\";\nimport { getPath, GET_PIXEL, SAVE_TOOL, GET_ONE_TOOL } from \"../../actions/URLs\";\nimport RequestHandler from \"../../actions/RequestHandler\";\nimport { Modal } from \"antd\";\nimport Style from \"./Style\";\nimport Code from \"./Code\";\nimport { OptinFormModalResponse, OptinFormModal } from \"../utils/Modal\";\nimport Time from \"./Time\";\nimport { Preview } from \"./Preview\";\nimport { ReponsiveImage } from \"../comman/PreviewAble\";\nimport Video from \"../pages/tools/VideoPopup/Video\";\nimport Image from \"../pages/tools/VideoPopup/Image\";\nimport Icons from \"./Icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class OptinForm extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      video: {\n        url: \"\",\n        videoType: \"youtube\"\n      },\n      toolName: \"\",\n      toolId: \"\",\n      preview: false,\n      _id: null,\n      activeTab: 2,\n      toolData: {\n        text: '<span style=\"font-size: 36px;\"><font color=\"#ff9c00\">Converzee</font></span>',\n        cta: '<font color=\"#efefef\"><span style=\"font-size: 18px;\">Buy Now</span></font>',\n        layout: 0,\n        style: [{\n          name: \"Background\",\n          id: \"backgound\",\n          value: \"TRANSPARENT\"\n        }, {\n          name: \"CTA Backgound\",\n          id: \"ctabackgound\",\n          value: \"#ff3a65\"\n        }],\n        timerType: \"DATE_AND_TIME_BASED\",\n        endDateTime: new Date(),\n        timeZone: Util.getTimeZoneList()[0].value,\n        postExpiryAction: \"hide\",\n        ctaRedirectUrl: \"\",\n        redirectUrl: \"\",\n        days: 2,\n        hours: 2,\n        minutes: 2,\n        seconds: 2,\n        bgImg: \"#fff\",\n        isBGIMG: false,\n        noThanks: \"No thanks\",\n        subTitle: \"Subtitle here\",\n        position: \"TOP\",\n        isNameInput: false,\n        ctaAction: \"redirect\"\n      },\n      CODE: {\n        include: [{\n          type: \"contains\",\n          url: \"\"\n        }],\n        exclude: [{\n          type: \"contains\",\n          url: null\n        }]\n      },\n      AutoResponder: {\n        mailServer: \"MAILCHIMP\",\n        uid: \"\",\n        formData: \"\"\n      }\n    };\n    this.loaded = false;\n    this.layouts = [\"asset/optin-layouts/0.png\", \"asset/optin-layouts/0.png\", \"asset/optin-layouts/0.png\"];\n\n    this.getLayoutName = i => {\n      if (i == 0) return \"Hello Bar\";\n      if (i == 1) return \"Hello Bar + Timer\";\n      if (i == 2) return \"Exit Intent\";\n      if (i == 3) return \"Autoplay Video\";\n      if (i == 4) return \"Purchase Proof\";\n    };\n\n    this.onLayoutChange = index => {\n      const {\n        toolData\n      } = this.state;\n      this.setState({\n        toolData: { ...toolData,\n          layout: index\n        }\n      });\n    };\n\n    this.onChangeActive = tabIndex => {\n      const {\n        activeTab\n      } = this.state;\n\n      if (activeTab !== tabIndex) {\n        this.setState({\n          activeTab: tabIndex\n        });\n      }\n    };\n\n    this.codeChange = data => {\n      this.setState({\n        CODE: data\n      });\n    };\n\n    this.changeAutoResponder = data => {\n      this.setState({\n        AutoResponder: { ...this.state.AutoResponder,\n          ...data\n        }\n      });\n    };\n\n    this.onUpdate = data => {\n      const {\n        toolData\n      } = this.state;\n      this.setState({\n        toolData: { ...toolData,\n          ...data\n        }\n      });\n    };\n\n    this.renderMain = () => {\n      const {\n        activeTab,\n        toolData,\n        CODE\n      } = this.state;\n      let component = null;\n      if (!this.loaded) return null;\n\n      switch (activeTab) {\n        case 1:\n          component = /*#__PURE__*/_jsxDEV(Video, {\n            onVideoChange: this.onVideoChange,\n            layout: toolData.layout,\n            items: this.layouts,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 2:\n          component = /*#__PURE__*/_jsxDEV(Text, {\n            text: toolData.text,\n            isNameInput: toolData.isNameInput,\n            subTitle: toolData.subTitle,\n            layout: toolData.layout,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 3:\n          component = /*#__PURE__*/_jsxDEV(CTA, {\n            cta: toolData.cta,\n            ctaRedirectUrl: toolData.ctaRedirectUrl,\n            ctaAction: toolData.ctaAction,\n            position: toolData.position,\n            layout: toolData.layout,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 4:\n          component = /*#__PURE__*/_jsxDEV(Style, {\n            style: toolData.style,\n            bgImg: toolData.bgImg,\n            isBGIMG: toolData.isBGIMG,\n            layout: toolData.layout,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 5:\n          component = /*#__PURE__*/_jsxDEV(Code, { ...CODE,\n            onChange: this.codeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 6:\n          component = /*#__PURE__*/_jsxDEV(Time, {\n            timerType: toolData.timerType,\n            endDateTime: toolData.endDateTime,\n            timeZone: toolData.timeZone,\n            postExpiryAction: toolData.postExpiryAction,\n            redirectUrl: toolData.redirectUrl,\n            days: toolData.days,\n            hours: toolData.hours,\n            minutes: toolData.minutes,\n            seconds: toolData.seconds,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }, this);\n          break;\n\n        case 7:\n          component = /*#__PURE__*/_jsxDEV(Responders, {\n            mailServer: this.state.AutoResponder.mailServer,\n            uid: this.state.AutoResponder.uid,\n            onChange: this.changeAutoResponder\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 8:\n          component = /*#__PURE__*/_jsxDEV(Image, {\n            layout: toolData.layout,\n            items: this.layouts,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 21\n          }, this);\n          break;\n\n        case 9:\n          component = /*#__PURE__*/_jsxDEV(Icons, {\n            layout: toolData.layout,\n            items: this.layouts,\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 21\n          }, this);\n          break;\n\n        default:\n          component = /*#__PURE__*/_jsxDEV(Text, {\n            onChange: this.onUpdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }, this);\n          break;\n      }\n\n      return component;\n    };\n\n    this.onClickSave = () => {\n      if (this.state.CODE.include[0].url !== \"\") {\n        RequestHandler.PostRequest(SAVE_TOOL, {\n          toolData: OptinFormModal(this.state)\n        }, (res, err) => {\n          if (res) {\n            const data1 = res.data;\n\n            if (data1.success) {\n              Modal.success({\n                content: data1.message\n              });\n              setTimeout(() => {\n                this.props.history.push(\"/Campaigns\");\n              }, 1000);\n            }\n          }\n        });\n      } else {\n        Modal.warning({\n          content: \"Should Contain atleast one trigger point\"\n        });\n      }\n    };\n\n    this.renderRight = () => {\n      const {\n        toolData,\n        activeTab\n      } = this.state;\n\n      if (toolData.layout === 2 && toolData.isBGIMG) {\n        return /*#__PURE__*/_jsxDEV(ReponsiveImage, {\n          isImg: true,\n          url: toolData.bgImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 14\n        }, this);\n      }\n\n      if (toolData.layout === 0 && activeTab !== 7) {\n        return /*#__PURE__*/_jsxDEV(ReponsiveImage, {\n          isAs: true,\n          url: \"asset/hb3.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 14\n        }, this);\n      }\n\n      if (toolData.layout === 1 && activeTab !== 7) {\n        return /*#__PURE__*/_jsxDEV(ReponsiveImage, {\n          isAs: true,\n          url: \"asset/hbt3.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 14\n        }, this);\n      }\n\n      if (toolData.layout === 2 && activeTab !== 7) {\n        return /*#__PURE__*/_jsxDEV(ReponsiveImage, {\n          isAs: true,\n          url: \"asset/exit_pop_up.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 14\n        }, this);\n      }\n    };\n\n    this.back = () => {\n      this.props.history.push(\"/Dashboard\");\n    };\n\n    this.togglePreview = () => {\n      const {\n        preview\n      } = this.state;\n      this.setState({\n        preview: !preview\n      });\n    };\n  }\n\n  componentWillMount() {\n    if (window.gs.ie) {\n      const ie = getDefaultItems(window.gs.ie);\n      let {\n        toolData\n      } = this.state;\n      this.state.toolData = { ...toolData,\n        ...ie\n      };\n      window.gs.ie = null;\n    }\n  }\n\n  componentDidMount() {\n    const id = this.props.match ? this.props.match.params ? this.props.match.params.id : null : null;\n\n    if (id) {\n      RequestHandler.PostRequest(GET_ONE_TOOL + id, {}, (res, err) => {\n        this.loaded = true;\n\n        if (res) {\n          Util.isRedirected = true;\n          const data = OptinFormModalResponse(res);\n\n          if (data) {\n            this.setState(data, () => {\n              window.gs.navTitle(ToolUtil.getTool(data.toolId) + \"  \" + this.getLayoutName(this.state.toolData.layout) + \"  \" + \"(\" + data.name + \")\");\n            });\n          }\n        }\n      });\n    } else {\n      let toolId = 19;\n      this.loaded = true;\n      const defLayout = window.gs.defaultLayout || 0;\n      this.onLayoutChange(defLayout);\n\n      if (defLayout === 3) {\n        this.setState({\n          activeTab: 1\n        });\n      }\n\n      this.setState({\n        toolId: toolId,\n        toolName: ToolUtil.getTool(toolId),\n        name: Util.CAMPAIGNS_NAME\n      });\n      Util.RedirectWhenCampaignEmpty(this.props);\n      window.gs.navTitle(ToolUtil.getTool(toolId) + \"  \" + this.getLayoutName(defLayout) + \"  \" + \"(\" + Util.CAMPAIGNS_NAME + \")\");\n      delete window.gs.defaultLayout;\n    }\n  }\n\n  render() {\n    const {\n      preview,\n      activeTab\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(ToolLayout, {\n      children: [preview ? /*#__PURE__*/_jsxDEV(Preview, { ...this.state,\n        onClose: this.togglePreview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 20\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-10 toolItem\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: activeTab === 7 ? \"col-md-12\" : \"col-md-6\",\n              children: this.renderMain()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 mt-2\",\n              children: this.renderRight()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ButtonsGroup, {\n              preview: () => {\n                this.setState({\n                  preview: !preview\n                });\n              },\n              backUrl: this.back,\n              save: this.onClickSave\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1 sideBarButtomPanel\",\n          children: /*#__PURE__*/_jsxDEV(SideBar, {\n            layout: this.state.toolData.layout,\n            activeTab: this.state.activeTab,\n            onChangeActive: this.onChangeActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/OptinForm/index.js"],"names":["React","Component","SideBar","ToolUtil","generateIframeContant","getDefaultItems","Util","generateFile","parseImgUrl","Text","Responders","CTA","ToolLayout","ButtonsGroup","getPath","GET_PIXEL","SAVE_TOOL","GET_ONE_TOOL","RequestHandler","Modal","Style","Code","OptinFormModalResponse","OptinFormModal","Time","Preview","ReponsiveImage","Video","Image","Icons","OptinForm","state","video","url","videoType","toolName","toolId","preview","_id","activeTab","toolData","text","cta","layout","style","name","id","value","timerType","endDateTime","Date","timeZone","getTimeZoneList","postExpiryAction","ctaRedirectUrl","redirectUrl","days","hours","minutes","seconds","bgImg","isBGIMG","noThanks","subTitle","position","isNameInput","ctaAction","CODE","include","type","exclude","AutoResponder","mailServer","uid","formData","loaded","layouts","getLayoutName","i","onLayoutChange","index","setState","onChangeActive","tabIndex","codeChange","data","changeAutoResponder","onUpdate","renderMain","component","onVideoChange","onClickSave","PostRequest","res","err","data1","success","content","message","setTimeout","props","history","push","warning","renderRight","back","togglePreview","componentWillMount","window","gs","ie","componentDidMount","match","params","isRedirected","navTitle","getTool","defLayout","defaultLayout","CAMPAIGNS_NAME","RedirectWhenCampaignEmpty","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport SideBar from \"./SideBar\";\r\nimport ToolUtil, { generateIframeContant, getDefaultItems } from \"../../utils/ToolUtil\";\r\nimport Util, { generateFile, parseImgUrl } from \"../Util\";\r\nimport Text from \"./Text\";\r\nimport Responders from \"./Responders\";\r\nimport CTA from \"./CTA\";\r\nimport { ToolLayout, ButtonsGroup } from \"../layout/ToolLayout\";\r\nimport { getPath, GET_PIXEL, SAVE_TOOL, GET_ONE_TOOL } from \"../../actions/URLs\";\r\nimport RequestHandler from \"../../actions/RequestHandler\";\r\nimport { Modal } from \"antd\";\r\nimport Style from \"./Style\";\r\nimport Code from \"./Code\";\r\nimport { OptinFormModalResponse, OptinFormModal } from \"../utils/Modal\";\r\nimport Time from \"./Time\";\r\nimport { Preview } from \"./Preview\";\r\nimport { ReponsiveImage } from \"../comman/PreviewAble\";\r\nimport Video from \"../pages/tools/VideoPopup/Video\";\r\nimport Image from \"../pages/tools/VideoPopup/Image\";\r\nimport Icons from \"./Icons\";\r\n\r\nexport default class OptinForm extends Component {\r\n  state = {\r\n    video: { url: \"\", videoType: \"youtube\" },\r\n    toolName: \"\",\r\n    toolId: \"\",\r\n    preview: false,\r\n    _id: null,\r\n    activeTab: 2,\r\n    toolData: {\r\n      text: '<span style=\"font-size: 36px;\"><font color=\"#ff9c00\">Converzee</font></span>',\r\n      cta: '<font color=\"#efefef\"><span style=\"font-size: 18px;\">Buy Now</span></font>',\r\n      layout: 0,\r\n      style: [\r\n        { name: \"Background\", id: \"backgound\", value: \"TRANSPARENT\" },\r\n        { name: \"CTA Backgound\", id: \"ctabackgound\", value: \"#ff3a65\" },\r\n      ],\r\n      timerType: \"DATE_AND_TIME_BASED\",\r\n      endDateTime: new Date(),\r\n      timeZone: Util.getTimeZoneList()[0].value,\r\n      postExpiryAction: \"hide\",\r\n      ctaRedirectUrl: \"\",\r\n      redirectUrl: \"\",\r\n      days: 2,\r\n      hours: 2,\r\n      minutes: 2,\r\n      seconds: 2,\r\n      bgImg: \"#fff\",\r\n      isBGIMG: false,\r\n      noThanks: \"No thanks\",\r\n      subTitle: \"Subtitle here\",\r\n      position: \"TOP\",\r\n      isNameInput: false,\r\n      ctaAction: \"redirect\",\r\n    },\r\n    CODE: { include: [{ type: \"contains\", url: \"\" }], exclude: [{ type: \"contains\", url: null }] },\r\n    AutoResponder: {\r\n      mailServer: \"MAILCHIMP\",\r\n      uid: \"\",\r\n      formData: \"\"\r\n    },\r\n  };\r\n  loaded = false;\r\n  layouts = [\"asset/optin-layouts/0.png\", \"asset/optin-layouts/0.png\", \"asset/optin-layouts/0.png\"];\r\n\r\n  componentWillMount() {\r\n    if (window.gs.ie) {\r\n      const ie = getDefaultItems(window.gs.ie);\r\n      let { toolData } = this.state;\r\n      this.state.toolData = { ...toolData, ...ie };\r\n      window.gs.ie = null;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match ? (this.props.match.params ? this.props.match.params.id : null) : null;\r\n    if (id) {\r\n      RequestHandler.PostRequest(GET_ONE_TOOL + id, {}, (res, err) => {\r\n        this.loaded = true;\r\n        if (res) {\r\n          Util.isRedirected = true;\r\n          const data = OptinFormModalResponse(res);\r\n          if (data) {\r\n            this.setState(data, () => {\r\n              window.gs.navTitle(ToolUtil.getTool(data.toolId) + \"  \" + this.getLayoutName(this.state.toolData.layout) + \"  \" + \"(\" + data.name + \")\");\r\n            });\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      let toolId = 19; this.loaded = true;\r\n      const defLayout = window.gs.defaultLayout || 0;\r\n      this.onLayoutChange(defLayout);\r\n      if(defLayout === 3){\r\n        this.setState({ activeTab: 1 });\r\n      }\r\n      this.setState({ toolId: toolId, toolName: ToolUtil.getTool(toolId), name: Util.CAMPAIGNS_NAME });\r\n      Util.RedirectWhenCampaignEmpty(this.props);\r\n      window.gs.navTitle(ToolUtil.getTool(toolId) + \"  \" + this.getLayoutName(defLayout) + \"  \" + \"(\" + Util.CAMPAIGNS_NAME + \")\");\r\n      delete window.gs.defaultLayout;\r\n    }\r\n\r\n  }\r\n  getLayoutName = (i) => {\r\n    if (i == 0) return \"Hello Bar\";\r\n    if (i == 1) return \"Hello Bar + Timer\";\r\n    if (i == 2) return \"Exit Intent\";\r\n    if (i == 3) return \"Autoplay Video\";\r\n    if (i == 4) return \"Purchase Proof\";\r\n  };\r\n  onLayoutChange = (index) => {\r\n    const { toolData } = this.state;\r\n    this.setState({ toolData: { ...toolData, layout: index } });\r\n  };\r\n\r\n  onChangeActive = (tabIndex) => {\r\n    const { activeTab } = this.state;\r\n    if (activeTab !== tabIndex) {\r\n      this.setState({ activeTab: tabIndex });\r\n    }\r\n  };\r\n\r\n  codeChange = (data) => {\r\n    this.setState({ CODE: data });\r\n  };\r\n\r\n  changeAutoResponder = (data) => {\r\n    this.setState({AutoResponder: { ...this.state.AutoResponder, ...data} });\r\n  }\r\n\r\n  onUpdate = (data) => {\r\n    const { toolData } = this.state;\r\n    this.setState({ toolData: { ...toolData, ...data } });\r\n  };\r\n\r\n  renderMain = () => {\r\n    const { activeTab, toolData, CODE } = this.state;\r\n    let component = null;\r\n    if (!this.loaded) return null;\r\n    switch (activeTab) {\r\n      case 1:\r\n        component = <Video onVideoChange={this.onVideoChange} layout={toolData.layout} items={this.layouts} onChange={this.onUpdate}/>;\r\n        break;\r\n      case 2:\r\n        component = <Text text={toolData.text} isNameInput={toolData.isNameInput} subTitle={toolData.subTitle} layout={toolData.layout} onChange={this.onUpdate} />;\r\n        break;\r\n      case 3:\r\n        component = <CTA cta={toolData.cta} ctaRedirectUrl={toolData.ctaRedirectUrl} ctaAction={toolData.ctaAction} position={toolData.position} layout={toolData.layout} onChange={this.onUpdate} />;\r\n        break;\r\n      case 4:\r\n        component = <Style style={toolData.style} bgImg={toolData.bgImg} isBGIMG={toolData.isBGIMG} layout={toolData.layout} onChange={this.onUpdate} />;\r\n        break;\r\n      case 5:\r\n        component = <Code {...CODE} onChange={this.codeChange} />;\r\n        break;\r\n      case 6:\r\n        component = (\r\n          <Time\r\n            timerType={toolData.timerType}\r\n            endDateTime={toolData.endDateTime}\r\n            timeZone={toolData.timeZone}\r\n            postExpiryAction={toolData.postExpiryAction}\r\n            redirectUrl={toolData.redirectUrl}\r\n            days={toolData.days}\r\n            hours={toolData.hours}\r\n            minutes={toolData.minutes}\r\n            seconds={toolData.seconds}\r\n            onChange={this.onUpdate}\r\n          />\r\n        );\r\n        break;\r\n      case 7:\r\n        component = <Responders mailServer={this.state.AutoResponder.mailServer} uid={this.state.AutoResponder.uid} onChange={this.changeAutoResponder} />;\r\n        break;\r\n      case 8:\r\n        component = <Image layout={toolData.layout} items={this.layouts} onChange={this.onUpdate} />;\r\n        break;\r\n      case 9:\r\n        component = <Icons layout={toolData.layout} items={this.layouts} onChange={this.onUpdate} />;\r\n        break;\r\n      default:\r\n        component = <Text onChange={this.onUpdate} />;\r\n        break;\r\n    }\r\n    return component;\r\n  };\r\n\r\n  onClickSave = () => {\r\n    if (this.state.CODE.include[0].url !== \"\") {\r\n      RequestHandler.PostRequest(SAVE_TOOL, { toolData: OptinFormModal(this.state) }, (res, err) => {\r\n        if (res) {\r\n          const data1 = res.data;\r\n          if (data1.success) {\r\n            Modal.success({\r\n              content: data1.message,\r\n            });\r\n            setTimeout(() => {\r\n              this.props.history.push(\"/Campaigns\");\r\n            }, 1000);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      Modal.warning({\r\n        content: \"Should Contain atleast one trigger point\",\r\n      });\r\n    }\r\n  };\r\n\r\n  renderRight = () => {\r\n    const { toolData, activeTab } = this.state;\r\n    if (toolData.layout === 2 && toolData.isBGIMG) {\r\n      return <ReponsiveImage isImg={true} url={toolData.bgImg} />;\r\n    }\r\n    if (toolData.layout === 0 && activeTab !== 7) {\r\n      return <ReponsiveImage isAs={true} url={\"asset/hb3.png\"} />;\r\n    }\r\n    if (toolData.layout === 1 && activeTab !== 7) {\r\n      return <ReponsiveImage isAs={true} url={\"asset/hbt3.png\"} />;\r\n    }\r\n    if (toolData.layout === 2 && activeTab !== 7) {\r\n      return <ReponsiveImage isAs={true} url={\"asset/exit_pop_up.png\"} />;\r\n    }\r\n  };\r\n\r\n  back = () => {\r\n    this.props.history.push(\"/Dashboard\");\r\n  };\r\n\r\n  togglePreview = () => {\r\n    const { preview } = this.state;\r\n    this.setState({ preview: !preview });\r\n  };\r\n\r\n  render() {\r\n    const { preview, activeTab } = this.state;\r\n    return (\r\n      <ToolLayout>\r\n        {preview ? <Preview {...this.state} onClose={this.togglePreview} /> : null}\r\n        <div className=\"row\">\r\n          <div className=\"col-10 toolItem\">\r\n            <div className=\"row\">\r\n              <div className={ activeTab===7 ? \"col-md-12\":\"col-md-6\"}>{this.renderMain()}</div>\r\n              <div className=\"col-md-6 mt-2\">{this.renderRight()}</div>\r\n              <ButtonsGroup   \r\n               preview={ () => {\r\n                this.setState({ preview: !preview });\r\n              }}\r\n              backUrl={this.back}\r\n              save={this.onClickSave} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-1 sideBarButtomPanel\">\r\n            <SideBar layout={this.state.toolData.layout} activeTab={this.state.activeTab} onChangeActive={this.onChangeActive} />\r\n          </div>\r\n        </div>\r\n      </ToolLayout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}