{"ast":null,"code":"import React,{Component}from\"react\";import DropDown from\"../comman/DropDown\";import{Info}from\"../comman/Info\";import ToolUtil,{getCodeOptions}from\"../../utils/ToolUtil\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Code extends Component{constructor(){super(...arguments);this.options=getCodeOptions();this.state={include:this.props.include,exclude:ToolUtil.isUpgrade1&&window.isAdvancedOpt?this.props.exclude:[]};this.onDropDownChange1=(e,index)=>{if(!index)index=0;this.state.include[index].type=e;};this.onDropDownChange2=(e,index)=>{if(!index)index=0;this.state.exclude[index].type=e;};this.onItemChange1=(index,e)=>{this.state.include[index].url=e.target.value;this.setState({include:this.state.include});};this.onItemChange2=(index,e)=>{this.state.exclude[index].url=e.target.value;this.setState({exclude:this.state.exclude});};this.onAddClick=typ=>{const cases=this.props.case||1;const{include,exclude}=this.state;if(typ===1){include.push({type:\"contains\",url:\"\"});this.setState({include});}else{exclude.push({type:\"contains\",url:\"\"});this.setState({exclude});}this.props.onChange(this.state);};this.onRemoveClick=(typ,index)=>{const cases=this.props.case||1;const include=this.state.include||[{type:\"contains\",url:\"\"}];const exclude=this.state.exclude||[{type:\"contains\",url:\"\"}];if(typ===1){include.splice(index,1);this.setState({include});}else{exclude.splice(index,1);this.setState({exclude});}this.props.onChange(this.state);};this.renderInClude=(item,index)=>{const{include}=this.state;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(DropDown,{options:this.options,index:index,onChange:this.onDropDownChange1,value:item.type,className:\"dropdown-style\",style:{width:\"\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(TextInput,{index:index,typeN:1,onAddClick:this.onAddClick,onRemoveClick:this.onRemoveClick,size:include.length,onChange:this.onItemChange1,value:item.url})})]},index);};this.renderExclude=(item,index)=>{const{exclude}=this.state;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(DropDown,{options:this.options,index:index,onChange:this.onDropDownChange2,value:item.type,className:\"dropdown-style\",style:{width:\"\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(TextInput,{index:index,typeN:2,onAddClick:this.onAddClick,onRemoveClick:this.onRemoveClick,size:exclude.length,onChange:this.onItemChange2,value:item.url})})]},index);};}componentWillUnmount(){const cases=this.props.cases||1;this.props.onChange(this.state);}render(){const include=this.state.include||[{type:\"contains\",url:\"\"}];const exclude=this.state.exclude||[{type:\"contains\",url:\"\"}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"label-text\",children:[\"URL Settings*\",/*#__PURE__*/_jsx(Info,{text:\"Enter url for trigger Campaign\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"Include\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:include.map(this.renderInClude)}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"label-text\",children:\"Exclude\"}),exclude.length?/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[exclude.map(this.renderExclude),/*#__PURE__*/_jsx(\"div\",{className:\"w-100\"})]}):/*#__PURE__*/_jsx(\"div\",{children:\"You Need to Upgrade\"})]})]});}}const TextInput=props=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"code-input-block \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:props.value?props.value:\"\",className:\"form-control\",onChange:e=>props.onChange(props.index,e)}),/*#__PURE__*/_jsx(\"div\",{className:\"code-plusIcon\",children:props.size-1===props.index?/*#__PURE__*/_jsx(\"i\",{onClick:()=>props.onAddClick(props.typeN),className:\"fa fa-plus-circle\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"i\",{onClick:()=>props.onRemoveClick(props.typeN,props.index),className:\"fa fa-minus-circle\",\"aria-hidden\":\"true\"})})]});};","map":{"version":3,"sources":["/opt/bitnami/apache/htdocs/converzee-frontend/src/components/OptinForm/Code.js"],"names":["React","Component","DropDown","Info","ToolUtil","getCodeOptions","Code","options","state","include","props","exclude","isUpgrade1","window","isAdvancedOpt","onDropDownChange1","e","index","type","onDropDownChange2","onItemChange1","url","target","value","setState","onItemChange2","onAddClick","typ","cases","case","push","onChange","onRemoveClick","splice","renderInClude","item","width","length","renderExclude","componentWillUnmount","render","map","TextInput","size","typeN"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport DropDown from \"../comman/DropDown\";\r\nimport { Info } from \"../comman/Info\";\r\nimport ToolUtil, { getCodeOptions } from \"../../utils/ToolUtil\";\r\nexport default class Code extends Component {\r\n  options = getCodeOptions();\r\n  state = {\r\n    include: this.props.include,\r\n    exclude: (ToolUtil.isUpgrade1 && window.isAdvancedOpt) ? this.props.exclude : [],\r\n  };\r\n\r\n  onDropDownChange1 = (e, index) => {\r\n    if (!index) index = 0;\r\n    this.state.include[index].type = e;\r\n  };\r\n\r\n  onDropDownChange2 = (e, index) => {\r\n    if (!index) index = 0;\r\n    this.state.exclude[index].type = e;\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    const cases = this.props.cases || 1;\r\n    this.props.onChange(this.state);\r\n  }\r\n\r\n  onItemChange1 = (index, e) => {\r\n    this.state.include[index].url = e.target.value;\r\n    this.setState({ include: this.state.include });\r\n  };\r\n\r\n  onItemChange2 = (index, e) => {\r\n    this.state.exclude[index].url = e.target.value;\r\n    this.setState({ exclude: this.state.exclude });\r\n  };\r\n\r\n  onAddClick = (typ) => {\r\n    const cases = this.props.case || 1;\r\n    const { include, exclude } = this.state;\r\n    if (typ === 1) {\r\n      include.push({ type: \"contains\", url: \"\" });\r\n      this.setState({ include });\r\n    } else {\r\n      exclude.push({ type: \"contains\", url: \"\" });\r\n      this.setState({ exclude });\r\n    }\r\n    this.props.onChange(this.state);\r\n  };\r\n\r\n  onRemoveClick = (typ, index) => {\r\n    const cases = this.props.case || 1;\r\n    const include = this.state.include || [{ type: \"contains\", url: \"\" }];\r\n    const exclude = this.state.exclude || [{ type: \"contains\", url: \"\" }];\r\n    if (typ === 1) {\r\n      include.splice(index, 1);\r\n      this.setState({ include });\r\n    } else {\r\n      exclude.splice(index, 1);\r\n      this.setState({ exclude });\r\n    }\r\n    this.props.onChange(this.state);\r\n  };\r\n\r\n  renderInClude = (item, index) => {\r\n    const { include } = this.state;\r\n    return (\r\n      <React.Fragment key={index}>\r\n        <div className=\"col-4\">\r\n          <DropDown options={this.options} index={index} onChange={this.onDropDownChange1} value={item.type} className=\"dropdown-style\" style={{ width: \"\" }} />\r\n        </div>\r\n        <div className=\"col-8\">\r\n          <TextInput index={index} typeN={1} onAddClick={this.onAddClick} onRemoveClick={this.onRemoveClick} size={include.length} onChange={this.onItemChange1} value={item.url} />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  renderExclude = (item, index) => {\r\n    const { exclude } = this.state;\r\n    return (\r\n      <React.Fragment key={index}>\r\n        <div className=\"col-4\">\r\n          <DropDown options={this.options} index={index} onChange={this.onDropDownChange2} value={item.type} className=\"dropdown-style\" style={{ width: \"\" }} />\r\n        </div>\r\n        <div className=\"col-8\">\r\n          <TextInput index={index} typeN={2} onAddClick={this.onAddClick} onRemoveClick={this.onRemoveClick} size={exclude.length} onChange={this.onItemChange2} value={item.url} />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const include = this.state.include || [{ type: \"contains\", url: \"\" }];\r\n    const exclude = this.state.exclude || [{ type: \"contains\", url: \"\" }];\r\n    return (\r\n      <div>\r\n        <div className=\"label-text\">\r\n          URL Settings*\r\n          <Info text=\"Enter url for trigger Campaign\" />\r\n        </div>\r\n        <div className=\"container\">\r\n          <div className=\"label-text\">Include</div>\r\n          <div className=\"row\">{include.map(this.renderInClude)}</div>\r\n          <div className=\"w-100\"></div>\r\n          <div className=\"label-text\">Exclude</div>\r\n          {exclude.length ? (\r\n            <div className=\"row\">\r\n              {exclude.map(this.renderExclude)}\r\n              <div className=\"w-100\"></div>\r\n            </div>\r\n          ) : (\r\n            <div>You Need to Upgrade</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst TextInput = (props) => {\r\n  return (\r\n    <div className=\"code-input-block \">\r\n      <input type=\"text\" value={props.value ? props.value : \"\"} className=\"form-control\" onChange={(e) => props.onChange(props.index, e)} />\r\n      <div className=\"code-plusIcon\">\r\n        {props.size - 1 === props.index ? (\r\n          <i onClick={() => props.onAddClick(props.typeN)} className=\"fa fa-plus-circle\" aria-hidden=\"true\" />\r\n        ) : (\r\n          <i onClick={() => props.onRemoveClick(props.typeN, props.index)} className=\"fa fa-minus-circle\" aria-hidden=\"true\" />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}